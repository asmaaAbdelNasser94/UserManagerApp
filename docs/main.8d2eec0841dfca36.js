"use strict";(self.webpackChunkUser_Manager=self.webpackChunkUser_Manager||[]).push([[179],{2011:(wt,Ae,V)=>{V.d(Ae,{Dh:()=>Ee,GT:()=>re,cc:()=>Me,hO:()=>je,on:()=>W,pX:()=>ue,xv:()=>Ce});var l=V(4650),j=V(9260),F=V(4976);wt=V.hmd(wt);const oe=["ngOnDestroy"],ue=(Oe,Fe,He,Se={})=>new Proxy(Oe,{get:(Te,Ne)=>He.runOutsideAngular(()=>{var ze;if(Oe[Ne])return!(null===(ze=Se?.spy)||void 0===ze)&&ze.get&&Se.spy.get(Ne,Oe[Ne]),Oe[Ne];if(oe.indexOf(Ne)>-1)return()=>{};const Le=Fe.toPromise().then(ce=>{const it=ce&&ce[Ne];return"function"==typeof it?it.bind(ce):it&&it.then?it.then(St=>He.run(()=>St)):He.run(()=>it)});return new Proxy(()=>{},{get:(ce,it)=>Le[it],apply:(ce,it,St)=>Le.then(lt=>{var Zt;const ft=lt&&lt(...St);return!(null===(Zt=Se?.spy)||void 0===Zt)&&Zt.apply&&Se.spy.apply(Ne,St,ft),ft})})})}),re=(Oe,Fe)=>{Fe.forEach(He=>{Object.getOwnPropertyNames(He.prototype||He).forEach(Se=>{Object.defineProperty(Oe.prototype,Se,Object.getOwnPropertyDescriptor(He.prototype||He,Se))})})};class Ie{constructor(Fe){return Fe}}const Ee=new l.OlP("angularfire2.app.options"),Ce=new l.OlP("angularfire2.app.name");function W(Oe,Fe,He){const Te="object"==typeof He&&He||{};Te.name=Te.name||"string"==typeof He&&He||"[DEFAULT]";const ze=j.Z.apps.filter(Le=>Le&&Le.name===Te.name)[0]||Fe.runOutsideAngular(()=>j.Z.initializeApp(Oe,Te));try{JSON.stringify(Oe)!==JSON.stringify(ze.options)&&q("error",`${ze.name} Firebase App already initialized with different options${wt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Ie(ze)}const q=(Oe,...Fe)=>{(0,l.X6Q)()&&typeof console<"u"&&console[Oe](...Fe)},te={provide:Ie,useFactory:W,deps:[Ee,l.R0b,[new l.FiY,Ce]]};let je=(()=>{class Oe{constructor(He){j.Z.registerVersion("angularfire",F.q4.full,"core"),j.Z.registerVersion("angularfire",F.q4.full,"app-compat"),j.Z.registerVersion("angular",l.q4F.full,He.toString())}static initializeApp(He,Se){return{ngModule:Oe,providers:[{provide:Ee,useValue:He},{provide:Ce,useValue:Se}]}}}return Oe.\u0275fac=function(He){return new(He||Oe)(l.LFG(l.Lbi))},Oe.\u0275mod=l.oAB({type:Oe}),Oe.\u0275inj=l.cJS({providers:[te]}),Oe})();function Me(Oe,Fe,He,Se,Te){const[,Ne,ze]=globalThis.\u0275AngularfireInstanceCache.find(Le=>Le[0]===Oe)||[];if(Ne)return function Ke(Oe,Fe){try{return Oe.toString()===Fe.toString()}catch{return Oe===Fe}}(Te,ze)||(we("error",`${Fe} was already initialized on the ${He} Firebase App with different settings.${at?" You may need to reload as Firebase is not HMR aware.":""}`),we("warn",{is:Te,was:ze})),Ne;{const Le=Se();return globalThis.\u0275AngularfireInstanceCache.push([Oe,Le,Te]),Le}}const at=!!wt.hot,we=(Oe,...Fe)=>{(0,l.X6Q)()&&typeof console<"u"&&console[Oe](...Fe)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4976:(wt,Ae,V)=>{V.d(Ae,{q4:()=>Zn,iC:()=>Tc,HU:()=>ka,vb:()=>Ph,JM:()=>Ws,u3:()=>Ac});var l=V(4650),j=V(259),F=V(5861),oe=V(6881),ue=V(2090),re=V(4859),Ie=V(1877);const Ee=(w,D)=>D.some(S=>w instanceof S);let Ce,W;const je=new WeakMap,Me=new WeakMap,Ke=new WeakMap,at=new WeakMap,we=new WeakMap;let He={get(w,D,S){if(w instanceof IDBTransaction){if("done"===D)return Me.get(w);if("objectStoreNames"===D)return w.objectStoreNames||Ke.get(w);if("store"===D)return S.objectStoreNames[1]?void 0:S.objectStore(S.objectStoreNames[0])}return ze(w[D])},set:(w,D,S)=>(w[D]=S,!0),has:(w,D)=>w instanceof IDBTransaction&&("done"===D||"store"===D)||D in w};function Ne(w){return"function"==typeof w?function Te(w){return w!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function te(){return W||(W=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(w)?function(...D){return w.apply(Le(this),D),ze(je.get(this))}:function(...D){return ze(w.apply(Le(this),D))}:function(D,...S){const B=w.call(Le(this),D,...S);return Ke.set(B,D.sort?D.sort():[D]),ze(B)}}(w):(w instanceof IDBTransaction&&function Fe(w){if(Me.has(w))return;const D=new Promise((S,B)=>{const K=()=>{w.removeEventListener("complete",X),w.removeEventListener("error",fe),w.removeEventListener("abort",fe)},X=()=>{S(),K()},fe=()=>{B(w.error||new DOMException("AbortError","AbortError")),K()};w.addEventListener("complete",X),w.addEventListener("error",fe),w.addEventListener("abort",fe)});Me.set(w,D)}(w),Ee(w,function q(){return Ce||(Ce=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(w,He):w)}function ze(w){if(w instanceof IDBRequest)return function Oe(w){const D=new Promise((S,B)=>{const K=()=>{w.removeEventListener("success",X),w.removeEventListener("error",fe)},X=()=>{S(ze(w.result)),K()},fe=()=>{B(w.error),K()};w.addEventListener("success",X),w.addEventListener("error",fe)});return D.then(S=>{S instanceof IDBCursor&&je.set(S,w)}).catch(()=>{}),we.set(D,w),D}(w);if(at.has(w))return at.get(w);const D=Ne(w);return D!==w&&(at.set(w,D),we.set(D,w)),D}const Le=w=>we.get(w),St=["get","getKey","getAll","getAllKeys","count"],lt=["put","add","delete","clear"],Zt=new Map;function ft(w,D){if(!(w instanceof IDBDatabase)||D in w||"string"!=typeof D)return;if(Zt.get(D))return Zt.get(D);const S=D.replace(/FromIndex$/,""),B=D!==S,K=lt.includes(S);if(!(S in(B?IDBIndex:IDBObjectStore).prototype)||!K&&!St.includes(S))return;const X=function(){var fe=(0,F.Z)(function*(Ze,...We){const mt=this.transaction(Ze,K?"readwrite":"readonly");let kt=mt.store;return B&&(kt=kt.index(We.shift())),(yield Promise.all([kt[S](...We),K&&mt.done]))[0]});return function(We){return fe.apply(this,arguments)}}();return Zt.set(D,X),X}!function Se(w){He=w(He)}(w=>({...w,get:(D,S,B)=>ft(D,S)||w.get(D,S,B),has:(D,S)=>!!ft(D,S)||w.has(D,S)}));const Do="@firebase/installations",Er="0.6.4",Ci=1e4,io=`w:${Er}`,he="FIS_v2",ge="https://firebaseinstallations.googleapis.com/v1",be=36e5,ut=new ue.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function dt(w){return w instanceof ue.ZR&&w.code.includes("request-failed")}function hn({projectId:w}){return`${ge}/projects/${w}/installations`}function xt(w){return{token:w.token,requestStatus:2,expiresIn:dr(w.expiresIn),creationTime:Date.now()}}function sn(w,D){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,F.Z)(function*(w,D){const B=(yield D.json()).error;return ut.create("request-failed",{requestName:w,serverCode:B.code,serverMessage:B.message,serverStatus:B.status})})).apply(this,arguments)}function gn({apiKey:w}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":w})}function Fn(w){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,F.Z)(function*(w){const D=yield w();return D.status>=500&&D.status<600?w():D})).apply(this,arguments)}function dr(w){return Number(w.replace("s","000"))}function _t(){return(_t=(0,F.Z)(function*({appConfig:w,heartbeatServiceProvider:D},{fid:S}){const B=hn(w),K=gn(w),X=D.getImmediate({optional:!0});if(X){const mt=yield X.getHeartbeatsHeader();mt&&K.append("x-firebase-client",mt)}const Ze={method:"POST",headers:K,body:JSON.stringify({fid:S,authVersion:he,appId:w.appId,sdkVersion:io})},We=yield Fn(()=>fetch(B,Ze));if(We.ok){const mt=yield We.json();return{fid:mt.fid||S,registrationStatus:2,refreshToken:mt.refreshToken,authToken:xt(mt.authToken)}}throw yield sn("Create Installation",We)})).apply(this,arguments)}function $n(w){return new Promise(D=>{setTimeout(D,w)})}const Qn=/^[cdef][\w-]{21}$/,Wr="";function ni(){try{const w=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(w),w[0]=112+w[0]%16;const S=function fn(w){return function oo(w){return btoa(String.fromCharCode(...w)).replace(/\+/g,"-").replace(/\//g,"_")}(w).substr(0,22)}(w);return Qn.test(S)?S:Wr}catch{return Wr}}function Kt(w){return`${w.appName}!${w.appId}`}const pt=new Map;function Vt(w,D){const S=Kt(w);Gn(S,D),function fi(w,D){const S=function Cr(){return!qn&&"BroadcastChannel"in self&&(qn=new BroadcastChannel("[Firebase] FID Change"),qn.onmessage=w=>{Gn(w.data.key,w.data.fid)}),qn}();S&&S.postMessage({key:w,fid:D}),function Xt(){0===pt.size&&qn&&(qn.close(),qn=null)}()}(S,D)}function Gn(w,D){const S=pt.get(w);if(S)for(const B of S)B(D)}let qn=null;const Fi="firebase-installations-database",on=1,pi="firebase-installations-store";let zt=null;function Xn(){return zt||(zt=function ce(w,D,{blocked:S,upgrade:B,blocking:K,terminated:X}={}){const fe=indexedDB.open(w,D),Ze=ze(fe);return B&&fe.addEventListener("upgradeneeded",We=>{B(ze(fe.result),We.oldVersion,We.newVersion,ze(fe.transaction))}),S&&fe.addEventListener("blocked",()=>S()),Ze.then(We=>{X&&We.addEventListener("close",()=>X()),K&&We.addEventListener("versionchange",()=>K())}).catch(()=>{}),Ze}(Fi,on,{upgrade:(w,D)=>{0===D&&w.createObjectStore(pi)}})),zt}function Ln(w,D){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,F.Z)(function*(w,D){const S=Kt(w),K=(yield Xn()).transaction(pi,"readwrite"),X=K.objectStore(pi),fe=yield X.get(S);return yield X.put(D,S),yield K.done,(!fe||fe.fid!==D.fid)&&Vt(w,D.fid),D})).apply(this,arguments)}function er(w){return ri.apply(this,arguments)}function ri(){return(ri=(0,F.Z)(function*(w){const D=Kt(w),B=(yield Xn()).transaction(pi,"readwrite");yield B.objectStore(pi).delete(D),yield B.done})).apply(this,arguments)}function Zr(w,D){return ii.apply(this,arguments)}function ii(){return(ii=(0,F.Z)(function*(w,D){const S=Kt(w),K=(yield Xn()).transaction(pi,"readwrite"),X=K.objectStore(pi),fe=yield X.get(S),Ze=D(fe);return void 0===Ze?yield X.delete(S):yield X.put(Ze,S),yield K.done,Ze&&(!fe||fe.fid!==Ze.fid)&&Vt(w,Ze.fid),Ze})).apply(this,arguments)}function G(w){return z.apply(this,arguments)}function z(){return z=(0,F.Z)(function*(w){let D;const S=yield Zr(w.appConfig,B=>{const K=function P(w){return Tt(w||{fid:ni(),registrationStatus:0})}(B),X=function L(w,D){if(0===D.registrationStatus){if(!navigator.onLine)return{installationEntry:D,registrationPromise:Promise.reject(ut.create("app-offline"))};const S={fid:D.fid,registrationStatus:1,registrationTime:Date.now()},B=function k(w,D){return Y.apply(this,arguments)}(w,S);return{installationEntry:S,registrationPromise:B}}return 1===D.registrationStatus?{installationEntry:D,registrationPromise:xe(w)}:{installationEntry:D}}(w,K);return D=X.registrationPromise,X.installationEntry});return S.fid===Wr?{installationEntry:yield D}:{installationEntry:S,registrationPromise:D}}),z.apply(this,arguments)}function Y(){return Y=(0,F.Z)(function*(w,D){try{const S=yield function Yn(w,D){return _t.apply(this,arguments)}(w,D);return Ln(w.appConfig,S)}catch(S){throw dt(S)&&409===S.customData.serverCode?yield er(w.appConfig):yield Ln(w.appConfig,{fid:D.fid,registrationStatus:0}),S}}),Y.apply(this,arguments)}function xe(w){return ot.apply(this,arguments)}function ot(){return(ot=(0,F.Z)(function*(w){let D=yield At(w.appConfig);for(;1===D.registrationStatus;)yield $n(100),D=yield At(w.appConfig);if(0===D.registrationStatus){const{installationEntry:S,registrationPromise:B}=yield G(w);return B||S}return D})).apply(this,arguments)}function At(w){return Zr(w,D=>{if(!D)throw ut.create("installation-not-found");return Tt(D)})}function Tt(w){return function Yt(w){return 1===w.registrationStatus&&w.registrationTime+Ci<Date.now()}(w)?{fid:w.fid,registrationStatus:0}:w}function Tn(){return(Tn=(0,F.Z)(function*({appConfig:w,heartbeatServiceProvider:D},S){const B=function $t(w,{fid:D}){return`${hn(w)}/${D}/authTokens:generate`}(w,S),K=function ur(w,{refreshToken:D}){const S=gn(w);return S.append("Authorization",function Di(w){return`${he} ${w}`}(D)),S}(w,S),X=D.getImmediate({optional:!0});if(X){const mt=yield X.getHeartbeatsHeader();mt&&K.append("x-firebase-client",mt)}const Ze={method:"POST",headers:K,body:JSON.stringify({installation:{sdkVersion:io,appId:w.appId}})},We=yield Fn(()=>fetch(B,Ze));if(We.ok)return xt(yield We.json());throw yield sn("Generate Auth Token",We)})).apply(this,arguments)}function Dr(w){return xo.apply(this,arguments)}function xo(){return xo=(0,F.Z)(function*(w,D=!1){let S;const B=yield Zr(w.appConfig,X=>{if(!en(X))throw ut.create("not-registered");const fe=X.authToken;if(!D&&function Et(w){return 2===w.requestStatus&&!function yn(w){const D=Date.now();return D<w.creationTime||w.creationTime+w.expiresIn<D+be}(w)}(fe))return X;if(1===fe.requestStatus)return S=function _e(w,D){return ae.apply(this,arguments)}(w,D),X;{if(!navigator.onLine)throw ut.create("app-offline");const Ze=function ln(w){const D={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},w),{authToken:D})}(X);return S=function bt(w,D){return Mt.apply(this,arguments)}(w,Ze),Ze}});return S?yield S:B.authToken}),xo.apply(this,arguments)}function ae(){return(ae=(0,F.Z)(function*(w,D){let S=yield Ve(w.appConfig);for(;1===S.authToken.requestStatus;)yield $n(100),S=yield Ve(w.appConfig);const B=S.authToken;return 0===B.requestStatus?Dr(w,D):B})).apply(this,arguments)}function Ve(w){return Zr(w,D=>{if(!en(D))throw ut.create("not-registered");return function Kr(w){return 1===w.requestStatus&&w.requestTime+Ci<Date.now()}(D.authToken)?Object.assign(Object.assign({},D),{authToken:{requestStatus:0}}):D})}function Mt(){return Mt=(0,F.Z)(function*(w,D){try{const S=yield function Rt(w,D){return Tn.apply(this,arguments)}(w,D),B=Object.assign(Object.assign({},D),{authToken:S});return yield Ln(w.appConfig,B),S}catch(S){if(!dt(S)||401!==S.customData.serverCode&&404!==S.customData.serverCode){const B=Object.assign(Object.assign({},D),{authToken:{requestStatus:0}});yield Ln(w.appConfig,B)}else yield er(w.appConfig);throw S}}),Mt.apply(this,arguments)}function en(w){return void 0!==w&&2===w.registrationStatus}function Xl(){return(Xl=(0,F.Z)(function*(w){const D=w,{installationEntry:S,registrationPromise:B}=yield G(D);return B?B.catch(console.error):Dr(D).catch(console.error),S.fid})).apply(this,arguments)}function Ts(){return Ts=(0,F.Z)(function*(w,D=!1){const S=w;return yield function Ir(w){return tt.apply(this,arguments)}(S),(yield Dr(S,D)).token}),Ts.apply(this,arguments)}function tt(){return(tt=(0,F.Z)(function*(w){const{registrationPromise:D}=yield G(w);D&&(yield D)})).apply(this,arguments)}function mi(w){return ut.create("missing-app-config-values",{valueName:w})}const Wt="installations",Pi=w=>{const D=w.getProvider("app").getImmediate(),S=function rl(w){if(!w||!w.options)throw mi("App Configuration");if(!w.name)throw mi("App Name");const D=["projectId","apiKey","appId"];for(const S of D)if(!w.options[S])throw mi(S);return{appName:w.name,projectId:w.options.projectId,apiKey:w.options.apiKey,appId:w.options.appId}}(D);return{app:D,appConfig:S,heartbeatServiceProvider:(0,oe._getProvider)(D,"heartbeat"),_delete:()=>Promise.resolve()}},ua=w=>{const D=w.getProvider("app").getImmediate(),S=(0,oe._getProvider)(D,Wt).getImmediate();return{getId:()=>function xr(w){return Xl.apply(this,arguments)}(S),getToken:K=>function cp(w){return Ts.apply(this,arguments)}(S,K)}};(function Io(){(0,oe._registerComponent)(new re.wA(Wt,Pi,"PUBLIC")),(0,oe._registerComponent)(new re.wA("installations-internal",ua,"PRIVATE"))})(),(0,oe.registerVersion)(Do,Er),(0,oe.registerVersion)(Do,Er,"esm2017");const hr="@firebase/remote-config",Sr=new ue.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class tg{constructor(D,S,B,K){this.client=D,this.storage=S,this.storageCache=B,this.logger=K}isCachedDataFresh(D,S){if(!S)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const B=Date.now()-S,K=B<=D;return this.logger.debug(`Config fetch cache check. Cache age millis: ${B}. Cache max age millis (minimumFetchIntervalMillis setting): ${D}. Is cache hit: ${K}.`),K}fetch(D){var S=this;return(0,F.Z)(function*(){const[B,K]=yield Promise.all([S.storage.getLastSuccessfulFetchTimestampMillis(),S.storage.getLastSuccessfulFetchResponse()]);if(K&&S.isCachedDataFresh(D.cacheMaxAgeMillis,B))return K;D.eTag=K&&K.eTag;const X=yield S.client.fetch(D),fe=[S.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===X.status&&fe.push(S.storage.setLastSuccessfulFetchResponse(X)),yield Promise.all(fe),X})()}}function Jd(w=navigator){return w.languages&&w.languages[0]||w.language}class up{constructor(D,S,B,K,X,fe){this.firebaseInstallations=D,this.sdkVersion=S,this.namespace=B,this.projectId=K,this.apiKey=X,this.appId=fe}fetch(D){var S=this;return(0,F.Z)(function*(){const[B,K]=yield Promise.all([S.firebaseInstallations.getId(),S.firebaseInstallations.getToken()]),fe=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${S.projectId}/namespaces/${S.namespace}:fetch?key=${S.apiKey}`,Ze={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":D.eTag||"*"},We={sdk_version:S.sdkVersion,app_instance_id:B,app_instance_id_token:K,app_id:S.appId,language_code:Jd()},mt={method:"POST",headers:Ze,body:JSON.stringify(We)},kt=fetch(fe,mt),Ot=new Promise((yi,Ti)=>{D.signal.addEventListener(()=>{const Vh=new Error("The operation was aborted.");Vh.name="AbortError",Ti(Vh)})});let Rr;try{yield Promise.race([kt,Ot]),Rr=yield kt}catch(yi){let Ti="fetch-client-network";throw"AbortError"===yi?.name&&(Ti="fetch-timeout"),Sr.create(Ti,{originalErrorMessage:yi?.message})}let yr=Rr.status;const Vo=Rr.headers.get("ETag")||void 0;let Il,gs;if(200===Rr.status){let yi;try{yi=yield Rr.json()}catch(Ti){throw Sr.create("fetch-client-parse",{originalErrorMessage:Ti?.message})}Il=yi.entries,gs=yi.state}if("INSTANCE_STATE_UNSPECIFIED"===gs?yr=500:"NO_CHANGE"===gs?yr=304:("NO_TEMPLATE"===gs||"EMPTY_CONFIG"===gs)&&(Il={}),304!==yr&&200!==yr)throw Sr.create("fetch-status",{httpStatus:yr});return{status:yr,eTag:Vo,config:Il}})()}}class eh{constructor(D,S){this.client=D,this.storage=S}fetch(D){var S=this;return(0,F.Z)(function*(){const B=(yield S.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return S.attemptFetch(D,B)})()}attemptFetch(D,{throttleEndTimeMillis:S,backoffCount:B}){var K=this;return(0,F.Z)(function*(){yield function Xd(w,D){return new Promise((S,B)=>{const K=Math.max(D-Date.now(),0),X=setTimeout(S,K);w.addEventListener(()=>{clearTimeout(X),B(Sr.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(D.signal,S);try{const X=yield K.client.fetch(D);return yield K.storage.deleteThrottleMetadata(),X}catch(X){if(!function ng(w){if(!(w instanceof ue.ZR&&w.customData))return!1;const D=Number(w.customData.httpStatus);return 429===D||500===D||503===D||504===D}(X))throw X;const fe={throttleEndTimeMillis:Date.now()+(0,ue.$s)(B),backoffCount:B+1};return yield K.storage.setThrottleMetadata(fe),K.attemptFetch(D,fe)}})()}}class dp{constructor(D,S,B,K,X){this.app=D,this._client=S,this._storageCache=B,this._storage=K,this._logger=X,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function rs(w,D){const S=w.target.error||void 0;return Sr.create(D,{originalErrorMessage:S&&S?.message})}const To="app_namespace_store";class rh{constructor(D,S,B,K=function fp(){return new Promise((w,D)=>{try{const S=indexedDB.open("firebase_remote_config",1);S.onerror=B=>{D(rs(B,"storage-open"))},S.onsuccess=B=>{w(B.target.result)},S.onupgradeneeded=B=>{0===B.oldVersion&&B.target.result.createObjectStore(To,{keyPath:"compositeKey"})}}catch(S){D(Sr.create("storage-open",{originalErrorMessage:S?.message}))}})}()){this.appId=D,this.appName=S,this.namespace=B,this.openDbPromise=K}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(D){return this.set("last_fetch_status",D)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(D){return this.set("last_successful_fetch_timestamp_millis",D)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(D){return this.set("last_successful_fetch_response",D)}getActiveConfig(){return this.get("active_config")}setActiveConfig(D){return this.set("active_config",D)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(D){return this.set("active_config_etag",D)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(D){return this.set("throttle_metadata",D)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(D){var S=this;return(0,F.Z)(function*(){const B=yield S.openDbPromise;return new Promise((K,X)=>{const Ze=B.transaction([To],"readonly").objectStore(To),We=S.createCompositeKey(D);try{const mt=Ze.get(We);mt.onerror=kt=>{X(rs(kt,"storage-get"))},mt.onsuccess=kt=>{const Ot=kt.target.result;K(Ot?Ot.value:void 0)}}catch(mt){X(Sr.create("storage-get",{originalErrorMessage:mt?.message}))}})})()}set(D,S){var B=this;return(0,F.Z)(function*(){const K=yield B.openDbPromise;return new Promise((X,fe)=>{const We=K.transaction([To],"readwrite").objectStore(To),mt=B.createCompositeKey(D);try{const kt=We.put({compositeKey:mt,value:S});kt.onerror=Ot=>{fe(rs(Ot,"storage-set"))},kt.onsuccess=()=>{X()}}catch(kt){fe(Sr.create("storage-set",{originalErrorMessage:kt?.message}))}})})()}delete(D){var S=this;return(0,F.Z)(function*(){const B=yield S.openDbPromise;return new Promise((K,X)=>{const Ze=B.transaction([To],"readwrite").objectStore(To),We=S.createCompositeKey(D);try{const mt=Ze.delete(We);mt.onerror=kt=>{X(rs(kt,"storage-delete"))},mt.onsuccess=()=>{K()}}catch(mt){X(Sr.create("storage-delete",{originalErrorMessage:mt?.message}))}})})()}createCompositeKey(D){return[this.appId,this.appName,this.namespace,D].join()}}class is{constructor(D){this.storage=D}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var D=this;return(0,F.Z)(function*(){const S=D.storage.getLastFetchStatus(),B=D.storage.getLastSuccessfulFetchTimestampMillis(),K=D.storage.getActiveConfig(),X=yield S;X&&(D.lastFetchStatus=X);const fe=yield B;fe&&(D.lastSuccessfulFetchTimestampMillis=fe);const Ze=yield K;Ze&&(D.activeConfig=Ze)})()}setLastFetchStatus(D){return this.lastFetchStatus=D,this.storage.setLastFetchStatus(D)}setLastSuccessfulFetchTimestampMillis(D){return this.lastSuccessfulFetchTimestampMillis=D,this.storage.setLastSuccessfulFetchTimestampMillis(D)}setActiveConfig(D){return this.activeConfig=D,this.storage.setActiveConfig(D)}}function oh(){return nc.apply(this,arguments)}function nc(){return(nc=(0,F.Z)(function*(){if(!(0,ue.hl)())return!1;try{return yield(0,ue.eu)()}catch{return!1}})).apply(this,arguments)}!function fa(){(0,oe._registerComponent)(new re.wA("remote-config",function w(D,{instanceIdentifier:S}){const B=D.getProvider("app").getImmediate(),K=D.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Sr.create("registration-window");if(!(0,ue.hl)())throw Sr.create("indexed-db-unavailable");const{projectId:X,apiKey:fe,appId:Ze}=B.options;if(!X)throw Sr.create("registration-project-id");if(!fe)throw Sr.create("registration-api-key");if(!Ze)throw Sr.create("registration-app-id");const We=new rh(Ze,B.name,S=S||"firebase"),mt=new is(We),kt=new Ie.Yd(hr);kt.logLevel=Ie.in.ERROR;const Ot=new up(K,oe.SDK_VERSION,S,X,fe,Ze),Rr=new eh(Ot,We),yr=new tg(Rr,We,mt,kt),Vo=new dp(B,yr,mt,We,kt);return function oi(w){const D=(0,ue.m9)(w);D._initializePromise||(D._initializePromise=D._storageCache.loadFromStorage().then(()=>{D._isInitializationComplete=!0}))}(Vo),Vo},"PUBLIC").setMultipleInstances(!0)),(0,oe.registerVersion)(hr,"0.4.4"),(0,oe.registerVersion)(hr,"0.4.4","esm2017")}();const pp=(w,D)=>D.some(S=>w instanceof S);let os,yu;const pa=new WeakMap,Os=new WeakMap,Vn=new WeakMap,al=new WeakMap,ic=new WeakMap;let Fs={get(w,D,S){if(w instanceof IDBTransaction){if("done"===D)return Os.get(w);if("objectStoreNames"===D)return w.objectStoreNames||Vn.get(w);if("store"===D)return S.objectStoreNames[1]?void 0:S.objectStore(S.objectStoreNames[0])}return si(w[D])},set:(w,D,S)=>(w[D]=S,!0),has:(w,D)=>w instanceof IDBTransaction&&("done"===D||"store"===D)||D in w};function oc(w){return"function"==typeof w?function gp(w){return w!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function mp(){return yu||(yu=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(w)?function(...D){return w.apply(Ar(this),D),si(pa.get(this))}:function(...D){return si(w.apply(Ar(this),D))}:function(D,...S){const B=w.call(Ar(this),D,...S);return Vn.set(B,D.sort?D.sort():[D]),si(B)}}(w):(w instanceof IDBTransaction&&function Ns(w){if(Os.has(w))return;const D=new Promise((S,B)=>{const K=()=>{w.removeEventListener("complete",X),w.removeEventListener("error",fe),w.removeEventListener("abort",fe)},X=()=>{S(),K()},fe=()=>{B(w.error||new DOMException("AbortError","AbortError")),K()};w.addEventListener("complete",X),w.addEventListener("error",fe),w.addEventListener("abort",fe)});Os.set(w,D)}(w),pp(w,function rc(){return os||(os=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(w,Fs):w)}function si(w){if(w instanceof IDBRequest)return function fr(w){const D=new Promise((S,B)=>{const K=()=>{w.removeEventListener("success",X),w.removeEventListener("error",fe)},X=()=>{S(si(w.result)),K()},fe=()=>{B(w.error),K()};w.addEventListener("success",X),w.addEventListener("error",fe)});return D.then(S=>{S instanceof IDBCursor&&pa.set(S,w)}).catch(()=>{}),ic.set(D,w),D}(w);if(al.has(w))return al.get(w);const D=oc(w);return D!==w&&(al.set(w,D),ic.set(D,w)),D}const Ar=w=>ic.get(w);function ll(w,D,{blocked:S,upgrade:B,blocking:K,terminated:X}={}){const fe=indexedDB.open(w,D),Ze=si(fe);return B&&fe.addEventListener("upgradeneeded",We=>{B(si(fe.result),We.oldVersion,We.newVersion,si(fe.transaction))}),S&&fe.addEventListener("blocked",()=>S()),Ze.then(We=>{X&&We.addEventListener("close",()=>X()),K&&We.addEventListener("versionchange",()=>K())}).catch(()=>{}),Ze}function ss(w,{blocked:D}={}){const S=indexedDB.deleteDatabase(w);return D&&S.addEventListener("blocked",()=>D()),si(S).then(()=>{})}const sh=["get","getKey","getAll","getAllKeys","count"],Ao=["put","add","delete","clear"],cl=new Map;function ma(w,D){if(!(w instanceof IDBDatabase)||D in w||"string"!=typeof D)return;if(cl.get(D))return cl.get(D);const S=D.replace(/FromIndex$/,""),B=D!==S,K=Ao.includes(S);if(!(S in(B?IDBIndex:IDBObjectStore).prototype)||!K&&!sh.includes(S))return;const X=function(){var fe=(0,F.Z)(function*(Ze,...We){const mt=this.transaction(Ze,K?"readwrite":"readonly");let kt=mt.store;return B&&(kt=kt.index(We.shift())),(yield Promise.all([kt[S](...We),K&&mt.done]))[0]});return function(We){return fe.apply(this,arguments)}}();return cl.set(D,X),X}!function Vr(w){Fs=w(Fs)}(w=>({...w,get:(D,S,B)=>ma(D,S)||w.get(D,S,B),has:(D,S)=>!!ma(D,S)||w.has(D,S)}));const Ft="/firebase-messaging-sw.js",sc="/firebase-cloud-messaging-push-scope",_p="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",vu="https://fcmregistrations.googleapis.com/v1",bu="google.c.a.c_id",wu="google.c.a.c_l",ah="google.c.a.ts",lh="google.c.a.e";var ye=(()=>{return(w=ye||(ye={})).PUSH_RECEIVED="push-received",w.NOTIFICATION_CLICKED="notification-clicked",ye;var w})();function Bt(w){const D=new Uint8Array(w);return btoa(String.fromCharCode(...D)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Eu(w){const S=(w+"=".repeat((4-w.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),B=atob(S),K=new Uint8Array(B.length);for(let X=0;X<B.length;++X)K[X]=B.charCodeAt(X);return K}const ul="fcm_token_details_db",tr=5,ch="fcm_token_object_Store";function Vi(){return Vi=(0,F.Z)(function*(w){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(X=>X.name).includes(ul))return null;let D=null;return(yield ll(ul,tr,{upgrade:(B=(0,F.Z)(function*(K,X,fe,Ze){var We;if(X<2||!K.objectStoreNames.contains(ch))return;const mt=Ze.objectStore(ch),kt=yield mt.index("fcmSenderId").get(w);if(yield mt.clear(),kt)if(2===X){const Ot=kt;if(!Ot.auth||!Ot.p256dh||!Ot.endpoint)return;D={token:Ot.fcmToken,createTime:null!==(We=Ot.createTime)&&void 0!==We?We:Date.now(),subscriptionOptions:{auth:Ot.auth,p256dh:Ot.p256dh,endpoint:Ot.endpoint,swScope:Ot.swScope,vapidKey:"string"==typeof Ot.vapidKey?Ot.vapidKey:Bt(Ot.vapidKey)}}}else if(3===X){const Ot=kt;D={token:Ot.fcmToken,createTime:Ot.createTime,subscriptionOptions:{auth:Bt(Ot.auth),p256dh:Bt(Ot.p256dh),endpoint:Ot.endpoint,swScope:Ot.swScope,vapidKey:Bt(Ot.vapidKey)}}}else if(4===X){const Ot=kt;D={token:Ot.fcmToken,createTime:Ot.createTime,subscriptionOptions:{auth:Bt(Ot.auth),p256dh:Bt(Ot.p256dh),endpoint:Ot.endpoint,swScope:Ot.swScope,vapidKey:Bt(Ot.vapidKey)}}}}),function(X,fe,Ze,We){return B.apply(this,arguments)})})).close(),yield ss(ul),yield ss("fcm_vapid_details_db"),yield ss("undefined"),function ac(w){if(!w||!w.subscriptionOptions)return!1;const{subscriptionOptions:D}=w;return"number"==typeof w.createTime&&w.createTime>0&&"string"==typeof w.token&&w.token.length>0&&"string"==typeof D.auth&&D.auth.length>0&&"string"==typeof D.p256dh&&D.p256dh.length>0&&"string"==typeof D.endpoint&&D.endpoint.length>0&&"string"==typeof D.swScope&&D.swScope.length>0&&"string"==typeof D.vapidKey&&D.vapidKey.length>0}(D)?D:null;var B}),Vi.apply(this,arguments)}const uh="firebase-messaging-database",dh=1,as="firebase-messaging-store";let _a=null;function Br(){return _a||(_a=ll(uh,dh,{upgrade:(w,D)=>{0===D&&w.createObjectStore(as)}})),_a}function _i(w){return ls.apply(this,arguments)}function ls(){return ls=(0,F.Z)(function*(w){const D=fh(w),B=yield(yield Br()).transaction(as).objectStore(as).get(D);if(B)return B;{const K=yield function ga(w){return Vi.apply(this,arguments)}(w.appConfig.senderId);if(K)return yield Mo(w,K),K}}),ls.apply(this,arguments)}function Mo(w,D){return ao.apply(this,arguments)}function ao(){return(ao=(0,F.Z)(function*(w,D){const S=fh(w),K=(yield Br()).transaction(as,"readwrite");return yield K.objectStore(as).put(D,S),yield K.done,D})).apply(this,arguments)}function Ps(){return(Ps=(0,F.Z)(function*(w){const D=fh(w),B=(yield Br()).transaction(as,"readwrite");yield B.objectStore(as).delete(D),yield B.done})).apply(this,arguments)}function fh({appConfig:w}){return w.appId}const nr=new ue.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function lc(w,D){return dl.apply(this,arguments)}function dl(){return(dl=(0,F.Z)(function*(w,D){const S=yield hl(w),B=uc(D),K={method:"POST",headers:S,body:JSON.stringify(B)};let X;try{X=yield(yield fetch(Cu(w.appConfig),K)).json()}catch(fe){throw nr.create("token-subscribe-failed",{errorInfo:fe?.toString()})}if(X.error)throw nr.create("token-subscribe-failed",{errorInfo:X.error.message});if(!X.token)throw nr.create("token-subscribe-no-token");return X.token})).apply(this,arguments)}function cc(){return(cc=(0,F.Z)(function*(w,D){const S=yield hl(w),B=uc(D.subscriptionOptions),K={method:"PATCH",headers:S,body:JSON.stringify(B)};let X;try{X=yield(yield fetch(`${Cu(w.appConfig)}/${D.token}`,K)).json()}catch(fe){throw nr.create("token-update-failed",{errorInfo:fe?.toString()})}if(X.error)throw nr.create("token-update-failed",{errorInfo:X.error.message});if(!X.token)throw nr.create("token-update-no-token");return X.token})).apply(this,arguments)}function mh(w,D){return ya.apply(this,arguments)}function ya(){return(ya=(0,F.Z)(function*(w,D){const B={method:"DELETE",headers:yield hl(w)};try{const X=yield(yield fetch(`${Cu(w.appConfig)}/${D}`,B)).json();if(X.error)throw nr.create("token-unsubscribe-failed",{errorInfo:X.error.message})}catch(K){throw nr.create("token-unsubscribe-failed",{errorInfo:K?.toString()})}})).apply(this,arguments)}function Cu({projectId:w}){return`${vu}/projects/${w}/registrations`}function hl(w){return Du.apply(this,arguments)}function Du(){return(Du=(0,F.Z)(function*({appConfig:w,installations:D}){const S=yield D.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":w.apiKey,"x-goog-firebase-installations-auth":`FIS ${S}`})})).apply(this,arguments)}function uc({p256dh:w,auth:D,endpoint:S,vapidKey:B}){const K={web:{endpoint:S,auth:D,p256dh:w}};return B!==_p&&(K.web.applicationPubKey=B),K}const gh=6048e5;function _h(){return _h=(0,F.Z)(function*(w){const D=yield function og(w,D){return vh.apply(this,arguments)}(w.swRegistration,w.vapidKey),S={vapidKey:w.vapidKey,swScope:w.swRegistration.scope,endpoint:D.endpoint,auth:Bt(D.getKey("auth")),p256dh:Bt(D.getKey("p256dh"))},B=yield _i(w.firebaseDependencies);if(B){if(function sg(w,D){return D.vapidKey===w.vapidKey&&D.endpoint===w.endpoint&&D.auth===w.auth&&D.p256dh===w.p256dh}(B.subscriptionOptions,S))return Date.now()>=B.createTime+gh?function On(w,D){return yh.apply(this,arguments)}(w,{token:B.token,createTime:Date.now(),subscriptionOptions:S}):B.token;try{yield mh(w.firebaseDependencies,B.token)}catch(K){console.warn(K)}return va(w.firebaseDependencies,S)}return va(w.firebaseDependencies,S)}),_h.apply(this,arguments)}function lo(){return lo=(0,F.Z)(function*(w){const D=yield _i(w.firebaseDependencies);D&&(yield mh(w.firebaseDependencies,D.token),yield function hh(w){return Ps.apply(this,arguments)}(w.firebaseDependencies));const S=yield w.swRegistration.pushManager.getSubscription();return!S||S.unsubscribe()}),lo.apply(this,arguments)}function yh(){return yh=(0,F.Z)(function*(w,D){try{const S=yield function ph(w,D){return cc.apply(this,arguments)}(w.firebaseDependencies,D),B=Object.assign(Object.assign({},D),{token:S,createTime:Date.now()});return yield Mo(w.firebaseDependencies,B),S}catch(S){throw yield function Yr(w){return lo.apply(this,arguments)}(w),S}}),yh.apply(this,arguments)}function va(w,D){return Iu.apply(this,arguments)}function Iu(){return(Iu=(0,F.Z)(function*(w,D){const B={token:yield lc(w,D),createTime:Date.now(),subscriptionOptions:D};return yield Mo(w,B),B.token})).apply(this,arguments)}function vh(){return(vh=(0,F.Z)(function*(w,D){return(yield w.pushManager.getSubscription())||w.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Eu(D)})})).apply(this,arguments)}function dc(w){const D={from:w.from,collapseKey:w.collapse_key,messageId:w.fcmMessageId};return function Tu(w,D){if(!D.notification)return;w.notification={};const S=D.notification.title;S&&(w.notification.title=S);const B=D.notification.body;B&&(w.notification.body=B);const K=D.notification.image;K&&(w.notification.image=K);const X=D.notification.icon;X&&(w.notification.icon=X)}(D,w),function bh(w,D){D.data&&(w.data=D.data)}(D,w),function wh(w,D){var S,B,K,X,fe;if(!(D.fcmOptions||null!==(S=D.notification)&&void 0!==S&&S.click_action))return;w.fcmOptions={};const Ze=null!==(K=null===(B=D.fcmOptions)||void 0===B?void 0:B.link)&&void 0!==K?K:null===(X=D.notification)||void 0===X?void 0:X.click_action;Ze&&(w.fcmOptions.link=Ze);const We=null===(fe=D.fcmOptions)||void 0===fe?void 0:fe.analytics_label;We&&(w.fcmOptions.analyticsLabel=We)}(D,w),D}function ba(w,D){const S=[];for(let B=0;B<w.length;B++)S.push(w.charAt(B)),B<D.length&&S.push(D.charAt(B));return S.join("")}function Ro(w){return nr.create("missing-app-config-values",{valueName:w})}ba("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ba("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ag{constructor(D,S,B){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const K=function fl(w){if(!w||!w.options)throw Ro("App Configuration Object");if(!w.name)throw Ro("App Name");const D=["projectId","apiKey","appId","messagingSenderId"],{options:S}=w;for(const B of D)if(!S[B])throw Ro(B);return{appName:w.name,projectId:S.projectId,apiKey:S.apiKey,appId:S.appId,senderId:S.messagingSenderId}}(D);this.firebaseDependencies={app:D,appConfig:K,installations:S,analyticsProvider:B}}_delete(){return Promise.resolve()}}function yp(w){return fc.apply(this,arguments)}function fc(){return(fc=(0,F.Z)(function*(w){try{w.swRegistration=yield navigator.serviceWorker.register(Ft,{scope:sc}),w.swRegistration.update().catch(()=>{})}catch(D){throw nr.create("failed-service-worker-registration",{browserErrorMessage:D?.message})}})).apply(this,arguments)}function ko(){return(ko=(0,F.Z)(function*(w,D){if(!D&&!w.swRegistration&&(yield yp(w)),D||!w.swRegistration){if(!(D instanceof ServiceWorkerRegistration))throw nr.create("invalid-sw-registration");w.swRegistration=D}})).apply(this,arguments)}function pl(){return(pl=(0,F.Z)(function*(w,D){D?w.vapidKey=D:w.vapidKey||(w.vapidKey=_p)})).apply(this,arguments)}function wa(){return wa=(0,F.Z)(function*(w,D){if(!navigator)throw nr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw nr.create("permission-blocked");return yield function Su(w,D){return pl.apply(this,arguments)}(w,D?.vapidKey),yield function Eh(w,D){return ko.apply(this,arguments)}(w,D?.serviceWorkerRegistration),function xu(w){return _h.apply(this,arguments)}(w)}),wa.apply(this,arguments)}function cs(){return(cs=(0,F.Z)(function*(w,D,S){const B=function Ls(w){switch(w){case ye.NOTIFICATION_CLICKED:return"notification_open";case ye.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(D);(yield w.firebaseDependencies.analyticsProvider.get()).logEvent(B,{message_id:S[bu],message_name:S[wu],message_time:S[ah],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Vs(){return Vs=(0,F.Z)(function*(w,D){const S=D.data;if(!S.isFirebaseMessaging)return;w.onMessageHandler&&S.messageType===ye.PUSH_RECEIVED&&("function"==typeof w.onMessageHandler?w.onMessageHandler(dc(S)):w.onMessageHandler.next(dc(S)));const B=S.data;(function hc(w){return"object"==typeof w&&!!w&&bu in w})(B)&&"1"===B[lh]&&(yield function Ch(w,D,S){return cs.apply(this,arguments)}(w,S.messageType,B))}),Vs.apply(this,arguments)}const Ca="@firebase/messaging",gl=w=>{const D=new ag(w.getProvider("app").getImmediate(),w.getProvider("installations-internal").getImmediate(),w.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",S=>function Ea(w,D){return Vs.apply(this,arguments)}(D,S)),D},Au=w=>{const D=w.getProvider("messaging").getImmediate();return{getToken:B=>function pc(w,D){return wa.apply(this,arguments)}(D,B)}};function vp(){return Mu.apply(this,arguments)}function Mu(){return(Mu=(0,F.Z)(function*(){try{yield(0,ue.eu)()}catch{return!1}return typeof window<"u"&&(0,ue.hl)()&&(0,ue.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function _l(){(0,oe._registerComponent)(new re.wA("messaging",gl,"PUBLIC")),(0,oe._registerComponent)(new re.wA("messaging-internal",Au,"PRIVATE")),(0,oe.registerVersion)(Ca,"0.12.4"),(0,oe.registerVersion)(Ca,"0.12.4","esm2017")}();const us="analytics",gc="firebase_id",Ih="origin",yl=6e4,Th="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",_c="https://www.googletagmanager.com/gtag/js",pr=new Ie.Yd("@firebase/analytics"),Bn=new ue.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function bp(w){if(!w.startsWith(_c)){const D=Bn.create("invalid-gtag-resource",{gtagURL:w});return pr.warn(D.message),""}return w}function ds(w){return Promise.all(w.map(D=>D.catch(S=>S)))}function hs(){return(hs=(0,F.Z)(function*(w,D,S,B,K,X){const fe=B[K];try{if(fe)yield D[fe];else{const We=(yield ds(S)).find(mt=>mt.measurementId===K);We&&(yield D[We.appId])}}catch(Ze){pr.error(Ze)}w("config",K,X)})).apply(this,arguments)}function Bs(){return(Bs=(0,F.Z)(function*(w,D,S,B,K){try{let X=[];if(K&&K.send_to){let fe=K.send_to;Array.isArray(fe)||(fe=[fe]);const Ze=yield ds(S);for(const We of fe){const mt=Ze.find(Ot=>Ot.measurementId===We),kt=mt&&D[mt.appId];if(!kt){X=[];break}X.push(kt)}}0===X.length&&(X=Object.values(D)),yield Promise.all(X),w("event",B,K||{})}catch(X){pr.error(X)}})).apply(this,arguments)}const vc=30,js=new class Sh{constructor(D={},S=1e3){this.throttleMetadata=D,this.intervalMillis=S}getThrottleMetadata(D){return this.throttleMetadata[D]}setThrottleMetadata(D,S){this.throttleMetadata[D]=S}deleteThrottleMetadata(D){delete this.throttleMetadata[D]}};function Ep(w){return new Headers({Accept:"application/json","x-goog-api-key":w})}function cn(){return(cn=(0,F.Z)(function*(w){var D;const{appId:S,apiKey:B}=w,K={method:"GET",headers:Ep(B)},X=Th.replace("{app-id}",S),fe=yield fetch(X,K);if(200!==fe.status&&304!==fe.status){let Ze="";try{const We=yield fe.json();null!==(D=We.error)&&void 0!==D&&D.message&&(Ze=We.error.message)}catch{}throw Bn.create("config-fetch-failed",{httpStatus:fe.status,responseMessage:Ze})}return fe.json()})).apply(this,arguments)}function Mh(){return(Mh=(0,F.Z)(function*(w,D=js,S){const{appId:B,apiKey:K,measurementId:X}=w.options;if(!B)throw Bn.create("no-app-id");if(!K){if(X)return{measurementId:X,appId:B};throw Bn.create("no-api-key")}const fe=D.getThrottleMetadata(B)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ze=new $y;return setTimeout((0,F.Z)(function*(){Ze.abort()}),void 0!==S?S:yl),Lu({appId:B,apiKey:K,measurementId:X},fe,Ze,D)})).apply(this,arguments)}function Lu(w,D,S){return Vu.apply(this,arguments)}function Vu(){return Vu=(0,F.Z)(function*(w,{throttleEndTimeMillis:D,backoffCount:S},B,K=js){var X;const{appId:fe,measurementId:Ze}=w;try{yield function Cp(w,D){return new Promise((S,B)=>{const K=Math.max(D-Date.now(),0),X=setTimeout(S,K);w.addEventListener(()=>{clearTimeout(X),B(Bn.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(B,D)}catch(We){if(Ze)return pr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ze} provided in the "measurementId" field in the local Firebase config. [${We?.message}]`),{appId:fe,measurementId:Ze};throw We}try{const We=yield function Ah(w){return cn.apply(this,arguments)}(w);return K.deleteThrottleMetadata(fe),We}catch(We){const mt=We;if(!function zy(w){if(!(w instanceof ue.ZR&&w.customData))return!1;const D=Number(w.customData.httpStatus);return 429===D||500===D||503===D||504===D}(mt)){if(K.deleteThrottleMetadata(fe),Ze)return pr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ze} provided in the "measurementId" field in the local Firebase config. [${mt?.message}]`),{appId:fe,measurementId:Ze};throw We}const kt=503===Number(null===(X=mt?.customData)||void 0===X?void 0:X.httpStatus)?(0,ue.$s)(S,K.intervalMillis,vc):(0,ue.$s)(S,K.intervalMillis),Ot={throttleEndTimeMillis:Date.now()+kt,backoffCount:S+1};return K.setThrottleMetadata(fe,Ot),pr.debug(`Calling attemptFetch again in ${kt} millis`),Lu(w,Ot,B,K)}}),Vu.apply(this,arguments)}class $y{constructor(){this.listeners=[]}addEventListener(D){this.listeners.push(D)}abort(){this.listeners.forEach(D=>D())}}let zs,$s;function Dp(){return(Dp=(0,F.Z)(function*(w,D,S,B,K){if(K&&K.global)w("event",S,B);else{const X=yield D;w("event",S,Object.assign(Object.assign({},B),{send_to:X}))}})).apply(this,arguments)}function uo(){return(uo=(0,F.Z)(function*(){if(!(0,ue.hl)())return pr.warn(Bn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ue.eu)()}catch(w){return pr.warn(Bn.create("indexeddb-unavailable",{errorInfo:w?.toString()}).message),!1}return!0})).apply(this,arguments)}function pn(){return pn=(0,F.Z)(function*(w,D,S,B,K,X,fe){var Ze;const We=function Pu(w){return Mh.apply(this,arguments)}(w);We.then(yr=>{S[yr.measurementId]=yr.appId,w.options.measurementId&&yr.measurementId!==w.options.measurementId&&pr.warn(`The measurement ID in the local Firebase config (${w.options.measurementId}) does not match the measurement ID fetched from the server (${yr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(yr=>pr.error(yr)),D.push(We);const mt=function Bi(){return uo.apply(this,arguments)}().then(yr=>{if(yr)return B.getId()}),[kt,Ot]=yield Promise.all([We,mt]);(function Hs(w){const D=window.document.getElementsByTagName("script");for(const S of Object.values(D))if(S.src&&S.src.includes(_c)&&S.src.includes(w))return S;return null})(X)||function xa(w,D){const S=function yc(w,D){let S;return window.trustedTypes&&(S=window.trustedTypes.createPolicy(w,D)),S}("firebase-js-sdk-policy",{createScriptURL:bp}),B=document.createElement("script"),K=`${_c}?l=${w}&id=${D}`;B.src=S?S?.createScriptURL(K):K,B.async=!0,document.head.appendChild(B)}(X,kt.measurementId),$s&&(K("consent","default",$s),function wl(w){$s=w}(void 0)),K("js",new Date);const Rr=null!==(Ze=fe?.config)&&void 0!==Ze?Ze:{};return Rr[Ih]="firebase",Rr.update=!0,null!=Ot&&(Rr[gc]=Ot),K("config",kt.measurementId,Rr),zs&&(K("set",zs),function Ec(w){zs=w}(void 0)),kt.measurementId}),pn.apply(this,arguments)}class Oo{constructor(D){this.app=D}_delete(){return delete Ye[this.app.options.appId],Promise.resolve()}}let Ye={},bn=[];const Ta={};let gr,Ur,Sa="dataLayer",Aa="gtag",Dn=!1;function kh(w,D,S){!function ct(){const w=[];if((0,ue.ru)()&&w.push("This is a browser extension environment."),(0,ue.zI)()||w.push("Cookies are not available."),w.length>0){const D=w.map((B,K)=>`(${K+1}) ${B}`).join(" "),S=Bn.create("invalid-analytics-context",{errorInfo:D});pr.warn(S.message)}}();const B=w.options.appId;if(!B)throw Bn.create("no-app-id");if(!w.options.apiKey){if(!w.options.measurementId)throw Bn.create("no-api-key");pr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${w.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ye[B])throw Bn.create("already-exists",{id:B});if(!Dn){!function Ou(w){let D=[];Array.isArray(window[w])?D=window[w]:window[w]=D}(Sa);const{wrappedGtag:X,gtagCore:fe}=function Us(w,D,S,B,K){let X=function(...fe){window[B].push(arguments)};return window[K]&&"function"==typeof window[K]&&(X=window[K]),window[K]=function vl(w,D,S,B){function X(){return X=(0,F.Z)(function*(fe,...Ze){try{if("event"===fe){const[We,mt]=Ze;yield function wp(w,D,S,B,K){return Bs.apply(this,arguments)}(w,D,S,We,mt)}else if("config"===fe){const[We,mt]=Ze;yield function Nu(w,D,S,B,K,X){return hs.apply(this,arguments)}(w,D,S,B,We,mt)}else if("consent"===fe){const[We]=Ze;w("consent","update",We)}else if("get"===fe){const[We,mt,kt]=Ze;w("get",We,mt,kt)}else if("set"===fe){const[We]=Ze;w("set",We)}else w(fe,...Ze)}catch(We){pr.error(We)}}),X.apply(this,arguments)}return function K(fe){return X.apply(this,arguments)}}(X,w,D,S),{gtagCore:X,wrappedGtag:window[K]}}(Ye,bn,Ta,Sa,Aa);Ur=X,gr=fe,Dn=!0}return Ye[B]=function Un(w,D,S,B,K,X,fe){return pn.apply(this,arguments)}(w,bn,Ta,D,gr,Sa,S),new Oo(w)}function Hu(){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,F.Z)(function*(){if((0,ue.ru)()||!(0,ue.zI)()||!(0,ue.hl)())return!1;try{return yield(0,ue.eu)()}catch{return!1}})).apply(this,arguments)}const Nh="@firebase/analytics";!function Qe(){(0,oe._registerComponent)(new re.wA(us,(D,{options:S})=>kh(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),S),"PUBLIC")),(0,oe._registerComponent)(new re.wA("analytics-internal",function w(D){try{const S=D.getProvider(us).getImmediate();return{logEvent:(B,K,X)=>function ps(w,D,S,B){w=(0,ue.m9)(w),function Gy(w,D,S,B,K){return Dp.apply(this,arguments)}(Ur,Ye[w.app.options.appId],D,S,B).catch(K=>pr.error(K))}(S,B,K,X)}}catch(S){throw Bn.create("interop-component-reg-failed",{reason:S})}},"PRIVATE")),(0,oe.registerVersion)(Nh,"0.10.0"),(0,oe.registerVersion)(Nh,"0.10.0","esm2017")}();var ju=V(4408),No=V(7565);const xp=new class Ma extends No.v{}(class Ut extends ju.o{constructor(D,S){super(D,S),this.scheduler=D,this.work=S}schedule(D,S=0){return S>0?super.schedule(D,S):(this.delay=S,this.state=D,this.scheduler.flush(this),this)}execute(D,S){return S>0||this.closed?super.execute(D,S):this._execute(D,S)}requestAsyncId(D,S,B=0){return null!=B&&B>0||null==B&&this.delay>0?super.requestAsyncId(D,S,B):(D.flush(this),0)}});var lg=V(4986),Dl=V(9751),Fh=V(8505),_r=V(9468),Ra=V(5363);const Zn=new l.GfV("7.6.1"),Fo="__angularfire_symbol__analyticsIsSupportedValue",zu="__angularfire_symbol__analyticsIsSupported",qs="__angularfire_symbol__remoteConfigIsSupportedValue",xl="__angularfire_symbol__remoteConfigIsSupported",$u="__angularfire_symbol__messagingIsSupportedValue",Mr="__angularfire_symbol__messagingIsSupported";function Ws(w,D,S){if(D){if(1===D.length)return D[0];const X=D.filter(fe=>fe.app===S);if(1===X.length)return X[0]}return S.container.getProvider(w).getImmediate({optional:!0})}globalThis[zu]||(globalThis[zu]=Hu().then(w=>globalThis[Fo]=w).catch(()=>globalThis[Fo]=!1)),globalThis[Mr]||(globalThis[Mr]=vp().then(w=>globalThis[$u]=w).catch(()=>globalThis[$u]=!1)),globalThis[xl]||(globalThis[xl]=oh().then(w=>globalThis[qs]=w).catch(()=>globalThis[qs]=!1));const Ph=(w,D)=>{const S=D?[D]:(0,j.C6)(),B=[];return S.forEach(K=>{K.container.getProvider(w).instances.forEach(fe=>{B.includes(fe)||B.push(fe)})}),B};function Zs(){}class Po{constructor(D,S=xp){this.zone=D,this.delegate=S}now(){return this.delegate.now()}schedule(D,S,B){const K=this.zone;return this.delegate.schedule(function(fe){K.runGuarded(()=>{D.apply(this,[fe])})},S,B)}}class Qi{constructor(D){this.zone=D,this.task=null}call(D,S){const B=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Zs,{},Zs,Zs)),S.pipe((0,Fh.b)({next:B,complete:B,error:B})).subscribe(D).add(B)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ka=(()=>{class w{constructor(S){this.ngZone=S,this.outsideAngular=S.runOutsideAngular(()=>new Po(Zone.current)),this.insideAngular=S.run(()=>new Po(Zone.current,lg.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return w.\u0275fac=function(S){return new(S||w)(l.LFG(l.R0b))},w.\u0275prov=l.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();function ms(){const w=globalThis.\u0275AngularFireScheduler;if(!w)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return w}function Lo(w){return ms().ngZone.run(()=>w())}function Tc(w){return ms(),function Wu(w){return function(S){return(S=S.lift(new Qi(w.ngZone))).pipe((0,_r.R)(w.outsideAngular),(0,Ra.Q)(w.insideAngular))}}(ms())(w)}const Sc=(w,D)=>function(){const B=arguments;return D&&setTimeout(()=>{"scheduled"===D.state&&D.invoke()},10),Lo(()=>w.apply(void 0,B))},Ac=(w,D)=>function(){let S;const B=arguments;for(let X=0;X<arguments.length;X++)"function"==typeof B[X]&&(D&&(S||(S=Lo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Zs,{},Zs,Zs)))),B[X]=Sc(B[X],S));const K=function Ip(w){return ms().ngZone.runOutsideAngular(()=>w())}(()=>w.apply(this,B));if(!D){if(K instanceof Dl.y){const X=ms();return K.pipe((0,_r.R)(X.outsideAngular),(0,Ra.Q)(X.insideAngular))}return Lo(()=>K)}return K instanceof Dl.y?K.pipe(Tc):K instanceof Promise?Lo(()=>new Promise((X,fe)=>K.then(Ze=>Lo(()=>X(Ze)),Ze=>Lo(()=>fe(Ze))))):"function"==typeof K&&S?function(){return setTimeout(()=>{S&&"scheduled"===S.state&&S.invoke()},10),K.apply(this,arguments)}:Lo(()=>K)}},1389:(wt,Ae,V)=>{V.d(Ae,{$:()=>Ft,A:()=>q,D:()=>Me,I:()=>Wn,J:()=>Pi,L:()=>so,N:()=>Zr,P:()=>Un,Q:()=>rh,R:()=>wc,U:()=>ih,V:()=>oh,W:()=>nc,X:()=>So,Y:()=>rc,Z:()=>mp,_:()=>ic,a:()=>ai,a0:()=>_p,a1:()=>bu,a2:()=>rg,a3:()=>ch,a4:()=>Vi,a5:()=>uh,a6:()=>as,a7:()=>Br,a8:()=>ls,a9:()=>ao,aA:()=>ce,aB:()=>zu,aC:()=>er,aD:()=>ii,aE:()=>Fh,aF:()=>Dc,aG:()=>Ui,aH:()=>vn,aL:()=>co,aO:()=>os,aa:()=>hh,ab:()=>fh,ac:()=>ig,ad:()=>ph,ae:()=>mh,af:()=>Cu,ai:()=>gh,aj:()=>_h,ak:()=>Yr,an:()=>gp,ao:()=>Tu,aq:()=>pl,ar:()=>Ca,as:()=>St,at:()=>Tt,au:()=>xe,av:()=>Se,aw:()=>Ot,ax:()=>Mr,ay:()=>Yt,az:()=>Te,b:()=>mc,c:()=>Ur,d:()=>kh,e:()=>El,f:()=>Nh,g:()=>Ma,h:()=>ju,i:()=>Fu,j:()=>lg,k:()=>gs,l:()=>bl,m:()=>Vh,o:()=>Wy,p:()=>Ee,r:()=>Rh,s:()=>fs,u:()=>Bi});var l=V(5861),j=V(2090),F=V(6881),oe=V(7582),ue=V(1877),re=V(4859);const Ee={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},q={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Me=function te(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Ke=function je(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},at=new j.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Oe=new ue.Yd("@firebase/auth");function He(v,...p){Oe.logLevel<=ue.in.ERROR&&Oe.error(`Auth (${F.SDK_VERSION}): ${v}`,...p)}function Se(v,...p){throw Le(v,...p)}function Te(v,...p){return Le(v,...p)}function Ne(v,p,g){const E=Object.assign(Object.assign({},Ke()),{[p]:g});return new j.LL("auth","Firebase",E).create(p,{appName:v.name})}function ze(v,p,g){if(!(p instanceof g))throw g.name!==p.constructor.name&&Se(v,"argument-error"),Ne(v,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Le(v,...p){if("string"!=typeof v){const g=p[0],E=[...p.slice(1)];return E[0]&&(E[0].appName=v.name),v._errorFactory.create(g,...E)}return at.create(v,...p)}function ce(v,p,...g){if(!v)throw Le(p,...g)}function it(v){const p="INTERNAL ASSERTION FAILED: "+v;throw He(p),new Error(p)}function St(v,p){v||it(p)}function lt(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function Zt(){return"http:"===ft()||"https:"===ft()}function ft(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class Ci{constructor(p,g){this.shortDelay=p,this.longDelay=g,St(g>p,"Short delay should be less than long delay!"),this.isMobile=(0,j.uI)()||(0,j.b$)()}get(){return function Do(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Zt()||(0,j.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function io(v,p){St(v.emulator,"Emulator should always be set here");const{url:g}=v.emulator;return p?`${g}${p.startsWith("/")?p.slice(1):p}`:g}class he{static initialize(p,g,E){this.fetchImpl=p,g&&(this.headersImpl=g),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void it("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void it("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void it("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ge={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},be=new Ci(3e4,6e4);function ne(v,p){return v.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:v.tenantId}):p}function Re(v,p,g,E){return Be.apply(this,arguments)}function Be(){return(Be=(0,l.Z)(function*(v,p,g,E,R={}){return ut(v,R,(0,l.Z)(function*(){let N={},J={};E&&("GET"===p?J=E:N={body:JSON.stringify(E)});const pe=(0,j.xO)(Object.assign({key:v.config.apiKey},J)).slice(1),Ge=yield v._getAdditionalHeaders();return Ge["Content-Type"]="application/json",v.languageCode&&(Ge["X-Firebase-Locale"]=v.languageCode),he.fetch()(sn(v,v.config.apiHost,g,pe),Object.assign({method:p,headers:Ge,referrerPolicy:"no-referrer"},N))}))})).apply(this,arguments)}function ut(v,p,g){return dt.apply(this,arguments)}function dt(){return(dt=(0,l.Z)(function*(v,p,g){v._canInitEmulator=!1;const E=Object.assign(Object.assign({},ge),p);try{const R=new Rn(v),N=yield Promise.race([g(),R.promise]);R.clearNetworkTimeout();const J=yield N.json();if("needConfirmation"in J)throw gn(v,"account-exists-with-different-credential",J);if(N.ok&&!("errorMessage"in J))return J;{const pe=N.ok?J.errorMessage:J.error.message,[Ge,Xe]=pe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ge)throw gn(v,"credential-already-in-use",J);if("EMAIL_EXISTS"===Ge)throw gn(v,"email-already-in-use",J);if("USER_DISABLED"===Ge)throw gn(v,"user-disabled",J);const yt=E[Ge]||Ge.toLowerCase().replace(/[_\s]+/g,"-");if(Xe)throw Ne(v,yt,Xe);Se(v,yt)}}catch(R){if(R instanceof j.ZR)throw R;Se(v,"network-request-failed",{message:String(R)})}})).apply(this,arguments)}function hn(v,p,g,E){return xt.apply(this,arguments)}function xt(){return(xt=(0,l.Z)(function*(v,p,g,E,R={}){const N=yield Re(v,p,g,E,R);return"mfaPendingCredential"in N&&Se(v,"multi-factor-auth-required",{_serverResponse:N}),N})).apply(this,arguments)}function sn(v,p,g,E){const R=`${p}${g}?${E}`;return v.config.emulator?io(v.config,R):`${v.config.apiScheme}://${R}`}class Rn{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((g,E)=>{this.timer=setTimeout(()=>E(Te(this.auth,"network-request-failed")),be.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function gn(v,p,g){const E={appName:v.name};g.email&&(E.email=g.email),g.phoneNumber&&(E.phoneNumber=g.phoneNumber);const R=Te(v,p,E);return R.customData._tokenResponse=g,R}function Fn(){return(Fn=(0,l.Z)(function*(v,p){return Re(v,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function dr(){return(dr=(0,l.Z)(function*(v,p){return Re(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Yn(){return(Yn=(0,l.Z)(function*(v,p){return Re(v,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function _t(v){if(v)try{const p=new Date(Number(v));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function Qn(){return(Qn=(0,l.Z)(function*(v,p=!1){const g=(0,j.m9)(v),E=yield g.getIdToken(p),R=ni(E);ce(R&&R.exp&&R.auth_time&&R.iat,g.auth,"internal-error");const N="object"==typeof R.firebase?R.firebase:void 0,J=N?.sign_in_provider;return{claims:R,token:E,authTime:_t(Wr(R.auth_time)),issuedAtTime:_t(Wr(R.iat)),expirationTime:_t(Wr(R.exp)),signInProvider:J||null,signInSecondFactor:N?.sign_in_second_factor||null}})).apply(this,arguments)}function Wr(v){return 1e3*Number(v)}function ni(v){const[p,g,E]=v.split(".");if(void 0===p||void 0===g||void 0===E)return He("JWT malformed, contained fewer than 3 sections"),null;try{const R=(0,j.tV)(g);return R?JSON.parse(R):(He("Failed to decode base64 JWT payload"),null)}catch(R){return He("Caught error parsing JWT payload as JSON",R?.toString()),null}}function Kt(v,p){return pt.apply(this,arguments)}function pt(){return(pt=(0,l.Z)(function*(v,p,g=!1){if(g)return p;try{return yield p}catch(E){throw E instanceof j.ZR&&function Vt({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}(E)&&v.auth.currentUser===v&&(yield v.auth.signOut()),E}})).apply(this,arguments)}class Jn{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var g;if(p){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const R=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,R)}}schedule(p=!1){var g=this;if(!this.isRunning)return;const E=this.getInterval(p);this.timerId=setTimeout((0,l.Z)(function*(){yield g.iteration()}),E)}iteration(){var p=this;return(0,l.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g?.code&&p.schedule(!0))}p.schedule()})()}}class Fr{constructor(p,g){this.createdAt=p,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=_t(this.lastLoginAt),this.creationTime=_t(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Gn(v){return fi.apply(this,arguments)}function fi(){return fi=(0,l.Z)(function*(v){var p;const g=v.auth,E=yield v.getIdToken(),R=yield Kt(v,function Di(v,p){return Yn.apply(this,arguments)}(g,{idToken:E}));ce(R?.users.length,g,"internal-error");const N=R.users[0];v._notifyReloadListener(N);const J=null!==(p=N.providerUserInfo)&&void 0!==p&&p.length?function Fi(v){return v.map(p=>{var{providerId:g}=p,E=(0,oe._T)(p,["providerId"]);return{providerId:g,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}(N.providerUserInfo):[],pe=function Xt(v,p){return[...v.filter(E=>!p.some(R=>R.providerId===E.providerId)),...p]}(v.providerData,J),yt=!!v.isAnonymous&&!(v.email&&N.passwordHash||pe?.length),Gt={uid:N.localId,displayName:N.displayName||null,photoURL:N.photoUrl||null,email:N.email||null,emailVerified:N.emailVerified||!1,phoneNumber:N.phoneNumber||null,tenantId:N.tenantId||null,providerData:pe,metadata:new Fr(N.createdAt,N.lastLoginAt),isAnonymous:yt};Object.assign(v,Gt)}),fi.apply(this,arguments)}function Cr(){return(Cr=(0,l.Z)(function*(v){const p=(0,j.m9)(v);yield Gn(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function pi(){return(pi=(0,l.Z)(function*(v,p){const g=yield ut(v,{},(0,l.Z)(function*(){const E=(0,j.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:R,apiKey:N}=v.config,J=sn(v,R,"/v1/token",`key=${N}`),pe=yield v._getAdditionalHeaders();return pe["Content-Type"]="application/x-www-form-urlencoded",he.fetch()(J,{method:"POST",headers:pe,body:E})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class zt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){ce(p.idToken,"internal-error"),ce(typeof p.idToken<"u","internal-error"),ce(typeof p.refreshToken<"u","internal-error");const g="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function fn(v){const p=ni(v);return ce(p,"internal-error"),ce(typeof p.exp<"u","internal-error"),ce(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,g)}getToken(p,g=!1){var E=this;return(0,l.Z)(function*(){return ce(!E.accessToken||E.refreshToken,p,"user-token-expired"),g||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(p,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,g){var E=this;return(0,l.Z)(function*(){const{accessToken:R,refreshToken:N,expiresIn:J}=yield function on(v,p){return pi.apply(this,arguments)}(p,g);E.updateTokensAndExpiration(R,N,Number(J))})()}updateTokensAndExpiration(p,g,E){this.refreshToken=g||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(p,g){const{refreshToken:E,accessToken:R,expirationTime:N}=g,J=new zt;return E&&(ce("string"==typeof E,"internal-error",{appName:p}),J.refreshToken=E),R&&(ce("string"==typeof R,"internal-error",{appName:p}),J.accessToken=R),N&&(ce("number"==typeof N,"internal-error",{appName:p}),J.expirationTime=N),J}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new zt,this.toJSON())}_performRefresh(){return it("not implemented")}}function Xn(v,p){ce("string"==typeof v||typeof v>"u","internal-error",{appName:p})}class Ln{constructor(p){var{uid:g,auth:E,stsTokenManager:R}=p,N=(0,oe._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Jn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=E,this.stsTokenManager=R,this.accessToken=R.accessToken,this.displayName=N.displayName||null,this.email=N.email||null,this.emailVerified=N.emailVerified||!1,this.phoneNumber=N.phoneNumber||null,this.photoURL=N.photoURL||null,this.isAnonymous=N.isAnonymous||!1,this.tenantId=N.tenantId||null,this.providerData=N.providerData?[...N.providerData]:[],this.metadata=new Fr(N.createdAt||void 0,N.lastLoginAt||void 0)}getIdToken(p){var g=this;return(0,l.Z)(function*(){const E=yield Kt(g,g.stsTokenManager.getToken(g.auth,p));return ce(E,g.auth,"internal-error"),g.accessToken!==E&&(g.accessToken=E,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),E})()}getIdTokenResult(p){return function oo(v){return Qn.apply(this,arguments)}(this,p)}reload(){return function qn(v){return Cr.apply(this,arguments)}(this)}_assign(p){this!==p&&(ce(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(g=>Object.assign({},g)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){const g=new Ln(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}));return g.metadata._copy(this.metadata),g}_onReload(p){ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,g=!1){var E=this;return(0,l.Z)(function*(){let R=!1;p.idToken&&p.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(p),R=!0),g&&(yield Gn(E)),yield E.auth._persistUserIfCurrent(E),R&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var p=this;return(0,l.Z)(function*(){const g=yield p.getIdToken();return yield Kt(p,function ur(v,p){return Fn.apply(this,arguments)}(p.auth,{idToken:g})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,g){var E,R,N,J,pe,Ge,Xe,yt;const Gt=null!==(E=g.displayName)&&void 0!==E?E:void 0,ci=null!==(R=g.email)&&void 0!==R?R:void 0,_s=null!==(N=g.phoneNumber)&&void 0!==N?N:void 0,zh=null!==(J=g.photoURL)&&void 0!==J?J:void 0,Qu=null!==(pe=g.tenantId)&&void 0!==pe?pe:void 0,Sl=null!==(Ge=g._redirectEventId)&&void 0!==Ge?Ge:void 0,Tp=null!==(Xe=g.createdAt)&&void 0!==Xe?Xe:void 0,$h=null!==(yt=g.lastLoginAt)&&void 0!==yt?yt:void 0,{uid:Al,emailVerified:Sp,isAnonymous:Gh,providerData:Ks,stsTokenManager:Ju}=g;ce(Al&&Ju,p,"internal-error");const qh=zt.fromJSON(this.name,Ju);ce("string"==typeof Al,p,"internal-error"),Xn(Gt,p.name),Xn(ci,p.name),ce("boolean"==typeof Sp,p,"internal-error"),ce("boolean"==typeof Gh,p,"internal-error"),Xn(_s,p.name),Xn(zh,p.name),Xn(Qu,p.name),Xn(Sl,p.name),Xn(Tp,p.name),Xn($h,p.name);const ys=new Ln({uid:Al,auth:p,email:ci,emailVerified:Sp,displayName:Gt,isAnonymous:Gh,photoURL:zh,phoneNumber:_s,tenantId:Qu,stsTokenManager:qh,createdAt:Tp,lastLoginAt:$h});return Ks&&Array.isArray(Ks)&&(ys.providerData=Ks.map(Wh=>Object.assign({},Wh))),Sl&&(ys._redirectEventId=Sl),ys}static _fromIdTokenResponse(p,g,E=!1){return(0,l.Z)(function*(){const R=new zt;R.updateFromServerResponse(g);const N=new Ln({uid:g.localId,auth:p,stsTokenManager:R,isAnonymous:E});return yield Gn(N),N})()}}const Pr=new Map;function er(v){St(v instanceof Function,"Expected a class definition");let p=Pr.get(v);return p?(St(p instanceof v,"Instance stored in cache mismatched with class"),p):(p=new v,Pr.set(v,p),p)}const Zr=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(g,E){var R=this;return(0,l.Z)(function*(){R.storage[g]=E})()}_get(g){var E=this;return(0,l.Z)(function*(){const R=E.storage[g];return void 0===R?null:R})()}_remove(g){var E=this;return(0,l.Z)(function*(){delete E.storage[g]})()}_addListener(g,E){}_removeListener(g,E){}}return v.type="NONE",v})();function ii(v,p,g){return`firebase:${v}:${p}:${g}`}class G{constructor(p,g,E){this.persistence=p,this.auth=g,this.userKey=E;const{config:R,name:N}=this.auth;this.fullUserKey=ii(this.userKey,R.apiKey,N),this.fullPersistenceKey=ii("persistence",R.apiKey,N),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,l.Z)(function*(){const g=yield p.persistence._get(p.fullUserKey);return g?Ln._fromJSON(p.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var g=this;return(0,l.Z)(function*(){if(g.persistence===p)return;const E=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=p,E?g.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,g,E="authUser"){return(0,l.Z)(function*(){if(!g.length)return new G(er(Zr),p,E);const R=(yield Promise.all(g.map(function(){var Xe=(0,l.Z)(function*(yt){if(yield yt._isAvailable())return yt});return function(yt){return Xe.apply(this,arguments)}}()))).filter(Xe=>Xe);let N=R[0]||er(Zr);const J=ii(E,p.config.apiKey,p.name);let pe=null;for(const Xe of g)try{const yt=yield Xe._get(J);if(yt){const Gt=Ln._fromJSON(p,yt);Xe!==N&&(pe=Gt),N=Xe;break}}catch{}const Ge=R.filter(Xe=>Xe._shouldAllowMigration);return N._shouldAllowMigration&&Ge.length?(N=Ge[0],pe&&(yield N._set(J,pe.toJSON())),yield Promise.all(g.map(function(){var Xe=(0,l.Z)(function*(yt){if(yt!==N)try{yield yt._remove(J)}catch{}});return function(yt){return Xe.apply(this,arguments)}}())),new G(N,p,E)):new G(N,p,E)})()}}function z(v){const p=v.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Y(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(P(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(ot(p))return"Blackberry";if(At(p))return"Webos";if(L(p))return"Safari";if((p.includes("chrome/")||k(p))&&!p.includes("edge/"))return"Chrome";if(xe(p))return"Android";{const E=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===E?.length)return E[1]}return"Other"}function P(v=(0,j.z$)()){return/firefox\//i.test(v)}function L(v=(0,j.z$)()){const p=v.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function k(v=(0,j.z$)()){return/crios\//i.test(v)}function Y(v=(0,j.z$)()){return/iemobile/i.test(v)}function xe(v=(0,j.z$)()){return/android/i.test(v)}function ot(v=(0,j.z$)()){return/blackberry/i.test(v)}function At(v=(0,j.z$)()){return/webos/i.test(v)}function Tt(v=(0,j.z$)()){return/iphone|ipad|ipod/i.test(v)||/macintosh/i.test(v)&&/mobile/i.test(v)}function Yt(v=(0,j.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}function $t(v=(0,j.z$)()){return Tt(v)||xe(v)||At(v)||ot(v)||/windows phone/i.test(v)||Y(v)}function xo(v,p=[]){let g;switch(v){case"Browser":g=z((0,j.z$)());break;case"Worker":g=`${z((0,j.z$)())}-${v}`;break;default:g=v}const E=p.length?p.join(","):"FirebaseCore-web";return`${g}/JsCore/${F.SDK_VERSION}/${E}`}function ae(){return(ae=(0,l.Z)(function*(v){return(yield Re(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ve(v,p){return bt.apply(this,arguments)}function bt(){return(bt=(0,l.Z)(function*(v,p){return Re(v,"GET","/v2/recaptchaConfig",ne(v,p))})).apply(this,arguments)}function Mt(v){return void 0!==v&&void 0!==v.getResponse}function en(v){return void 0!==v&&void 0!==v.enterprise}class Et{constructor(p){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===p.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=p.recaptchaKey.split("/")[3],this.emailPasswordEnabled=p.recaptchaEnforcementState.some(g=>"EMAIL_PASSWORD_PROVIDER"===g.provider&&"OFF"!==g.enforcementState)}}function ln(v){return new Promise((p,g)=>{const E=document.createElement("script");E.setAttribute("src",v),E.onload=p,E.onerror=R=>{const N=Te("internal-error");N.customData=R,g(N)},E.type="text/javascript",E.charset="UTF-8",function yn(){var v,p;return null!==(p=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==p?p:document}().appendChild(E)})}function Kr(v){return`__${v}${Math.floor(1e6*Math.random())}`}const cp="NO_RECAPTCHA";class Ts{constructor(p){this.type="recaptcha-enterprise",this.auth=vn(p)}verify(p="verify",g=!1){var E=this;return(0,l.Z)(function*(){function N(){return N=(0,l.Z)(function*(pe){if(!g){if(null==pe.tenantId&&null!=pe._agentRecaptchaConfig)return pe._agentRecaptchaConfig.siteKey;if(null!=pe.tenantId&&void 0!==pe._tenantRecaptchaConfigs[pe.tenantId])return pe._tenantRecaptchaConfigs[pe.tenantId].siteKey}return new Promise(function(){var Ge=(0,l.Z)(function*(Xe,yt){Ve(pe,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Gt=>{if(void 0!==Gt.recaptchaKey){const ci=new Et(Gt);return null==pe.tenantId?pe._agentRecaptchaConfig=ci:pe._tenantRecaptchaConfigs[pe.tenantId]=ci,Xe(ci.siteKey)}yt(new Error("recaptcha Enterprise site key undefined"))}).catch(Gt=>{yt(Gt)})});return function(Xe,yt){return Ge.apply(this,arguments)}}())}),N.apply(this,arguments)}function J(pe,Ge,Xe){const yt=window.grecaptcha;en(yt)?yt.enterprise.ready(()=>{yt.enterprise.execute(pe,{action:p}).then(Gt=>{Ge(Gt)}).catch(()=>{Ge(cp)})}):Xe(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((pe,Ge)=>{(function R(pe){return N.apply(this,arguments)})(E.auth).then(Xe=>{if(!g&&en(window.grecaptcha))J(Xe,pe,Ge);else{if(typeof window>"u")return void Ge(new Error("RecaptchaVerifier is only supported in browser"));ln("https://www.google.com/recaptcha/enterprise.js?render="+Xe).then(()=>{J(Xe,pe,Ge)}).catch(yt=>{Ge(yt)})}}).catch(Xe=>{Ge(Xe)})})})()}}function Ir(v,p,g){return tt.apply(this,arguments)}function tt(){return(tt=(0,l.Z)(function*(v,p,g,E=!1){const R=new Ts(v);let N;try{N=yield R.verify(g)}catch{N=yield R.verify(g,!0)}const J=Object.assign({},p);return Object.assign(J,E?{captchaResp:N}:{captchaResponse:N}),Object.assign(J,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(J,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),J})).apply(this,arguments)}class Qt{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,g){const E=N=>new Promise((J,pe)=>{try{J(p(N))}catch(Ge){pe(Ge)}});E.onAbort=g,this.queue.push(E);const R=this.queue.length-1;return()=>{this.queue[R]=()=>Promise.resolve()}}runMiddleware(p){var g=this;return(0,l.Z)(function*(){if(g.auth.currentUser===p)return;const E=[];try{for(const R of g.queue)yield R(p),R.onAbort&&E.push(R.onAbort)}catch(R){E.reverse();for(const N of E)try{N()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:R?.message})}})()}}class kn{constructor(p,g,E,R){this.app=p,this.heartbeatServiceProvider=g,this.appCheckServiceProvider=E,this.config=R,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new es(this),this.idTokenSubscription=new es(this),this.beforeStateQueue=new Qt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=at,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=R.sdkClientVersion}_initializeWithPersistence(p,g){var E=this;return g&&(this._popupRedirectResolver=er(g)),this._initializationPromise=this.queue((0,l.Z)(function*(){var R,N;if(!E._deleted&&(E.persistenceManager=yield G.create(E,p),!E._deleted)){if(null!==(R=E._popupRedirectResolver)&&void 0!==R&&R._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch{}yield E.initializeCurrentUser(g),E.lastNotifiedUid=(null===(N=E.currentUser)||void 0===N?void 0:N.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,l.Z)(function*(){if(p._deleted)return;const g=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||g){if(p.currentUser&&g&&p.currentUser.uid===g.uid)return p._currentUser._assign(g),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(g,!0)}})()}initializeCurrentUser(p){var g=this;return(0,l.Z)(function*(){var E;const R=yield g.assertedPersistence.getCurrentUser();let N=R,J=!1;if(p&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const pe=null===(E=g.redirectUser)||void 0===E?void 0:E._redirectEventId,Ge=N?._redirectEventId,Xe=yield g.tryRedirectSignIn(p);(!pe||pe===Ge)&&Xe?.user&&(N=Xe.user,J=!0)}if(!N)return g.directlySetCurrentUser(null);if(!N._redirectEventId){if(J)try{yield g.beforeStateQueue.runMiddleware(N)}catch(pe){N=R,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(pe))}return N?g.reloadAndSetCurrentUserOrClear(N):g.directlySetCurrentUser(null)}return ce(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===N._redirectEventId?g.directlySetCurrentUser(N):g.reloadAndSetCurrentUserOrClear(N)})()}tryRedirectSignIn(p){var g=this;return(0,l.Z)(function*(){let E=null;try{E=yield g._popupRedirectResolver._completeRedirectFn(g,p,!0)}catch{yield g._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(p){var g=this;return(0,l.Z)(function*(){try{yield Gn(p)}catch(E){if("auth/network-request-failed"!==E?.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function Er(){if(typeof navigator>"u")return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var p=this;return(0,l.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var g=this;return(0,l.Z)(function*(){const E=p?(0,j.m9)(p):null;return E&&ce(E.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(E&&E._clone(g))})()}_updateCurrentUser(p,g=!1){var E=this;return(0,l.Z)(function*(){if(!E._deleted)return p&&ce(E.tenantId===p.tenantId,E,"tenant-id-mismatch"),g||(yield E.beforeStateQueue.runMiddleware(p)),E.queue((0,l.Z)(function*(){yield E.directlySetCurrentUser(p),E.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,l.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var g=this;return this.queue((0,l.Z)(function*(){yield g.assertedPersistence.setPersistence(er(p))}))}initializeRecaptchaConfig(){var p=this;return(0,l.Z)(function*(){const g=yield Ve(p,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),E=new Et(g);null==p.tenantId?p._agentRecaptchaConfig=E:p._tenantRecaptchaConfigs[p.tenantId]=E,E.emailPasswordEnabled&&new Ts(p).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new j.LL("auth","Firebase",p())}onAuthStateChanged(p,g,E){return this.registerStateListener(this.authStateSubscription,p,g,E)}beforeAuthStateChanged(p,g){return this.beforeStateQueue.pushCallback(p,g)}onIdTokenChanged(p,g,E){return this.registerStateListener(this.idTokenSubscription,p,g,E)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,g){var E=this;return(0,l.Z)(function*(){const R=yield E.getOrInitRedirectPersistenceManager(g);return null===p?R.removeCurrentUser():R.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var g=this;return(0,l.Z)(function*(){if(!g.redirectPersistenceManager){const E=p&&er(p)||g._popupRedirectResolver;ce(E,g,"argument-error"),g.redirectPersistenceManager=yield G.create(g,[er(E._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(p){var g=this;return(0,l.Z)(function*(){var E,R;return g._isInitialized&&(yield g.queue((0,l.Z)(function*(){}))),(null===(E=g._currentUser)||void 0===E?void 0:E._redirectEventId)===p?g._currentUser:(null===(R=g.redirectUser)||void 0===R?void 0:R._redirectEventId)===p?g.redirectUser:null})()}_persistUserIfCurrent(p){var g=this;return(0,l.Z)(function*(){if(p===g.currentUser)return g.queue((0,l.Z)(function*(){return g.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(g=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,g,E,R){if(this._deleted)return()=>{};const N="function"==typeof g?g:g.next.bind(g),J=this._isInitialized?Promise.resolve():this._initializationPromise;return ce(J,this,"internal-error"),J.then(()=>N(this.currentUser)),"function"==typeof g?p.addObserver(g,E,R):p.addObserver(g)}directlySetCurrentUser(p){var g=this;return(0,l.Z)(function*(){g.currentUser&&g.currentUser!==p&&g._currentUser._stopProactiveRefresh(),p&&g.isProactiveRefreshEnabled&&p._startProactiveRefresh(),g.currentUser=p,p?yield g.assertedPersistence.setCurrentUser(p):yield g.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=xo(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,l.Z)(function*(){var g;const E={"X-Client-Version":p.clientVersion};p.app.options.appId&&(E["X-Firebase-gmpid"]=p.app.options.appId);const R=yield null===(g=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();R&&(E["X-Firebase-Client"]=R);const N=yield p._getAppCheckToken();return N&&(E["X-Firebase-AppCheck"]=N),E})()}_getAppCheckToken(){var p=this;return(0,l.Z)(function*(){var g;const E=yield null===(g=p.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getToken();return E?.error&&function Fe(v,...p){Oe.logLevel<=ue.in.WARN&&Oe.warn(`Auth (${F.SDK_VERSION}): ${v}`,...p)}(`Error while retrieving App Check token: ${E.error}`),E?.token})()}}function vn(v){return(0,j.m9)(v)}class es{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,j.ne)(g=>this.observer=g)}get next(){return ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Wn(v,p,g){const E=vn(v);ce(E._canInitEmulator,E,"emulator-config-failed"),ce(/^https?:\/\//.test(p),E,"invalid-emulator-scheme");const R=!!g?.disableWarnings,N=rl(p),{host:J,port:pe}=function mi(v){const p=rl(v),g=/(\/\/)?([^?#/]+)/.exec(v.substr(p.length));if(!g)return{host:"",port:null};const E=g[2].split("@").pop()||"",R=/^(\[[^\]]+\])(:|$)/.exec(E);if(R){const N=R[1];return{host:N,port:Wt(E.substr(N.length+1))}}{const[N,J]=E.split(":");return{host:N,port:Wt(J)}}}(p);E.config.emulator={url:`${N}//${J}${null===pe?"":`:${pe}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:J,port:pe,protocol:N.replace(":",""),options:Object.freeze({disableWarnings:R})}),R||function ec(){function v(){const p=document.createElement("p"),g=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}function rl(v){const p=v.indexOf(":");return p<0?"":v.substr(0,p+1)}function Wt(v){if(!v)return null;const p=Number(v);return isNaN(p)?null:p}class Pi{constructor(p,g){this.providerId=p,this.signInMethod=g}toJSON(){return it("not implemented")}_getIdTokenResponse(p){return it("not implemented")}_linkToIdToken(p,g){return it("not implemented")}_getReauthenticationResolver(p){return it("not implemented")}}function ua(v,p){return Io.apply(this,arguments)}function Io(){return(Io=(0,l.Z)(function*(v,p){return Re(v,"POST","/v1/accounts:resetPassword",ne(v,p))})).apply(this,arguments)}function hr(v,p){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,l.Z)(function*(v,p){return Re(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function xi(){return(xi=(0,l.Z)(function*(v,p){return Re(v,"POST","/v1/accounts:update",ne(v,p))})).apply(this,arguments)}function Ms(v,p){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,l.Z)(function*(v,p){return hn(v,"POST","/v1/accounts:signInWithPassword",ne(v,p))})).apply(this,arguments)}function Cn(v,p){return Li.apply(this,arguments)}function Li(){return(Li=(0,l.Z)(function*(v,p){return Re(v,"POST","/v1/accounts:sendOobCode",ne(v,p))})).apply(this,arguments)}function il(){return(il=(0,l.Z)(function*(v,p){return Cn(v,p)})).apply(this,arguments)}function da(v,p){return ts.apply(this,arguments)}function ts(){return(ts=(0,l.Z)(function*(v,p){return Cn(v,p)})).apply(this,arguments)}function Rs(v,p){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,l.Z)(function*(v,p){return Cn(v,p)})).apply(this,arguments)}function oi(){return(oi=(0,l.Z)(function*(v,p){return Cn(v,p)})).apply(this,arguments)}function ks(){return(ks=(0,l.Z)(function*(v,p){return hn(v,"POST","/v1/accounts:signInWithEmailLink",ne(v,p))})).apply(this,arguments)}function ol(){return(ol=(0,l.Z)(function*(v,p){return hn(v,"POST","/v1/accounts:signInWithEmailLink",ne(v,p))})).apply(this,arguments)}class gi extends Pi{constructor(p,g,E,R=null){super("password",E),this._email=p,this._password=g,this._tenantId=R}static _fromEmailAndPassword(p,g){return new gi(p,g,"password")}static _fromEmailAndCode(p,g,E=null){return new gi(p,g,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(p){var g=this;return(0,l.Z)(function*(){var E;switch(g.signInMethod){case"password":const R={returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(E=p._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const N=yield Ir(p,R,"signInWithPassword");return Ms(p,N)}return Ms(p,R).catch(function(){var N=(0,l.Z)(function*(J){if("auth/missing-recaptcha-token"===J.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const pe=yield Ir(p,R,"signInWithPassword");return Ms(p,pe)}return Promise.reject(J)});return function(J){return N.apply(this,arguments)}}());case"emailLink":return function Wi(v,p){return ks.apply(this,arguments)}(p,{email:g._email,oobCode:g._password});default:Se(p,"internal-error")}})()}_linkToIdToken(p,g){var E=this;return(0,l.Z)(function*(){switch(E.signInMethod){case"password":return hr(p,{idToken:g,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function tc(v,p){return ol.apply(this,arguments)}(p,{idToken:g,email:E._email,oobCode:E._password});default:Se(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function ns(v,p){return sl.apply(this,arguments)}function sl(){return(sl=(0,l.Z)(function*(v,p){return hn(v,"POST","/v1/accounts:signInWithIdp",ne(v,p))})).apply(this,arguments)}class so extends Pi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const g=new so(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(g.idToken=p.idToken),p.accessToken&&(g.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(g.nonce=p.nonce),p.pendingToken&&(g.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(g.accessToken=p.oauthToken,g.secret=p.oauthTokenSecret):Se("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:E,signInMethod:R}=g,N=(0,oe._T)(g,["providerId","signInMethod"]);if(!E||!R)return null;const J=new so(E,R);return J.idToken=N.idToken||void 0,J.accessToken=N.accessToken||void 0,J.secret=N.secret,J.nonce=N.nonce,J.pendingToken=N.pendingToken||null,J}_getIdTokenResponse(p){return ns(p,this.buildRequest())}_linkToIdToken(p,g){const E=this.buildRequest();return E.idToken=g,ns(p,E)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,ns(p,g)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),p.postBody=(0,j.xO)(g)}return p}}function Jd(){return(Jd=(0,l.Z)(function*(v,p){return Re(v,"POST","/v1/accounts:sendVerificationCode",ne(v,p))})).apply(this,arguments)}function Xd(){return(Xd=(0,l.Z)(function*(v,p){return hn(v,"POST","/v1/accounts:signInWithPhoneNumber",ne(v,p))})).apply(this,arguments)}function eh(){return(eh=(0,l.Z)(function*(v,p){const g=yield hn(v,"POST","/v1/accounts:signInWithPhoneNumber",ne(v,p));if(g.temporaryProof)throw gn(v,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const th={USER_NOT_FOUND:"user-not-found"};function dp(){return(dp=(0,l.Z)(function*(v,p){return hn(v,"POST","/v1/accounts:signInWithPhoneNumber",ne(v,Object.assign(Object.assign({},p),{operation:"REAUTH"})),th)})).apply(this,arguments)}class rs extends Pi{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,g){return new rs({verificationId:p,verificationCode:g})}static _fromTokenResponse(p,g){return new rs({phoneNumber:p,temporaryProof:g})}_getIdTokenResponse(p){return function up(v,p){return Xd.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,g){return function ng(v,p){return eh.apply(this,arguments)}(p,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function nh(v,p){return dp.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:g,verificationId:E,verificationCode:R}=this.params;return p&&g?{temporaryProof:p,phoneNumber:g}:{sessionInfo:E,code:R}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:g,verificationCode:E,phoneNumber:R,temporaryProof:N}=p;return E||g||R||N?new rs({verificationId:g,verificationCode:E,phoneNumber:R,temporaryProof:N}):null}}class ha{constructor(p){var g,E,R,N,J,pe;const Ge=(0,j.zd)((0,j.pd)(p)),Xe=null!==(g=Ge.apiKey)&&void 0!==g?g:null,yt=null!==(E=Ge.oobCode)&&void 0!==E?E:null,Gt=function To(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(R=Ge.mode)&&void 0!==R?R:null);ce(Xe&&yt&&Gt,"argument-error"),this.apiKey=Xe,this.operation=Gt,this.code=yt,this.continueUrl=null!==(N=Ge.continueUrl)&&void 0!==N?N:null,this.languageCode=null!==(J=Ge.languageCode)&&void 0!==J?J:null,this.tenantId=null!==(pe=Ge.tenantId)&&void 0!==pe?pe:null}static parseLink(p){const g=function hp(v){const p=(0,j.zd)((0,j.pd)(v)).link,g=p?(0,j.zd)((0,j.pd)(p)).deep_link_id:null,E=(0,j.zd)((0,j.pd)(v)).deep_link_id;return(E?(0,j.zd)((0,j.pd)(E)).link:null)||E||g||p||v}(p);try{return new ha(g)}catch{return null}}}let rh=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(g,E){return gi._fromEmailAndPassword(g,E)}static credentialWithLink(g,E){const R=ha.parseLink(E);return ce(R,"argument-error"),gi._fromEmailAndCode(g,R.code,R.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class is{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class fa extends is{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class So extends fa{static credentialFromJSON(p){const g="string"==typeof p?JSON.parse(p):p;return ce("providerId"in g&&"signInMethod"in g,"argument-error"),so._fromParams(g)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return ce(p.idToken||p.accessToken,"argument-error"),so._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return So.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return So.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:g,oauthAccessToken:E,oauthTokenSecret:R,pendingToken:N,nonce:J,providerId:pe}=p;if(!E&&!R&&!g&&!N||!pe)return null;try{return new So(pe)._credential({idToken:g,accessToken:E,nonce:J,pendingToken:N})}catch{return null}}}let ih=(()=>{class v extends fa{constructor(){super("facebook.com")}static credential(g){return so._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return v.credential(g.oauthAccessToken)}catch{return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),oh=(()=>{class v extends fa{constructor(){super("google.com"),this.addScope("profile")}static credential(g,E){return so._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:E})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:E,oauthAccessToken:R}=g;if(!E&&!R)return null;try{return v.credential(E,R)}catch{return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),nc=(()=>{class v extends fa{constructor(){super("github.com")}static credential(g){return so._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return v.credential(g.oauthAccessToken)}catch{return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class os extends Pi{constructor(p,g){super(p,p),this.pendingToken=g}_getIdTokenResponse(p){return ns(p,this.buildRequest())}_linkToIdToken(p,g){const E=this.buildRequest();return E.idToken=g,ns(p,E)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,ns(p,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:E,signInMethod:R,pendingToken:N}=g;return E&&R&&N&&E===R?new os(E,N):null}static _create(p,g){return new os(p,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class rc extends is{constructor(p){ce(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return rc.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return rc.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const g=os.fromJSON(p);return ce(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:g,providerId:E}=p;if(!g||!E)return null;try{return os._create(E,g)}catch{return null}}}let mp=(()=>{class v extends fa{constructor(){super("twitter.com")}static credential(g,E){return so._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:E})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:E,oauthTokenSecret:R}=g;if(!E||!R)return null;try{return v.credential(E,R)}catch{return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function pa(v,p){return Os.apply(this,arguments)}function Os(){return(Os=(0,l.Z)(function*(v,p){return hn(v,"POST","/v1/accounts:signUp",ne(v,p))})).apply(this,arguments)}class Vn{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,g,E,R=!1){return(0,l.Z)(function*(){const N=yield Ln._fromIdTokenResponse(p,E,R),J=al(E);return new Vn({user:N,providerId:J,_tokenResponse:E,operationType:g})})()}static _forOperation(p,g,E){return(0,l.Z)(function*(){yield p._updateTokensIfNecessary(E,!0);const R=al(E);return new Vn({user:p,providerId:R,_tokenResponse:E,operationType:g})})()}}function al(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function ic(v){return fr.apply(this,arguments)}function fr(){return(fr=(0,l.Z)(function*(v){var p;const g=vn(v);if(yield g._initializationPromise,null!==(p=g.currentUser)&&void 0!==p&&p.isAnonymous)return new Vn({user:g.currentUser,providerId:null,operationType:"signIn"});const E=yield pa(g,{returnSecureToken:!0}),R=yield Vn._fromIdTokenResponse(g,"signIn",E,!0);return yield g._updateCurrentUser(R.user),R})).apply(this,arguments)}class Ns extends j.ZR{constructor(p,g,E,R){var N;super(g.code,g.message),this.operationType=E,this.user=R,Object.setPrototypeOf(this,Ns.prototype),this.customData={appName:p.name,tenantId:null!==(N=p.tenantId)&&void 0!==N?N:void 0,_serverResponse:g.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(p,g,E,R){return new Ns(p,g,E,R)}}function Fs(v,p,g,E){return("reauthenticate"===p?g._getReauthenticationResolver(v):g._getIdTokenResponse(v)).catch(N=>{throw"auth/multi-factor-auth-required"===N.code?Ns._fromErrorAndOperation(v,N,p,E):N})}function Vr(v){return new Set(v.map(({providerId:p})=>p).filter(p=>!!p))}function gp(v,p){return oc.apply(this,arguments)}function oc(){return oc=(0,l.Z)(function*(v,p){const g=(0,j.m9)(v);yield ll(!0,g,p);const{providerUserInfo:E}=yield function Pn(v,p){return dr.apply(this,arguments)}(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[p]}),R=Vr(E||[]);return g.providerData=g.providerData.filter(N=>R.has(N.providerId)),R.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g}),oc.apply(this,arguments)}function si(v,p){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,l.Z)(function*(v,p,g=!1){const E=yield Kt(v,p._linkToIdToken(v.auth,yield v.getIdToken()),g);return Vn._forOperation(v,"link",E)})).apply(this,arguments)}function ll(v,p,g){return ss.apply(this,arguments)}function ss(){return(ss=(0,l.Z)(function*(v,p,g){yield Gn(p);const R=!1===v?"provider-already-linked":"no-such-provider";ce(Vr(p.providerData).has(g)===v,p.auth,R)})).apply(this,arguments)}function sh(v,p){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,l.Z)(function*(v,p,g=!1){const{auth:E}=v,R="reauthenticate";try{const N=yield Kt(v,Fs(E,R,p,v),g);ce(N.idToken,E,"internal-error");const J=ni(N.idToken);ce(J,E,"internal-error");const{sub:pe}=J;return ce(v.uid===pe,E,"user-mismatch"),Vn._forOperation(v,R,N)}catch(N){throw"auth/user-not-found"===N?.code&&Se(E,"user-mismatch"),N}})).apply(this,arguments)}function cl(v,p){return ma.apply(this,arguments)}function ma(){return(ma=(0,l.Z)(function*(v,p,g=!1){const E="signIn",R=yield Fs(v,E,p),N=yield Vn._fromIdTokenResponse(v,E,R);return g||(yield v._updateCurrentUser(N.user)),N})).apply(this,arguments)}function Ft(v,p){return sc.apply(this,arguments)}function sc(){return(sc=(0,l.Z)(function*(v,p){return cl(vn(v),p)})).apply(this,arguments)}function _p(v,p){return vu.apply(this,arguments)}function vu(){return(vu=(0,l.Z)(function*(v,p){const g=(0,j.m9)(v);return yield ll(!1,g,p.providerId),si(g,p)})).apply(this,arguments)}function bu(v,p){return wu.apply(this,arguments)}function wu(){return(wu=(0,l.Z)(function*(v,p){return sh((0,j.m9)(v),p)})).apply(this,arguments)}function lh(){return(lh=(0,l.Z)(function*(v,p){return hn(v,"POST","/v1/accounts:signInWithCustomToken",ne(v,p))})).apply(this,arguments)}function rg(v,p){return ye.apply(this,arguments)}function ye(){return ye=(0,l.Z)(function*(v,p){const g=vn(v),E=yield function ah(v,p){return lh.apply(this,arguments)}(g,{token:p,returnSecureToken:!0}),R=yield Vn._fromIdTokenResponse(g,"signIn",E);return yield g._updateCurrentUser(R.user),R}),ye.apply(this,arguments)}class Bt{constructor(p,g){this.factorId=p,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(p,g){return"phoneInfo"in g?Eu._fromServerResponse(p,g):"totpInfo"in g?ul._fromServerResponse(p,g):Se(p,"internal-error")}}class Eu extends Bt{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,g){return new Eu(g)}}class ul extends Bt{constructor(p){super("totp",p)}static _fromServerResponse(p,g){return new ul(g)}}function tr(v,p,g){var E;ce((null===(E=g.url)||void 0===E?void 0:E.length)>0,v,"invalid-continue-uri"),ce(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),p.continueUrl=g.url,p.dynamicLinkDomain=g.dynamicLinkDomain,p.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(ce(g.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),p.iOSBundleId=g.iOS.bundleId),g.android&&(ce(g.android.packageName.length>0,v,"missing-android-pkg-name"),p.androidInstallApp=g.android.installApp,p.androidMinimumVersionCode=g.android.minimumVersion,p.androidPackageName=g.android.packageName)}function ch(v,p,g){return ga.apply(this,arguments)}function ga(){return ga=(0,l.Z)(function*(v,p,g){var E;const R=vn(v),N={requestType:"PASSWORD_RESET",email:p,clientType:"CLIENT_TYPE_WEB"};if(null!==(E=R._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const J=yield Ir(R,N,"getOobCode",!0);g&&tr(R,J,g),yield da(R,J)}else g&&tr(R,N,g),yield da(R,N).catch(function(){var J=(0,l.Z)(function*(pe){if("auth/missing-recaptcha-token"!==pe.code)return Promise.reject(pe);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Ge=yield Ir(R,N,"getOobCode",!0);g&&tr(R,Ge,g),yield da(R,Ge)}});return function(pe){return J.apply(this,arguments)}}())}),ga.apply(this,arguments)}function Vi(v,p,g){return ac.apply(this,arguments)}function ac(){return(ac=(0,l.Z)(function*(v,p,g){yield ua((0,j.m9)(v),{oobCode:p,newPassword:g})})).apply(this,arguments)}function uh(v,p){return dh.apply(this,arguments)}function dh(){return dh=(0,l.Z)(function*(v,p){yield function As(v,p){return xi.apply(this,arguments)}((0,j.m9)(v),{oobCode:p})}),dh.apply(this,arguments)}function as(v,p){return _a.apply(this,arguments)}function _a(){return(_a=(0,l.Z)(function*(v,p){const g=(0,j.m9)(v),E=yield ua(g,{oobCode:p}),R=E.requestType;switch(ce(R,g,"internal-error"),R){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ce(E.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ce(E.mfaInfo,g,"internal-error");default:ce(E.email,g,"internal-error")}let N=null;return E.mfaInfo&&(N=Bt._fromServerResponse(vn(g),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:N},operation:R}})).apply(this,arguments)}function Br(v,p){return _i.apply(this,arguments)}function _i(){return(_i=(0,l.Z)(function*(v,p){const{data:g}=yield as((0,j.m9)(v),p);return g.email})).apply(this,arguments)}function ls(v,p,g){return Mo.apply(this,arguments)}function Mo(){return Mo=(0,l.Z)(function*(v,p,g){var E;const R=vn(v),N={returnSecureToken:!0,email:p,password:g,clientType:"CLIENT_TYPE_WEB"};let J;if(null!==(E=R._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const Xe=yield Ir(R,N,"signUpPassword");J=pa(R,Xe)}else J=pa(R,N).catch(function(){var Xe=(0,l.Z)(function*(yt){if("auth/missing-recaptcha-token"===yt.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Gt=yield Ir(R,N,"signUpPassword");return pa(R,Gt)}return Promise.reject(yt)});return function(yt){return Xe.apply(this,arguments)}}());const pe=yield J.catch(Xe=>Promise.reject(Xe)),Ge=yield Vn._fromIdTokenResponse(R,"signIn",pe);return yield R._updateCurrentUser(Ge.user),Ge}),Mo.apply(this,arguments)}function ao(v,p,g){return Ft((0,j.m9)(v),rh.credential(p,g))}function hh(v,p,g){return Ps.apply(this,arguments)}function Ps(){return Ps=(0,l.Z)(function*(v,p,g){var E;const R=vn(v),N={requestType:"EMAIL_SIGNIN",email:p,clientType:"CLIENT_TYPE_WEB"};function J(pe,Ge){ce(Ge.handleCodeInApp,R,"argument-error"),Ge&&tr(R,pe,Ge)}if(null!==(E=R._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const pe=yield Ir(R,N,"getOobCode",!0);J(pe,g),yield Rs(R,pe)}else J(N,g),yield Rs(R,N).catch(function(){var pe=(0,l.Z)(function*(Ge){if("auth/missing-recaptcha-token"!==Ge.code)return Promise.reject(Ge);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Xe=yield Ir(R,N,"getOobCode",!0);J(Xe,g),yield Rs(R,Xe)}});return function(Ge){return pe.apply(this,arguments)}}())}),Ps.apply(this,arguments)}function fh(v,p){return"EMAIL_SIGNIN"===ha.parseLink(p)?.operation}function ig(v,p,g){return nr.apply(this,arguments)}function nr(){return(nr=(0,l.Z)(function*(v,p,g){const E=(0,j.m9)(v),R=rh.credentialWithLink(p,g||lt());return ce(R._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),Ft(E,R)})).apply(this,arguments)}function dl(){return(dl=(0,l.Z)(function*(v,p){return Re(v,"POST","/v1/accounts:createAuthUri",ne(v,p))})).apply(this,arguments)}function ph(v,p){return cc.apply(this,arguments)}function cc(){return cc=(0,l.Z)(function*(v,p){const E={identifier:p,continueUri:Zt()?lt():"http://localhost"},{signinMethods:R}=yield function lc(v,p){return dl.apply(this,arguments)}((0,j.m9)(v),E);return R||[]}),cc.apply(this,arguments)}function mh(v,p){return ya.apply(this,arguments)}function ya(){return ya=(0,l.Z)(function*(v,p){const g=(0,j.m9)(v),R={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};p&&tr(g.auth,R,p);const{email:N}=yield function _u(v,p){return il.apply(this,arguments)}(g.auth,R);N!==v.email&&(yield v.reload())}),ya.apply(this,arguments)}function Cu(v,p,g){return hl.apply(this,arguments)}function hl(){return hl=(0,l.Z)(function*(v,p,g){const E=(0,j.m9)(v),N={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:p};g&&tr(E.auth,N,g);const{email:J}=yield function Qd(v,p){return oi.apply(this,arguments)}(E.auth,N);J!==v.email&&(yield v.reload())}),hl.apply(this,arguments)}function uc(){return(uc=(0,l.Z)(function*(v,p){return Re(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function gh(v,p){return xu.apply(this,arguments)}function xu(){return xu=(0,l.Z)(function*(v,{displayName:p,photoURL:g}){if(void 0===p&&void 0===g)return;const E=(0,j.m9)(v),N={idToken:yield E.getIdToken(),displayName:p,photoUrl:g,returnSecureToken:!0},J=yield Kt(E,function Du(v,p){return uc.apply(this,arguments)}(E.auth,N));E.displayName=J.displayName||null,E.photoURL=J.photoUrl||null;const pe=E.providerData.find(({providerId:Ge})=>"password"===Ge);pe&&(pe.displayName=E.displayName,pe.photoURL=E.photoURL),yield E._updateTokensIfNecessary(J)}),xu.apply(this,arguments)}function _h(v,p){return lo((0,j.m9)(v),p,null)}function Yr(v,p){return lo((0,j.m9)(v),null,p)}function lo(v,p,g){return On.apply(this,arguments)}function On(){return(On=(0,l.Z)(function*(v,p,g){const{auth:E}=v,N={idToken:yield v.getIdToken(),returnSecureToken:!0};p&&(N.email=p),g&&(N.password=g);const J=yield Kt(v,hr(E,N));yield v._updateTokensIfNecessary(J,!0)})).apply(this,arguments)}class va{constructor(p,g,E={}){this.isNewUser=p,this.providerId=g,this.profile=E}}class Iu extends va{constructor(p,g,E,R){super(p,g,E),this.username=R}}class og extends va{constructor(p,g){super(p,"facebook.com",g)}}class vh extends Iu{constructor(p,g){super(p,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class sg extends va{constructor(p,g){super(p,"google.com",g)}}class dc extends Iu{constructor(p,g,E){super(p,"twitter.com",g,E)}}function Tu(v){const{user:p,_tokenResponse:g}=v;return p.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function yh(v){var p,g;if(!v)return null;const{providerId:E}=v,R=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},N=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!E&&v?.idToken){const J=null===(g=null===(p=ni(v.idToken))||void 0===p?void 0:p.firebase)||void 0===g?void 0:g.sign_in_provider;if(J)return new va(N,"anonymous"!==J&&"custom"!==J?J:null)}if(!E)return null;switch(E){case"facebook.com":return new og(N,R);case"github.com":return new vh(N,R);case"google.com":return new sg(N,R);case"twitter.com":return new dc(N,R,v.screenName||null);case"custom":case"anonymous":return new va(N,null);default:return new va(N,E,R)}}(g)}class ko{constructor(p,g,E){this.type=p,this.credential=g,this.auth=E}static _fromIdtoken(p,g){return new ko("enroll",p,g)}static _fromMfaPendingCredential(p){return new ko("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var g,E;if(p?.multiFactorSession){if(null!==(g=p.multiFactorSession)&&void 0!==g&&g.pendingCredential)return ko._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(E=p.multiFactorSession)&&void 0!==E&&E.idToken)return ko._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Su{constructor(p,g,E){this.session=p,this.hints=g,this.signInResolver=E}static _fromError(p,g){const E=vn(p),R=g.customData._serverResponse,N=(R.mfaInfo||[]).map(pe=>Bt._fromServerResponse(E,pe));ce(R.mfaPendingCredential,E,"internal-error");const J=ko._fromMfaPendingCredential(R.mfaPendingCredential);return new Su(J,N,function(){var pe=(0,l.Z)(function*(Ge){const Xe=yield Ge._process(E,J);delete R.mfaInfo,delete R.mfaPendingCredential;const yt=Object.assign(Object.assign({},R),{idToken:Xe.idToken,refreshToken:Xe.refreshToken});switch(g.operationType){case"signIn":const Gt=yield Vn._fromIdTokenResponse(E,g.operationType,yt);return yield E._updateCurrentUser(Gt.user),Gt;case"reauthenticate":return ce(g.user,E,"internal-error"),Vn._forOperation(g.user,g.operationType,yt);default:Se(E,"internal-error")}});return function(Ge){return pe.apply(this,arguments)}}())}resolveSignIn(p){var g=this;return(0,l.Z)(function*(){return g.signInResolver(p)})()}}function pl(v,p){var g;const E=(0,j.m9)(v),R=p;return ce(p.customData.operationType,E,"argument-error"),ce(null===(g=R.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,E,"argument-error"),Su._fromError(E,R)}class Ea{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(E=>Bt._fromServerResponse(p.auth,E)))})}static _fromUser(p){return new Ea(p)}getSession(){var p=this;return(0,l.Z)(function*(){return ko._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,g){var E=this;return(0,l.Z)(function*(){const R=p,N=yield E.getSession(),J=yield Kt(E.user,R._process(E.user.auth,N,g));return yield E.user._updateTokensIfNecessary(J),E.user.reload()})()}unenroll(p){var g=this;return(0,l.Z)(function*(){const E="string"==typeof p?p:p.uid,R=yield g.user.getIdToken();try{const N=yield Kt(g.user,function Ls(v,p){return Re(v,"POST","/v2/accounts/mfaEnrollment:withdraw",ne(v,p))}(g.user.auth,{idToken:R,mfaEnrollmentId:E}));g.enrolledFactors=g.enrolledFactors.filter(({uid:J})=>J!==E),yield g.user._updateTokensIfNecessary(N),yield g.user.reload()}catch(N){throw N}})()}}const Vs=new WeakMap;function Ca(v){const p=(0,j.m9)(v);return Vs.has(p)||Vs.set(p,Ea._fromUser(p)),Vs.get(p)}const ml="__sak";class gl{constructor(p,g){this.storageRetriever=p,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(ml,"1"),this.storage.removeItem(ml),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,g){return this.storage.setItem(p,JSON.stringify(g)),Promise.resolve()}_get(p){const g=this.storage.getItem(p);return Promise.resolve(g?JSON.parse(g):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const mc=(()=>{class v extends gl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,E)=>this.onStorageEvent(g,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Au(){const v=(0,j.z$)();return L(v)||Tt(v)}()&&function Dr(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=$t(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const E of Object.keys(this.listeners)){const R=this.storage.getItem(E),N=this.localCache[E];R!==N&&g(E,N,R)}}onStorageEvent(g,E=!1){if(!g.key)return void this.forAllChangedKeys((pe,Ge,Xe)=>{this.notifyListeners(pe,Xe)});const R=g.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const pe=this.storage.getItem(R);if(g.newValue!==pe)null!==g.newValue?this.storage.setItem(R,g.newValue):this.storage.removeItem(R);else if(this.localCache[R]===g.newValue&&!E)return}const N=()=>{const pe=this.storage.getItem(R);!E&&this.localCache[R]===pe||this.notifyListeners(R,pe)},J=this.storage.getItem(R);!function Tn(){return(0,j.w1)()&&10===document.documentMode}()||J===g.newValue||g.newValue===g.oldValue?N():setTimeout(N,10)}notifyListeners(g,E){this.localCache[g]=E;const R=this.listeners[g];if(R)for(const N of Array.from(R))N(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,E,R)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:E,newValue:R}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(E)}_removeListener(g,E){this.listeners[g]&&(this.listeners[g].delete(E),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,E){var R=()=>super._set,N=this;return(0,l.Z)(function*(){yield R().call(N,g,E),N.localCache[g]=JSON.stringify(E)})()}_get(g){var E=()=>super._get,R=this;return(0,l.Z)(function*(){const N=yield E().call(R,g);return R.localCache[g]=JSON.stringify(N),N})()}_remove(g){var E=()=>super._remove,R=this;return(0,l.Z)(function*(){yield E().call(R,g),delete R.localCache[g]})()}}return v.type="LOCAL",v})(),ai=(()=>{class v extends gl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,E){}_removeListener(g,E){}}return v.type="SESSION",v})();let ku=(()=>{class v{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const E=this.receivers.find(N=>N.isListeningto(g));if(E)return E;const R=new v(g);return this.receivers.push(R),R}isListeningto(g){return this.eventTarget===g}handleEvent(g){var E=this;return(0,l.Z)(function*(){const R=g,{eventId:N,eventType:J,data:pe}=R.data,Ge=E.handlersMap[J];if(!Ge?.size)return;R.ports[0].postMessage({status:"ack",eventId:N,eventType:J});const Xe=Array.from(Ge).map(function(){var Gt=(0,l.Z)(function*(ci){return ci(R.origin,pe)});return function(ci){return Gt.apply(this,arguments)}}()),yt=yield function Dh(v){return Promise.all(v.map(function(){var p=(0,l.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(E){return{fulfilled:!1,reason:E}}});return function(g){return p.apply(this,arguments)}}()))}(Xe);R.ports[0].postMessage({status:"done",eventId:N,eventType:J,response:yt})})()}_subscribe(g,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(E)}_unsubscribe(g,E){this.handlersMap[g]&&E&&this.handlersMap[g].delete(E),(!E||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function co(v="",p=10){let g="";for(let E=0;E<p;E++)g+=Math.floor(10*Math.random());return v+g}class xh{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,g,E=50){var R=this;return(0,l.Z)(function*(){const N=typeof MessageChannel<"u"?new MessageChannel:null;if(!N)throw new Error("connection_unavailable");let J,pe;return new Promise((Ge,Xe)=>{const yt=co("",20);N.port1.start();const Gt=setTimeout(()=>{Xe(new Error("unsupported_event"))},E);pe={messageChannel:N,onMessage(ci){const _s=ci;if(_s.data.eventId===yt)switch(_s.data.status){case"ack":clearTimeout(Gt),J=setTimeout(()=>{Xe(new Error("timeout"))},3e3);break;case"done":clearTimeout(J),Ge(_s.data.response);break;default:clearTimeout(Gt),clearTimeout(J),Xe(new Error("invalid_response"))}}},R.handlers.add(pe),N.port1.addEventListener("message",pe.onMessage),R.target.postMessage({eventType:p,eventId:yt,data:g},[N.port2])}).finally(()=>{pe&&R.removeMessageHandler(pe)})})()}}function rr(){return window}function gc(){return typeof rr().WorkerGlobalScope<"u"&&"function"==typeof rr().importScripts}function yl(){return(yl=(0,l.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const pr="firebaseLocalStorageDb",Da=1,Bn="firebaseLocalStorage",bp="fbase_key";class ds{constructor(p){this.request=p}toPromise(){return new Promise((p,g)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function yc(v,p){return v.transaction([Bn],p?"readwrite":"readonly").objectStore(Bn)}function Ou(){const v=indexedDB.open(pr,Da);return new Promise((p,g)=>{v.addEventListener("error",()=>{g(v.error)}),v.addEventListener("upgradeneeded",()=>{const E=v.result;try{E.createObjectStore(Bn,{keyPath:bp})}catch(R){g(R)}}),v.addEventListener("success",(0,l.Z)(function*(){const E=v.result;E.objectStoreNames.contains(Bn)?p(E):(E.close(),yield function xa(){const v=indexedDB.deleteDatabase(pr);return new ds(v).toPromise()}(),p(yield Ou()))}))})}function Nu(v,p,g){return hs.apply(this,arguments)}function hs(){return(hs=(0,l.Z)(function*(v,p,g){const E=yc(v,!0).put({[bp]:p,value:g});return new ds(E).toPromise()})).apply(this,arguments)}function Bs(){return(Bs=(0,l.Z)(function*(v,p){const g=yc(v,!1).get(p),E=yield new ds(g).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function vl(v,p){const g=yc(v,!0).delete(p);return new ds(g).toPromise()}const Fu=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,l.Z)(function*(){return g.db||(g.db=yield Ou()),g.db})()}_withRetries(g){var E=this;return(0,l.Z)(function*(){let R=0;for(;;)try{const N=yield E._openDb();return yield g(N)}catch(N){if(R++>3)throw N;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,l.Z)(function*(){return gc()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,l.Z)(function*(){g.receiver=ku._getInstance(function _c(){return gc()?self:null}()),g.receiver._subscribe("keyChanged",function(){var E=(0,l.Z)(function*(R,N){return{keyProcessed:(yield g._poll()).includes(N.key)}});return function(R,N){return E.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var E=(0,l.Z)(function*(R,N){return["keyChanged"]});return function(R,N){return E.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,l.Z)(function*(){var E,R;if(g.activeServiceWorker=yield function Ih(){return yl.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new xh(g.activeServiceWorker);const N=yield g.sender._send("ping",{},800);N&&null!==(E=N[0])&&void 0!==E&&E.fulfilled&&null!==(R=N[0])&&void 0!==R&&R.value.includes("keyChanged")&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var E=this;return(0,l.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function Th(){var v;return(null===(v=navigator?.serviceWorker)||void 0===v?void 0:v.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:g},E.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const g=yield Ou();return yield Nu(g,ml,"1"),yield vl(g,ml),!0}catch{}return!1})()}_withPendingWrite(g){var E=this;return(0,l.Z)(function*(){E.pendingWrites++;try{yield g()}finally{E.pendingWrites--}})()}_set(g,E){var R=this;return(0,l.Z)(function*(){return R._withPendingWrite((0,l.Z)(function*(){return yield R._withRetries(N=>Nu(N,g,E)),R.localCache[g]=E,R.notifyServiceWorker(g)}))})()}_get(g){var E=this;return(0,l.Z)(function*(){const R=yield E._withRetries(N=>function wp(v,p){return Bs.apply(this,arguments)}(N,g));return E.localCache[g]=R,R})()}_remove(g){var E=this;return(0,l.Z)(function*(){return E._withPendingWrite((0,l.Z)(function*(){return yield E._withRetries(R=>vl(R,g)),delete E.localCache[g],E.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,l.Z)(function*(){const E=yield g._withRetries(J=>{const pe=yc(J,!1).getAll();return new ds(pe).toPromise()});if(!E)return[];if(0!==g.pendingWrites)return[];const R=[],N=new Set;for(const{fbase_key:J,value:pe}of E)N.add(J),JSON.stringify(g.localCache[J])!==JSON.stringify(pe)&&(g.notifyListeners(J,pe),R.push(J));for(const J of Object.keys(g.localCache))g.localCache[J]&&!N.has(J)&&(g.notifyListeners(J,null),R.push(J));return R})()}notifyListeners(g,E){this.localCache[g]=E;const R=this.listeners[g];if(R)for(const N of Array.from(R))N(E)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(E)}_removeListener(g,E){this.listeners[g]&&(this.listeners[g].delete(E),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})(),Pu=1e12;class Mh{constructor(p){this.auth=p,this.counter=Pu,this._widgets=new Map}render(p,g){const E=this.counter;return this._widgets.set(E,new Lu(p,this.auth.name,g||{})),this.counter++,E}reset(p){var g;const E=p||Pu;null===(g=this._widgets.get(E))||void 0===g||g.delete(),this._widgets.delete(E)}getResponse(p){var g;return(null===(g=this._widgets.get(p||Pu))||void 0===g?void 0:g.getResponse())||""}execute(p){var g=this;return(0,l.Z)(function*(){var E;return null===(E=g._widgets.get(p||Pu))||void 0===E||E.execute(),""})()}}class Lu{constructor(p,g,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const R="string"==typeof p?document.getElementById(p):p;ce(R,"argument-error",{appName:g}),this.container=R,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Vu(v){const p=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<v;E++)p.push(g.charAt(Math.floor(Math.random()*g.length)));return p.join("")}(50);const{callback:p,"expired-callback":g}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Cp=Kr("rcb"),zy=new Ci(3e4,6e4);class zs{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=rr().grecaptcha)||void 0===p||!p.render)}load(p,g=""){return ce(function Gy(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(g),p,"argument-error"),this.shouldResolveImmediately(g)&&Mt(rr().grecaptcha)?Promise.resolve(rr().grecaptcha):new Promise((E,R)=>{const N=rr().setTimeout(()=>{R(Te(p,"network-request-failed"))},zy.get());rr()[Cp]=()=>{rr().clearTimeout(N),delete rr()[Cp];const pe=rr().grecaptcha;if(!pe||!Mt(pe))return void R(Te(p,"internal-error"));const Ge=pe.render;pe.render=(Xe,yt)=>{const Gt=Ge(Xe,yt);return this.counter++,Gt},this.hostLanguage=g,E(pe)},ln(`https://www.google.com/recaptcha/api.js??${(0,j.xO)({onload:Cp,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(N),R(Te(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var g;return!(null===(g=rr().grecaptcha)||void 0===g||!g.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Dp{load(p){return(0,l.Z)(function*(){return new Mh(p)})()}clearedOneInstance(){}}const mr="recaptcha",bc={theme:"light",type:"image"};class wc{constructor(p,g=Object.assign({},bc),E){this.parameters=g,this.type=mr,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=vn(E),this.isInvisible="invisible"===this.parameters.size,ce(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const R="string"==typeof p?document.getElementById(p):p;ce(R,this.auth,"argument-error"),this.container=R,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Dp:new zs,this.validateStartingState()}verify(){var p=this;return(0,l.Z)(function*(){p.assertNotDestroyed();const g=yield p.render(),E=p.getAssertedRecaptcha();return E.getResponse(g)||new Promise(N=>{const J=pe=>{pe&&(p.tokenChangeListeners.delete(J),N(pe))};p.tokenChangeListeners.add(J),p.isInvisible&&E.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){ce(!this.parameters.sitekey,this.auth,"argument-error"),ce(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ce(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return g=>{if(this.tokenChangeListeners.forEach(E=>E(g)),"function"==typeof p)p(g);else if("string"==typeof p){const E=rr()[p];"function"==typeof E&&E(g)}}}assertNotDestroyed(){ce(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,l.Z)(function*(){if(yield p.init(),!p.widgetId){let g=p.container;if(!p.isInvisible){const E=document.createElement("div");g.appendChild(E),g=E}p.widgetId=p.getAssertedRecaptcha().render(g,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,l.Z)(function*(){ce(Zt()&&!gc(),p.auth,"internal-error"),yield function Bu(){let v=null;return new Promise(p=>{"complete"!==document.readyState?(v=()=>p(),window.addEventListener("load",v)):p()}).catch(p=>{throw v&&window.removeEventListener("load",v),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const g=yield function _e(v){return ae.apply(this,arguments)}(p.auth);ce(g,p.auth,"internal-error"),p.parameters.sitekey=g})()}getAssertedRecaptcha(){return ce(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ii{constructor(p,g){this.verificationId=p,this.onConfirmation=g}confirm(p){const g=rs._fromVerification(this.verificationId,p);return this.onConfirmation(g)}}function fs(v,p,g){return Uu.apply(this,arguments)}function Uu(){return(Uu=(0,l.Z)(function*(v,p,g){const E=vn(v),R=yield wl(E,p,(0,j.m9)(g));return new Ii(R,N=>Ft(E,N))})).apply(this,arguments)}function bl(v,p,g){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,l.Z)(function*(v,p,g){const E=(0,j.m9)(v);yield ll(!1,E,"phone");const R=yield wl(E.auth,p,(0,j.m9)(g));return new Ii(R,N=>_p(E,N))})).apply(this,arguments)}function Rh(v,p,g){return $s.apply(this,arguments)}function $s(){return($s=(0,l.Z)(function*(v,p,g){const E=(0,j.m9)(v),R=yield wl(E.auth,p,(0,j.m9)(g));return new Ii(R,N=>bu(E,N))})).apply(this,arguments)}function wl(v,p,g){return Ec.apply(this,arguments)}function Ec(){return Ec=(0,l.Z)(function*(v,p,g){var E;const R=yield g.verify();try{let N;if(ce("string"==typeof R,v,"argument-error"),ce(g.type===mr,v,"argument-error"),N="string"==typeof p?{phoneNumber:p}:p,"session"in N){const J=N.session;if("phoneNumber"in N)return ce("enroll"===J.type,v,"internal-error"),(yield function pc(v,p){return Re(v,"POST","/v2/accounts/mfaEnrollment:start",ne(v,p))}(v,{idToken:J.credential,phoneEnrollmentInfo:{phoneNumber:N.phoneNumber,recaptchaToken:R}})).phoneSessionInfo.sessionInfo;{ce("signin"===J.type,v,"internal-error");const pe=(null===(E=N.multiFactorHint)||void 0===E?void 0:E.uid)||N.multiFactorUid;return ce(pe,v,"missing-multi-factor-info"),(yield function Sh(v,p){return Re(v,"POST","/v2/accounts/mfaSignIn:start",ne(v,p))}(v,{mfaPendingCredential:J.credential,mfaEnrollmentId:pe,phoneSignInInfo:{recaptchaToken:R}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:J}=yield function tg(v,p){return Jd.apply(this,arguments)}(v,{phoneNumber:N.phoneNumber,recaptchaToken:R});return J}}finally{g._reset()}}),Ec.apply(this,arguments)}function Bi(v,p){return uo.apply(this,arguments)}function uo(){return(uo=(0,l.Z)(function*(v,p){yield si((0,j.m9)(v),p)})).apply(this,arguments)}let Un=(()=>{class v{constructor(g){this.providerId=v.PROVIDER_ID,this.auth=vn(g)}verifyPhoneNumber(g,E){return wl(this.auth,g,(0,j.m9)(E))}static credential(g,E){return rs._fromVerification(g,E)}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:E,temporaryProof:R}=g;return E&&R?rs._fromTokenResponse(E,R):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function pn(v,p){return p?er(p):(ce(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class Oo extends Pi{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return ns(p,this._buildIdpRequest())}_linkToIdToken(p,g){return ns(p,this._buildIdpRequest(g))}_getReauthenticationResolver(p){return ns(p,this._buildIdpRequest())}_buildIdpRequest(p){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(g.idToken=p),g}}function Ye(v){return cl(v.auth,new Oo(v),v.bypassAuthState)}function bn(v){const{auth:p,user:g}=v;return ce(g,p,"internal-error"),sh(g,new Oo(v),v.bypassAuthState)}function Ta(v){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,l.Z)(function*(v){const{auth:p,user:g}=v;return ce(g,p,"internal-error"),si(g,new Oo(v),v.bypassAuthState)})).apply(this,arguments)}class Aa{constructor(p,g,E,R,N=!1){this.auth=p,this.resolver=E,this.user=R,this.bypassAuthState=N,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var p=this;return new Promise(function(){var g=(0,l.Z)(function*(E,R){p.pendingPromise={resolve:E,reject:R};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(N){p.reject(N)}});return function(E,R){return g.apply(this,arguments)}}())}onAuthEvent(p){var g=this;return(0,l.Z)(function*(){const{urlResponse:E,sessionId:R,postBody:N,tenantId:J,error:pe,type:Ge}=p;if(pe)return void g.reject(pe);const Xe={auth:g.auth,requestUri:E,sessionId:R,tenantId:J||void 0,postBody:N||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Ge)(Xe))}catch(yt){g.reject(yt)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Ye;case"linkViaPopup":case"linkViaRedirect":return Ta;case"reauthViaPopup":case"reauthViaRedirect":return bn;default:Se(this.auth,"internal-error")}}resolve(p){St(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){St(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const gr=new Ci(2e3,1e4);function Ur(v,p,g){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,l.Z)(function*(v,p,g){const E=vn(v);ze(v,p,is);const R=pn(E,g);return new Gs(E,"signInViaPopup",p,R).executeNotNull()})).apply(this,arguments)}function El(v,p,g){return ct.apply(this,arguments)}function ct(){return(ct=(0,l.Z)(function*(v,p,g){const E=(0,j.m9)(v);ze(E.auth,p,is);const R=pn(E.auth,g);return new Gs(E.auth,"reauthViaPopup",p,R,E).executeNotNull()})).apply(this,arguments)}function kh(v,p,g){return ho.apply(this,arguments)}function ho(){return(ho=(0,l.Z)(function*(v,p,g){const E=(0,j.m9)(v);ze(E.auth,p,is);const R=pn(E.auth,g);return new Gs(E.auth,"linkViaPopup",p,R,E).executeNotNull()})).apply(this,arguments)}let Gs=(()=>{class v extends Aa{constructor(g,E,R,N,J){super(g,E,N,J),this.provider=R,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var g=this;return(0,l.Z)(function*(){const E=yield g.execute();return ce(E,g.auth,"internal-error"),E})()}onExecution(){var g=this;return(0,l.Z)(function*(){St(1===g.filter.length,"Popup operations only handle one event");const E=co();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],E),g.authWindow.associatedEvent=E,g.resolver._originValidation(g.auth).catch(R=>{g.reject(R)}),g.resolver._isIframeWebStorageSupported(g.auth,R=>{R||g.reject(Te(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(Te(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const g=()=>{var E,R;this.pollId=null!==(R=null===(E=this.authWindow)||void 0===E?void 0:E.window)&&void 0!==R&&R.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Te(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(g,gr.get())};g()}}return v.currentPopupAction=null,v})();const Hu="pendingRedirect",Zi=new Map;class Qr extends Aa{constructor(p,g,E=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,E),this.eventId=null}execute(){var p=()=>super.execute,g=this;return(0,l.Z)(function*(){let E=Zi.get(g.auth._key());if(!E){try{const N=(yield function Ki(v,p){return Cc.apply(this,arguments)}(g.resolver,g.auth))?yield p().call(g):null;E=()=>Promise.resolve(N)}catch(R){E=()=>Promise.reject(R)}Zi.set(g.auth._key(),E)}return g.bypassAuthState||Zi.set(g.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(p){var g=()=>super.onAuthEvent,E=this;return(0,l.Z)(function*(){if("signInViaRedirect"===p.type)return g().call(E,p);if("unknown"!==p.type){if(p.eventId){const R=yield E.auth._redirectUserForId(p.eventId);if(R)return E.user=R,g().call(E,p);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function Cc(){return(Cc=(0,l.Z)(function*(v,p){const g=un(p),E=ps(v);if(!(yield E._isAvailable()))return!1;const R="true"===(yield E._get(g));return yield E._remove(g),R})).apply(this,arguments)}function Oh(v,p){return ve.apply(this,arguments)}function ve(){return(ve=(0,l.Z)(function*(v,p){return ps(v)._set(un(p),"true")})).apply(this,arguments)}function Ui(){Zi.clear()}function Dc(v,p){Zi.set(v._key(),p)}function ps(v){return er(v._redirectPersistence)}function un(v){return ii(Hu,v.config.apiKey,v.name)}function Nh(v,p,g){return function Yi(v,p,g){return Qe.apply(this,arguments)}(v,p,g)}function Qe(){return(Qe=(0,l.Z)(function*(v,p,g){const E=vn(v);ze(v,p,is),yield E._initializationPromise;const R=pn(E,g);return yield Oh(R,E),R._openRedirect(E,p,"signInViaRedirect")})).apply(this,arguments)}function ju(v,p,g){return function Ut(v,p,g){return No.apply(this,arguments)}(v,p,g)}function No(){return(No=(0,l.Z)(function*(v,p,g){const E=(0,j.m9)(v);ze(E.auth,p,is),yield E.auth._initializationPromise;const R=pn(E.auth,g);yield Oh(R,E.auth);const N=yield Ra(E);return R._openRedirect(E.auth,p,"reauthViaRedirect",N)})).apply(this,arguments)}function Ma(v,p,g){return function xp(v,p,g){return Cl.apply(this,arguments)}(v,p,g)}function Cl(){return(Cl=(0,l.Z)(function*(v,p,g){const E=(0,j.m9)(v);ze(E.auth,p,is),yield E.auth._initializationPromise;const R=pn(E.auth,g);yield ll(!1,E,p.providerId),yield Oh(R,E.auth);const N=yield Ra(E);return R._openRedirect(E.auth,p,"linkViaRedirect",N)})).apply(this,arguments)}function lg(v,p){return Dl.apply(this,arguments)}function Dl(){return(Dl=(0,l.Z)(function*(v,p){return yield vn(v)._initializationPromise,Fh(v,p,!1)})).apply(this,arguments)}function Fh(v,p){return _r.apply(this,arguments)}function _r(){return(_r=(0,l.Z)(function*(v,p,g=!1){const E=vn(v),R=pn(E,p),J=yield new Qr(E,R,g).execute();return J&&!g&&(delete J.user._redirectEventId,yield E._persistUserIfCurrent(J.user),yield E._setRedirectUser(null,p)),J})).apply(this,arguments)}function Ra(v){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,l.Z)(function*(v){const p=co(`${v.uid}:::`);return v._redirectEventId=p,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),p})).apply(this,arguments)}class zu{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let g=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(p,E)&&(g=!0,this.sendToConsumer(p,E),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function $u(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xl(v);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=p,g=!0)),g}sendToConsumer(p,g){var E;if(p.error&&!xl(p)){const R=(null===(E=p.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";g.onError(Te(this.auth,R))}else g.onAuthEvent(p)}isEventForConsumer(p,g){const E=null===g.eventId||!!p.eventId&&p.eventId===g.eventId;return g.filter.includes(p.type)&&E}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(qs(p))}saveEventToCache(p){this.cachedEventUids.add(qs(p)),this.lastProcessedEventTime=Date.now()}}function qs(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(p=>p).join("-")}function xl({type:v,error:p}){return"unknown"===v&&"auth/no-auth-event"===p?.code}function Mr(v){return xc.apply(this,arguments)}function xc(){return(xc=(0,l.Z)(function*(v,p={}){return Re(v,"GET","/v1/projects",p)})).apply(this,arguments)}const Gu=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qu=/^https?/;function Ws(){return(Ws=(0,l.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:p}=yield Mr(v);for(const g of p)try{if(Ph(g))return}catch{}Se(v,"unauthorized-domain")})).apply(this,arguments)}function Ph(v){const p=lt(),{protocol:g,hostname:E}=new URL(p);if(v.startsWith("chrome-extension://")){const J=new URL(v);return""===J.hostname&&""===E?"chrome-extension:"===g&&v.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===g&&J.hostname===E}if(!qu.test(g))return!1;if(Gu.test(v))return E===v;const R=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+R+"|"+R+")$","i").test(E)}const Zs=new Ci(3e4,6e4);function Po(){const v=rr().___jsl;if(v?.H)for(const p of Object.keys(v.H))if(v.H[p].r=v.H[p].r||[],v.H[p].L=v.H[p].L||[],v.H[p].r=[...v.H[p].L],v.CP)for(let g=0;g<v.CP.length;g++)v.CP[g]=null}let ka=null;const Ip=new Ci(5e3,15e3),Lo="__/auth/iframe",Ic="emulator/auth/iframe",Lh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Tc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Wu(v){const p=v.config;ce(p.authDomain,v,"auth-domain-config-required");const g=p.emulator?io(p,Ic):`https://${v.config.authDomain}/${Lo}`,E={apiKey:p.apiKey,appName:v.name,v:F.SDK_VERSION},R=Tc.get(v.config.apiHost);R&&(E.eid=R);const N=v._getFrameworks();return N.length&&(E.fw=N.join(",")),`${g}?${(0,j.xO)(E).slice(1)}`}function Ac(){return Ac=(0,l.Z)(function*(v){const p=yield function ms(v){return ka=ka||function Qi(v){return new Promise((p,g)=>{var E,R,N;function J(){Po(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Po(),g(Te(v,"network-request-failed"))},timeout:Zs.get()})}if(null!==(R=null===(E=rr().gapi)||void 0===E?void 0:E.iframes)&&void 0!==R&&R.Iframe)p(gapi.iframes.getContext());else{if(null===(N=rr().gapi)||void 0===N||!N.load){const pe=Kr("iframefcb");return rr()[pe]=()=>{gapi.load?J():g(Te(v,"network-request-failed"))},ln(`https://apis.google.com/js/api.js?onload=${pe}`).catch(Ge=>g(Ge))}J()}}).catch(p=>{throw ka=null,p})}(v),ka}(v),g=rr().gapi;return ce(g,v,"internal-error"),p.open({where:document.body,url:Wu(v),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Lh,dontclear:!0},E=>new Promise(function(){var R=(0,l.Z)(function*(N,J){yield E.restyle({setHideOnLeave:!1});const pe=Te(v,"network-request-failed"),Ge=rr().setTimeout(()=>{J(pe)},Ip.get());function Xe(){rr().clearTimeout(Ge),N(E)}E.ping(Xe).then(Xe,()=>{J(pe)})});return function(N,J){return R.apply(this,arguments)}}()))}),Ac.apply(this,arguments)}const w={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},D=500,S=600,B="_blank",K="http://localhost";class X{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const We="__/auth/handler",mt="emulator/auth/handler",kt=encodeURIComponent("fac");function Ot(v,p,g,E,R,N){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,l.Z)(function*(v,p,g,E,R,N){ce(v.config.authDomain,v,"auth-domain-config-required"),ce(v.config.apiKey,v,"invalid-api-key");const J={apiKey:v.config.apiKey,appName:v.name,authType:g,redirectUrl:E,v:F.SDK_VERSION,eventId:R};if(p instanceof is){p.setDefaultLanguage(v.languageCode),J.providerId=p.providerId||"",(0,j.xb)(p.getCustomParameters())||(J.customParameters=JSON.stringify(p.getCustomParameters()));for(const[yt,Gt]of Object.entries(N||{}))J[yt]=Gt}if(p instanceof fa){const yt=p.getScopes().filter(Gt=>""!==Gt);yt.length>0&&(J.scopes=yt.join(","))}v.tenantId&&(J.tid=v.tenantId);const pe=J;for(const yt of Object.keys(pe))void 0===pe[yt]&&delete pe[yt];const Ge=yield v._getAppCheckToken(),Xe=Ge?`#${kt}=${encodeURIComponent(Ge)}`:"";return`${function yr({config:v}){return v.emulator?io(v,mt):`https://${v.authDomain}/${We}`}(v)}?${(0,j.xO)(pe).slice(1)}${Xe}`})).apply(this,arguments)}const Vo="webStorageSupport",gs=class Il{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ai,this._completeRedirectFn=Fh,this._overrideRedirectResult=Dc}_openPopup(p,g,E,R){var N=this;return(0,l.Z)(function*(){var J;St(null===(J=N.eventManagers[p._key()])||void 0===J?void 0:J.manager,"_initialize() not called before _openPopup()");const pe=yield Ot(p,g,E,lt(),R);return function fe(v,p,g,E=D,R=S){const N=Math.max((window.screen.availHeight-R)/2,0).toString(),J=Math.max((window.screen.availWidth-E)/2,0).toString();let pe="";const Ge=Object.assign(Object.assign({},w),{width:E.toString(),height:R.toString(),top:N,left:J}),Xe=(0,j.z$)().toLowerCase();g&&(pe=k(Xe)?B:g),P(Xe)&&(p=p||K,Ge.scrollbars="yes");const yt=Object.entries(Ge).reduce((ci,[_s,zh])=>`${ci}${_s}=${zh},`,"");if(function Rt(v=(0,j.z$)()){var p;return Tt(v)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(Xe)&&"_self"!==pe)return function Ze(v,p){const g=document.createElement("a");g.href=v,g.target=p;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(E)}(p||"",pe),new X(null);const Gt=window.open(p||"",pe,yt);ce(Gt,v,"popup-blocked");try{Gt.focus()}catch{}return new X(Gt)}(p,pe,co())})()}_openRedirect(p,g,E,R){var N=this;return(0,l.Z)(function*(){return yield N._originValidation(p),function us(v){rr().location.href=v}(yield Ot(p,g,E,lt(),R)),new Promise(()=>{})})()}_initialize(p){const g=p._key();if(this.eventManagers[g]){const{manager:R,promise:N}=this.eventManagers[g];return R?Promise.resolve(R):(St(N,"If manager is not set, promise should be"),N)}const E=this.initAndGetManager(p);return this.eventManagers[g]={promise:E},E.catch(()=>{delete this.eventManagers[g]}),E}initAndGetManager(p){var g=this;return(0,l.Z)(function*(){const E=yield function Sc(v){return Ac.apply(this,arguments)}(p),R=new zu(p);return E.register("authEvent",N=>(ce(N?.authEvent,p,"invalid-auth-event"),{status:R.onEvent(N.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[p._key()]={manager:R},g.iframes[p._key()]=E,R})()}_isIframeWebStorageSupported(p,g){this.iframes[p._key()].send(Vo,{type:Vo},R=>{var N;const J=null===(N=R?.[0])||void 0===N?void 0:N[Vo];void 0!==J&&g(!!J),Se(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function fo(v){return Ws.apply(this,arguments)}(p)),this.originValidationPromises[g]}get _shouldInitProactively(){return $t()||L()||Tt()}};class yi{constructor(p){this.factorId=p}_process(p,g,E){switch(g.type){case"enroll":return this._finalizeEnroll(p,g.credential,E);case"signin":return this._finalizeSignIn(p,g.credential);default:return it("unexpected MultiFactorSessionType")}}}class Ti extends yi{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Ti(p)}_finalizeEnroll(p,g,E){return function wa(v,p){return Re(v,"POST","/v2/accounts/mfaEnrollment:finalize",ne(v,p))}(p,{idToken:g,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,g){return function js(v,p){return Re(v,"POST","/v2/accounts/mfaSignIn:finalize",ne(v,p))}(p,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Vh=(()=>{class v{constructor(){}static assertion(g){return Ti._fromCredential(g)}}return v.FACTOR_ID="phone",v})();var Hh="@firebase/auth";class Oa{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var g=this;return(0,l.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const g=this.auth.onIdTokenChanged(E=>{p(E?.stsTokenManager.accessToken||null)});this.internalListeners.set(p,g),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const g=this.internalListeners.get(p);g&&(this.internalListeners.delete(p),g(),this.updateProactiveRefresh())}assertAuthConfigured(){ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Mc=(0,j.Pz)("authIdTokenMaxAge")||300;let jh=null;const qy=v=>function(){var p=(0,l.Z)(function*(g){const E=g&&(yield g.getIdTokenResult()),R=E&&((new Date).getTime()-Date.parse(E.issuedAtTime))/1e3;if(R&&R>Mc)return;const N=E?.token;jh!==N&&(jh=N,yield fetch(v,{method:N?"POST":"DELETE",headers:N?{Authorization:`Bearer ${N}`}:{}}))});return function(g){return p.apply(this,arguments)}}();function Wy(v=(0,F.getApp)()){const p=(0,F._getProvider)(v,"auth");if(p.isInitialized())return p.getImmediate();const g=function Tr(v,p){const g=(0,F._getProvider)(v,"auth");if(g.isInitialized()){const R=g.getImmediate(),N=g.getOptions();if((0,j.vZ)(N,p??{}))return R;Se(R,"already-initialized")}return g.initialize({options:p})}(v,{popupRedirectResolver:gs,persistence:[Fu,mc,ai]}),E=(0,j.Pz)("authTokenSyncURL");if(E){const N=qy(E);(function ba(v,p,g){(0,j.m9)(v).beforeAuthStateChanged(p,g)})(g,N,()=>N(g.currentUser)),function hc(v,p,g,E){(0,j.m9)(v).onIdTokenChanged(p,g,E)}(g,J=>N(J))}const R=(0,j.q4)("auth");return R&&Wn(g,`http://${R}`),g}!function Hr(v){(0,F._registerComponent)(new re.wA("auth",(p,{options:g})=>{const E=p.getProvider("app").getImmediate(),R=p.getProvider("heartbeat"),N=p.getProvider("app-check-internal"),{apiKey:J,authDomain:pe}=E.options;ce(J&&!J.includes(":"),"invalid-api-key",{appName:E.name});const Ge={apiKey:J,authDomain:pe,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xo(v)},Xe=new kn(E,R,N,Ge);return function nl(v,p){const g=p?.persistence||[],E=(Array.isArray(g)?g:[g]).map(er);p?.errorMap&&v._updateErrorMap(p.errorMap),v._initializeWithPersistence(E,p?.popupRedirectResolver)}(Xe,g),Xe},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,g,E)=>{p.getProvider("auth-internal").initialize()})),(0,F._registerComponent)(new re.wA("auth-internal",p=>{const g=vn(p.getProvider("auth").getImmediate());return new Oa(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,F.registerVersion)(Hh,"0.23.2",function Yu(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,F.registerVersion)(Hh,"0.23.2","esm2017")}("Browser")},2090:(wt,Ae,V)=>{V.d(Ae,{$s:()=>er,BH:()=>Ne,G6:()=>io,L:()=>Ce,LL:()=>Be,P0:()=>He,Pz:()=>Te,Sg:()=>ze,UG:()=>it,US:()=>re,ZB:()=>te,ZR:()=>Re,aH:()=>Se,b$:()=>Zt,eu:()=>ge,hl:()=>he,jU:()=>St,m9:()=>ii,ne:()=>Kt,pd:()=>ni,q4:()=>Fe,r3:()=>Pn,ru:()=>lt,tV:()=>W,uI:()=>ce,vZ:()=>_t,w1:()=>Do,xO:()=>Qn,xb:()=>Di,z$:()=>Le,zI:()=>be,zd:()=>Wr});const oe=function(G){const z=[];let P=0;for(let L=0;L<G.length;L++){let k=G.charCodeAt(L);k<128?z[P++]=k:k<2048?(z[P++]=k>>6|192,z[P++]=63&k|128):55296==(64512&k)&&L+1<G.length&&56320==(64512&G.charCodeAt(L+1))?(k=65536+((1023&k)<<10)+(1023&G.charCodeAt(++L)),z[P++]=k>>18|240,z[P++]=k>>12&63|128,z[P++]=k>>6&63|128,z[P++]=63&k|128):(z[P++]=k>>12|224,z[P++]=k>>6&63|128,z[P++]=63&k|128)}return z},re={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(G,z){if(!Array.isArray(G))throw Error("encodeByteArray takes an array as a parameter");this.init_();const P=z?this.byteToCharMapWebSafe_:this.byteToCharMap_,L=[];for(let k=0;k<G.length;k+=3){const Y=G[k],xe=k+1<G.length,ot=xe?G[k+1]:0,At=k+2<G.length,Tt=At?G[k+2]:0;let Tn=(15&ot)<<2|Tt>>6,$t=63&Tt;At||($t=64,xe||(Tn=64)),L.push(P[Y>>2],P[(3&Y)<<4|ot>>4],P[Tn],P[$t])}return L.join("")},encodeString(G,z){return this.HAS_NATIVE_SUPPORT&&!z?btoa(G):this.encodeByteArray(oe(G),z)},decodeString(G,z){return this.HAS_NATIVE_SUPPORT&&!z?atob(G):function(G){const z=[];let P=0,L=0;for(;P<G.length;){const k=G[P++];if(k<128)z[L++]=String.fromCharCode(k);else if(k>191&&k<224){const Y=G[P++];z[L++]=String.fromCharCode((31&k)<<6|63&Y)}else if(k>239&&k<365){const At=((7&k)<<18|(63&G[P++])<<12|(63&G[P++])<<6|63&G[P++])-65536;z[L++]=String.fromCharCode(55296+(At>>10)),z[L++]=String.fromCharCode(56320+(1023&At))}else{const Y=G[P++],xe=G[P++];z[L++]=String.fromCharCode((15&k)<<12|(63&Y)<<6|63&xe)}}return z.join("")}(this.decodeStringToByteArray(G,z))},decodeStringToByteArray(G,z){this.init_();const P=z?this.charToByteMapWebSafe_:this.charToByteMap_,L=[];for(let k=0;k<G.length;){const Y=P[G.charAt(k++)],ot=k<G.length?P[G.charAt(k)]:0;++k;const Tt=k<G.length?P[G.charAt(k)]:64;++k;const Rt=k<G.length?P[G.charAt(k)]:64;if(++k,null==Y||null==ot||null==Tt||null==Rt)throw new Ie;L.push(Y<<2|ot>>4),64!==Tt&&(L.push(ot<<4&240|Tt>>2),64!==Rt&&L.push(Tt<<6&192|Rt))}return L},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let G=0;G<this.ENCODED_VALS.length;G++)this.byteToCharMap_[G]=this.ENCODED_VALS.charAt(G),this.charToByteMap_[this.byteToCharMap_[G]]=G,this.byteToCharMapWebSafe_[G]=this.ENCODED_VALS_WEBSAFE.charAt(G),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[G]]=G,G>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(G)]=G,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(G)]=G)}}};class Ie extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ce=function(G){return function(G){const z=oe(G);return re.encodeByteArray(z,!0)}(G).replace(/\./g,"")},W=function(G){try{return re.decodeString(G,!0)}catch(z){console.error("base64Decode failed: ",z)}return null};function te(G,z){if(!(z instanceof Object))return z;switch(z.constructor){case Date:return new Date(z.getTime());case Object:void 0===G&&(G={});break;case Array:G=[];break;default:return z}for(const P in z)!z.hasOwnProperty(P)||!je(P)||(G[P]=te(G[P],z[P]));return G}function je(G){return"__proto__"!==G}const Oe=()=>{try{return function Me(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const G=process.env.__FIREBASE_DEFAULTS__;return G?JSON.parse(G):void 0})()||(()=>{if(typeof document>"u")return;let G;try{G=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const z=G&&W(G[1]);return z&&JSON.parse(z)})()}catch(G){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${G}`)}},Fe=G=>{var z,P;return null===(P=null===(z=Oe())||void 0===z?void 0:z.emulatorHosts)||void 0===P?void 0:P[G]},He=G=>{const z=Fe(G);if(!z)return;const P=z.lastIndexOf(":");if(P<=0||P+1===z.length)throw new Error(`Invalid host ${z} with no separate hostname and port!`);const L=parseInt(z.substring(P+1),10);return"["===z[0]?[z.substring(1,P-1),L]:[z.substring(0,P),L]},Se=()=>{var G;return null===(G=Oe())||void 0===G?void 0:G.config},Te=G=>{var z;return null===(z=Oe())||void 0===z?void 0:z[`_${G}`]};class Ne{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((z,P)=>{this.resolve=z,this.reject=P})}wrapCallback(z){return(P,L)=>{P?this.reject(P):this.resolve(L),"function"==typeof z&&(this.promise.catch(()=>{}),1===z.length?z(P):z(P,L))}}}function ze(G,z){if(G.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const L=z||"demo-project",k=G.iat||0,Y=G.sub||G.user_id;if(!Y)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const xe=Object.assign({iss:`https://securetoken.google.com/${L}`,aud:L,iat:k,exp:k+3600,auth_time:k,sub:Y,user_id:Y,firebase:{sign_in_provider:"custom",identities:{}}},G);return[Ce(JSON.stringify({alg:"none",type:"JWT"})),Ce(JSON.stringify(xe)),""].join(".")}function Le(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ce(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Le())}function it(){var G;const z=null===(G=Oe())||void 0===G?void 0:G.forceEnvironment;if("node"===z)return!0;if("browser"===z)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function St(){return"object"==typeof self&&self.self===self}function lt(){const G="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof G&&void 0!==G.id}function Zt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Do(){const G=Le();return G.indexOf("MSIE ")>=0||G.indexOf("Trident/")>=0}function io(){return!it()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function he(){try{return"object"==typeof indexedDB}catch{return!1}}function ge(){return new Promise((G,z)=>{try{let P=!0;const L="validate-browser-context-for-indexeddb-analytics-module",k=self.indexedDB.open(L);k.onsuccess=()=>{k.result.close(),P||self.indexedDB.deleteDatabase(L),G(!0)},k.onupgradeneeded=()=>{P=!1},k.onerror=()=>{var Y;z((null===(Y=k.error)||void 0===Y?void 0:Y.message)||"")}}catch(P){z(P)}})}function be(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Re extends Error{constructor(z,P,L){super(P),this.code=z,this.customData=L,this.name="FirebaseError",Object.setPrototypeOf(this,Re.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Be.prototype.create)}}class Be{constructor(z,P,L){this.service=z,this.serviceName=P,this.errors=L}create(z,...P){const L=P[0]||{},k=`${this.service}/${z}`,Y=this.errors[z],xe=Y?function ut(G,z){return G.replace(dt,(P,L)=>{const k=z[L];return null!=k?String(k):`<${L}?>`})}(Y,L):"Error";return new Re(k,`${this.serviceName}: ${xe} (${k}).`,L)}}const dt=/\{\$([^}]+)}/g;function Pn(G,z){return Object.prototype.hasOwnProperty.call(G,z)}function Di(G){for(const z in G)if(Object.prototype.hasOwnProperty.call(G,z))return!1;return!0}function _t(G,z){if(G===z)return!0;const P=Object.keys(G),L=Object.keys(z);for(const k of P){if(!L.includes(k))return!1;const Y=G[k],xe=z[k];if($n(Y)&&$n(xe)){if(!_t(Y,xe))return!1}else if(Y!==xe)return!1}for(const k of L)if(!P.includes(k))return!1;return!0}function $n(G){return null!==G&&"object"==typeof G}function Qn(G){const z=[];for(const[P,L]of Object.entries(G))Array.isArray(L)?L.forEach(k=>{z.push(encodeURIComponent(P)+"="+encodeURIComponent(k))}):z.push(encodeURIComponent(P)+"="+encodeURIComponent(L));return z.length?"&"+z.join("&"):""}function Wr(G){const z={};return G.replace(/^\?/,"").split("&").forEach(L=>{if(L){const[k,Y]=L.split("=");z[decodeURIComponent(k)]=decodeURIComponent(Y)}}),z}function ni(G){const z=G.indexOf("?");if(!z)return"";const P=G.indexOf("#",z);return G.substring(z,P>0?P:void 0)}function Kt(G,z){const P=new pt(G,z);return P.subscribe.bind(P)}class pt{constructor(z,P){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=P,this.task.then(()=>{z(this)}).catch(L=>{this.error(L)})}next(z){this.forEachObserver(P=>{P.next(z)})}error(z){this.forEachObserver(P=>{P.error(z)}),this.close(z)}complete(){this.forEachObserver(z=>{z.complete()}),this.close()}subscribe(z,P,L){let k;if(void 0===z&&void 0===P&&void 0===L)throw new Error("Missing Observer.");k=function Jn(G,z){if("object"!=typeof G||null===G)return!1;for(const P of z)if(P in G&&"function"==typeof G[P])return!0;return!1}(z,["next","error","complete"])?z:{next:z,error:P,complete:L},void 0===k.next&&(k.next=Fr),void 0===k.error&&(k.error=Fr),void 0===k.complete&&(k.complete=Fr);const Y=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?k.error(this.finalError):k.complete()}catch{}}),this.observers.push(k),Y}unsubscribeOne(z){void 0===this.observers||void 0===this.observers[z]||(delete this.observers[z],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(z){if(!this.finalized)for(let P=0;P<this.observers.length;P++)this.sendOne(P,z)}sendOne(z,P){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[z])try{P(this.observers[z])}catch(L){typeof console<"u"&&console.error&&console.error(L)}})}close(z){this.finalized||(this.finalized=!0,void 0!==z&&(this.finalError=z),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Fr(){}const zt=1e3,Xn=2,Ln=144e5,Pr=.5;function er(G,z=zt,P=Xn){const L=z*Math.pow(P,G),k=Math.round(Pr*L*(Math.random()-.5)*2);return Math.min(Ln,L+k)}function ii(G){return G&&G._delegate?G._delegate:G}},3371:(wt,Ae,V)=>{var l=V(4650);let j=null;function F(){return j}class ue{}const re=new l.OlP("DocumentToken");let Ie=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Ee(){return(0,l.LFG)(W)}()},providedIn:"platform"}),n})();const Ce=new l.OlP("Location Initialized");let W=(()=>{class n extends Ie{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return F().getBaseHref(this._doc)}onPopState(t){const r=F().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=F().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){q()?this._history.pushState(t,r,i):this._location.hash=i}replaceState(t,r,i){q()?this._history.replaceState(t,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(re))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function te(){return new W((0,l.LFG)(re))}()},providedIn:"platform"}),n})();function q(){return!!window.history.pushState}function je(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Me(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Ke(n){return n&&"?"!==n[0]?"?"+n:n}let at=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(Oe)},providedIn:"root"}),n})();const we=new l.OlP("appBaseHref");let Oe=(()=>{class n extends at{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,l.f3M)(re).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return je(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Ke(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const u=this.prepareExternalUrl(i+Ke(s));this._platformLocation.pushState(t,r,u)}replaceState(t,r,i,s){const u=this.prepareExternalUrl(i+Ke(s));this._platformLocation.replaceState(t,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ie),l.LFG(we,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Fe=(()=>{class n extends at{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=je(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let u=this.prepareExternalUrl(i+Ke(s));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(t,r,u)}replaceState(t,r,i,s){let u=this.prepareExternalUrl(i+Ke(s));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ie),l.LFG(we,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),He=(()=>{class n{constructor(t){this._subject=new l.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function ze(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(Me(Ne(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ke(r))}normalize(t){return n.stripTrailingSlash(function Te(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,Ne(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ke(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ke(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Ke,n.joinWithSlash=je,n.stripTrailingSlash=Me,n.\u0275fac=function(t){return new(t||n)(l.LFG(at))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Se(){return new He((0,l.LFG)(at))}()},providedIn:"root"}),n})();function Ne(n){return n.replace(/\/index.html$/,"")}let mi=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Wt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){ec("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){ec("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Wt{constructor(){this.$implicit=null,this.ngIf=null}}function ec(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,l.AaK)(e)}'.`)}class Pi{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let ua=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews.push(t)}_matchCase(t){const r=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews.length>0&&t!==this._defaultUsed){this._defaultUsed=t;for(const r of this._defaultViews)r.enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),Io=(()=>{class n{constructor(t,r,i){this.ngSwitch=i,i._addCase(),this._view=new Pi(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(ua,9))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),Sr=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:i,ngTemplateOutletContext:s,ngTemplateOutletInjector:u}=this;this._viewRef=r.createEmbeddedView(i,s,u?{injector:u}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[l.TTD]}),n})(),To=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const hp="browser",ha="server";function fa(n){return n===ha}let nc=(()=>{class n{}return n.\u0275prov=(0,l.Yz7)({token:n,providedIn:"root",factory:()=>new pp((0,l.LFG)(re),window)}),n})();class pp{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function yu(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const u=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(u)return u}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=os(this.window.history)||os(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function os(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class wh extends ue{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class hc extends wh{static makeCurrent(){!function oe(n){j||(j=n)}(new hc)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function fl(){return ba=ba||document.querySelector("base"),ba?ba.getAttribute("href"):null}();return null==t?null:function ag(n){Ro=Ro||document.createElement("a"),Ro.setAttribute("href",n);const e=Ro.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){ba=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Ts(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let Ro,ba=null;const yp=new l.OlP("TRANSITION_ID"),Eh=[{provide:l.ip1,useFactory:function fc(n,e,t){return()=>{t.get(l.CZH).donePromise.then(()=>{const r=F(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[yp,re,l.zs3],multi:!0}];let Su=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const pl=new l.OlP("EventManagerPlugins");let pc=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const u=i[s];if(u.supports(t))return this._eventNameToPlugin.set(t,u),u}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(pl),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class wa{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=F().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let Ch=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,r){const i=this.usageCount;let s=i.get(t)??0;return s+=r,s>0?i.set(t,s):i.delete(t),s}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),cs=(()=>{class n extends Ch{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.forEach(s=>s.remove()),r.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,r){const i=this.doc.createElement("style");i.textContent=r,t.appendChild(i);const s=this.styleRef.get(r);s?s.push(i):this.styleRef.set(r,[i])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(re))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Ls={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ea=/%COMP%/g,_l=new l.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function mc(n,e){return e.flat(100).map(t=>t.replace(Ea,n))}function Ru(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let ai=(()=>{class n{constructor(t,r,i,s){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=s,this.rendererByCompId=new Map,this.defaultRenderer=new Dh(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;const i=this.getOrCreateRenderer(t,r);return i instanceof gc?i.applyToHost(t):i instanceof us&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const u=this.eventManager,f=this.sharedStylesHost,_=this.removeStylesOnCompDestory;switch(r.encapsulation){case l.ifc.Emulated:s=new gc(u,f,r,this.appId,_);break;case l.ifc.ShadowDom:return new rr(u,f,t,r);default:s=new us(u,f,r,_)}s.onDestroy=()=>i.delete(r.id),i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(pc),l.LFG(cs),l.LFG(l.AFp),l.LFG(_l))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class Dh{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Ls[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(xh(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(xh(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=Ls[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Ls[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(l.JOm.DashCase|l.JOm.Important)?e.style.setProperty(t,r,i&l.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&l.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Ru(r)):this.eventManager.addEventListener(e,t,Ru(r))}}function xh(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class rr extends Dh{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=mc(i.id,i.styles);for(const u of s){const f=document.createElement("style");f.textContent=u,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class us extends Dh{constructor(e,t,r,i,s=r.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=mc(s,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class gc extends us{constructor(e,t,r,i,s){const u=i+"-"+r.id;super(e,t,r,s,u),this.contentAttr=function vp(n){return"_ngcontent-%COMP%".replace(Ea,n)}(u),this.hostAttr=function Mu(n){return"_nghost-%COMP%".replace(Ea,n)}(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let Ih=(()=>{class n extends wa{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(re))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const yl=["alt","control","meta","shift"],Th={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},_c={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let pr=(()=>{class n extends wa{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),u=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>F().onAndCancel(t,s.domEventName,u))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let u="",f=r.indexOf("code");if(f>-1&&(r.splice(f,1),u="code."),yl.forEach(b=>{const I=r.indexOf(b);I>-1&&(r.splice(I,1),u+=b+".")}),u+=s,0!=r.length||0===s.length)return null;const _={};return _.domEventName=i,_.fullKey=u,_}static matchEventFullKeyCode(t,r){let i=Th[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),yl.forEach(u=>{u!==i&&(0,_c[u])(t)&&(s+=u+".")}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(re))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const wp=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:hp},{provide:l.g9A,useValue:function xa(){hc.makeCurrent()},multi:!0},{provide:re,useFactory:function Nu(){return(0,l.RDi)(document),document},deps:[]}]),Bs=new l.OlP(""),vl=[{provide:l.rWj,useClass:class ko{addToWindow(e){l.dqk.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},l.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(r=>{const i=l.dqk.getAllAngularTestabilities();let s=i.length,u=!1;const f=function(_){u=u||_,s--,0==s&&r(u)};i.forEach(function(_){_.whenStable(f)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?F().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:l.lri,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]}],Us=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function Ou(){return new l.qLn},deps:[]},{provide:pl,useClass:Ih,multi:!0,deps:[re,l.R0b,l.Lbi]},{provide:pl,useClass:pr,multi:!0,deps:[re]},{provide:ai,useClass:ai,deps:[pc,cs,l.AFp,_l]},{provide:l.FYo,useExisting:ai},{provide:Ch,useExisting:cs},{provide:cs,useClass:cs,deps:[re]},{provide:pc,useClass:pc,deps:[pl,l.R0b]},{provide:class mp{},useClass:Su,deps:[]},[]];let Hs=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:l.AFp,useValue:t.appId},{provide:yp,useExisting:l.AFp},Eh]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Bs,12))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[...Us,...vl],imports:[To,l.hGG]}),n})(),Ep=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(re))},n.\u0275prov=l.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function js(){return new Ep((0,l.LFG)(re))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let $s=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(t){let r=null;return r=t?new(t||n):l.LFG(Ec),r},providedIn:"root"}),n})(),Ec=(()=>{class n extends $s{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case l.q3G.NONE:return r;case l.q3G.HTML:return(0,l.qzn)(r,"HTML")?(0,l.z3N)(r):(0,l.EiD)(this._doc,String(r)).toString();case l.q3G.STYLE:return(0,l.qzn)(r,"Style")?(0,l.z3N)(r):r;case l.q3G.SCRIPT:if((0,l.qzn)(r,"Script"))return(0,l.z3N)(r);throw new Error("unsafe value used in a script context");case l.q3G.URL:return(0,l.qzn)(r,"URL")?(0,l.z3N)(r):(0,l.mCW)(String(r));case l.q3G.RESOURCE_URL:if((0,l.qzn)(r,"ResourceURL"))return(0,l.z3N)(r);throw new Error(`unsafe value used in a resource URL context (see ${l.JZr})`);default:throw new Error(`Unexpected SecurityContext ${t} (see ${l.JZr})`)}}bypassSecurityTrustHtml(t){return(0,l.JVY)(t)}bypassSecurityTrustStyle(t){return(0,l.L6k)(t)}bypassSecurityTrustScript(t){return(0,l.eBb)(t)}bypassSecurityTrustUrl(t){return(0,l.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,l.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(re))},n.\u0275prov=l.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function wl(n){return new Ec(n.get(re))}(l.LFG(l.zs3)),r},providedIn:"root"}),n})();var uo=V(4986),Un=V(9751),pn=V(8996),Oo=V(3269);function Ye(...n){const e=(0,Oo.yG)(n);return(0,pn.D)(n,e)}var bn=V(4976),Ta=V(8189);function Aa(...n){return function Sa(){return(0,Ta.J)(1)}()((0,pn.D)(n,(0,Oo.yG)(n)))}var gr=V(4482);function Ur(...n){const e=(0,Oo.yG)(n);return(0,gr.e)((t,r)=>{(e?Aa(n,t,e):Aa(n,t)).subscribe(r)})}var Dn=V(5403);function El(){return(0,gr.e)((n,e)=>{let t,r=!1;n.subscribe((0,Dn.x)(e,i=>{const s=t;t=i,r&&e.next([s,i]),r=!0}))})}var ct=V(4004);function ho(n,e){return(0,gr.e)(function kh(n,e,t,r,i){return(s,u)=>{let f=t,_=e,b=0;s.subscribe((0,Dn.x)(u,I=>{const M=b++;_=f?n(_,I,M):(f=!0,I),r&&u.next(_)},i&&(()=>{f&&u.next(_),u.complete()})))}}(n,e,arguments.length>=2,!0))}var Gs=V(4671);function Hu(n,e=Gs.y){return n=n??Zi,(0,gr.e)((t,r)=>{let i,s=!0;t.subscribe((0,Dn.x)(r,u=>{const f=e(u);(s||!n(i,f))&&(s=!1,i=f,r.next(u))}))})}function Zi(n,e){return n===e}function Qr(n,e){return(0,gr.e)((t,r)=>{let i=0;t.subscribe((0,Dn.x)(r,s=>n.call(e,s,i++)&&r.next(s)))})}var Qe,Ki=V(2011),Oh=(V(9568),V(3942)),ve=V(5861),Ui=V(6881),Dc=V(4859),ps=V(1877),un=V(2090),Nh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Yi={},ju=ju||{},Ut=Nh||self;function No(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Ma(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Cl="closure_uid_"+(1e9*Math.random()>>>0),lg=0;function Dl(n,e,t){return n.call.apply(n.bind,arguments)}function Fh(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function _r(n,e,t){return(_r=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Dl:Fh).apply(null,arguments)}function Ra(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Zn(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,s){for(var u=Array(arguments.length-2),f=2;f<arguments.length;f++)u[f-2]=arguments[f];return e.prototype[i].apply(r,u)}}function Fo(){this.s=this.s,this.o=this.o}Fo.prototype.s=!1,Fo.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function xp(n){Object.prototype.hasOwnProperty.call(n,Cl)&&n[Cl]||(n[Cl]=++lg)}(this)},Fo.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const qs=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function xl(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function $u(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(No(r)){const i=n.length||0,s=r.length||0;n.length=i+s;for(let u=0;u<s;u++)n[i+u]=r[u]}else n.push(r)}}function Mr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Mr.prototype.h=function(){this.defaultPrevented=!0};var xc=function(){if(!Ut.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Ut.addEventListener("test",()=>{},e),Ut.removeEventListener("test",()=>{},e)}catch{}return n}();function Gu(n){return/^[\s\xa0]*$/.test(n)}function qu(){var n=Ut.navigator;return n&&(n=n.userAgent)?n:""}function fo(n){return-1!=qu().indexOf(n)}function Ws(n){return Ws[" "](n),n}Ws[" "]=function(){};var Ic,n,Zs=fo("Opera"),Po=fo("Trident")||fo("MSIE"),Qi=fo("Edge"),ka=Qi||Po,ms=fo("Gecko")&&!(-1!=qu().toLowerCase().indexOf("webkit")&&!fo("Edge"))&&!(fo("Trident")||fo("MSIE"))&&!fo("Edge"),Ip=-1!=qu().toLowerCase().indexOf("webkit")&&!fo("Edge");function Lo(){var n=Ut.document;return n?n.documentMode:void 0}e:{var Lh="",Tc=(n=qu(),ms?/rv:([^\);]+)(\)|;)/.exec(n):Qi?/Edge\/([\d\.]+)/.exec(n):Po?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Ip?/WebKit\/(\S+)/.exec(n):Zs?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Tc&&(Lh=Tc?Tc[1]:""),Po){var Wu=Lo();if(null!=Wu&&Wu>parseFloat(Lh)){Ic=String(Wu);break e}}Ic=Lh}var w=Ut.document&&Po&&(Lo()||parseInt(Ic,10))||void 0;function D(n,e){if(Mr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(ms){e:{try{Ws(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:S[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&D.$.h.call(this)}}Zn(D,Mr);var S={2:"touch",3:"pen",4:"mouse"};D.prototype.h=function(){D.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var B="closure_listenable_"+(1e6*Math.random()|0),K=0;function X(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++K,this.fa=this.ia=!1}function fe(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function Ze(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function mt(n){const e={};for(const t in n)e[t]=n[t];return e}const kt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ot(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<kt.length;s++)t=kt[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Rr(n){this.src=n,this.g={},this.h=0}function yr(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=qs(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(fe(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Vo(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.fa&&s.listener==e&&s.capture==!!t&&s.la==r)return i}return-1}Rr.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var u=Vo(n,e,r,i);return-1<u?(e=n[u],t||(e.ia=!1)):((e=new X(e,this.src,s,!!r,i)).ia=t,n.push(e)),e};var Il="closure_lm_"+(1e6*Math.random()|0),gs={};function yi(n,e,t,r,i){if(r&&r.once)return Zu(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)yi(n,e[s],t,r,i);return null}return t=Yu(t),n&&n[B]?n.O(e,t,Ma(r)?!!r.capture:!!r,i):Ti(n,e,t,!1,r,i)}function Ti(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var u=Ma(i)?!!i.capture:!!i,f=Ku(n);if(f||(n[Il]=f=new Rr(n)),(t=f.add(e,t,r,u,s)).proxy)return t;if(r=function Vh(){const e=Hh;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)xc||(i=u),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(Tl(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function Zu(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)Zu(n,e[s],t,r,i);return null}return t=Yu(t),n&&n[B]?n.P(e,t,Ma(r)?!!r.capture:!!r,i):Ti(n,e,t,!0,r,i)}function Bh(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)Bh(n,e[s],t,r,i);else r=Ma(r)?!!r.capture:!!r,t=Yu(t),n&&n[B]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Vo(s=n.g[e],t,r,i))&&(fe(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=Ku(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Vo(e,t,r,i)),(t=-1<n?e[n]:null)&&Uh(t))}function Uh(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[B])yr(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(Tl(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Ku(e))?(yr(t,n),0==t.h&&(t.src=null,e[Il]=null)):fe(n)}}}function Tl(n){return n in gs?gs[n]:gs[n]="on"+n}function Hh(n,e){if(n.fa)n=!0;else{e=new D(e,this);var t=n.listener,r=n.la||n.src;n.ia&&Uh(n),n=t.call(r,e)}return n}function Ku(n){return(n=n[Il])instanceof Rr?n:null}var Oa="__closure_events_fn_"+(1e9*Math.random()>>>0);function Yu(n){return"function"==typeof n?n:(n[Oa]||(n[Oa]=function(e){return n.handleEvent(e)}),n[Oa])}function Hr(){Fo.call(this),this.i=new Rr(this),this.S=this,this.J=null}function li(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new Mr(e,n);else if(e instanceof Mr)e.target=e.target||n;else{var i=e;Ot(e=new Mr(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var u=e.g=t[s];i=Mc(u,r,!0,e)&&i}if(i=Mc(u=e.g=n,r,!0,e)&&i,i=Mc(u,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=Mc(u=e.g=t[s],r,!1,e)&&i}function Mc(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var u=e[s];if(u&&!u.fa&&u.capture==t){var f=u.listener,_=u.la||u.src;u.ia&&yr(n.i,u),i=!1!==f.call(_,r)&&i}}return i&&!r.defaultPrevented}Zn(Hr,Fo),Hr.prototype[B]=!0,Hr.prototype.removeEventListener=function(n,e,t,r){Bh(this,n,e,t,r)},Hr.prototype.N=function(){if(Hr.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)fe(t[r]);delete n.g[e],n.h--}}this.J=null},Hr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Hr.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var jh=Ut.JSON.stringify;function Wy(){var n=pe;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var p=new class qy{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new g,n=>n.reset());class g{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function E(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function R(n){Ut.setTimeout(()=>{throw n},0)}let N,J=!1,pe=new class v{constructor(){this.h=this.g=null}add(e,t){const r=p.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},Ge=()=>{const n=Ut.Promise.resolve(void 0);N=()=>{n.then(Xe)}};var Xe=()=>{for(var n;n=Wy();){try{n.h.call(n.g)}catch(t){R(t)}var e=p;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}J=!1};function yt(n,e){Hr.call(this),this.h=n||1,this.g=e||Ut,this.j=_r(this.qb,this),this.l=Date.now()}function Gt(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function ci(n,e,t){if("function"==typeof n)t&&(n=_r(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=_r(n.handleEvent,n)}return 2147483647<Number(e)?-1:Ut.setTimeout(n,e||0)}function _s(n){n.g=ci(()=>{n.g=null,n.i&&(n.i=!1,_s(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Zn(yt,Hr),(Qe=yt.prototype).ga=!1,Qe.T=null,Qe.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),li(this,"tick"),this.ga&&(Gt(this),this.start()))}},Qe.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Qe.N=function(){yt.$.N.call(this),Gt(this),delete this.g};class zh extends Fo{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:_s(this)}N(){super.N(),this.g&&(Ut.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qu(n){Fo.call(this),this.h=n,this.g={}}Zn(Qu,Fo);var Sl=[];function Tp(n,e,t,r){Array.isArray(t)||(t&&(Sl[0]=t.toString()),t=Sl);for(var i=0;i<t.length;i++){var s=yi(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function $h(n){Ze(n.g,function(e,t){this.g.hasOwnProperty(t)&&Uh(e)},n),n.g={}}function Al(){this.g=!0}function Ks(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function qh(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var u=1;u<i.length;u++)i[u]=""}}}return jh(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Qu.prototype.N=function(){Qu.$.N.call(this),$h(this)},Qu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Al.prototype.Ea=function(){this.g=!1},Al.prototype.info=function(){};var ys={},Wh=null;function Zh(){return Wh=Wh||new Hr}function cg(n){Mr.call(this,ys.Ta,n)}function Ml(n){const e=Zh();li(e,new cg(e))}function uw(n,e){Mr.call(this,ys.STAT_EVENT,n),this.stat=e}function Hi(n){const e=Zh();li(e,new uw(e,n))}function dw(n,e){Mr.call(this,ys.Ua,n),this.size=e}function Ap(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Ut.setTimeout(function(){n()},e)}ys.Ta="serverreachability",Zn(cg,Mr),ys.STAT_EVENT="statevent",Zn(uw,Mr),ys.Ua="timingevent",Zn(dw,Mr);var ug={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Zy={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function dg(){}function hg(){}dg.prototype.h=null;var hw,Na={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Ky(){Mr.call(this,"d")}function Yy(){Mr.call(this,"c")}function fg(){}function Xu(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new Qu(this),this.P=pw,this.V=new yt(n=ka?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new fw}function fw(){this.i=null,this.g="",this.h=!1}Zn(Ky,Mr),Zn(Yy,Mr),Zn(fg,dg),fg.prototype.g=function(){return new XMLHttpRequest},fg.prototype.i=function(){return{}},hw=new fg;var pw=45e3,Kh={},Yh={};function pg(n,e,t){n.L=1,n.v=td(Fa(e)),n.s=t,n.S=!0,Qy(n,null)}function Qy(n,e){n.G=Date.now(),Rp(n),n.A=Fa(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),ev(t.i,"t",r),n.C=0,t=n.l.J,n.h=new fw,n.g=hv(n.l,t?e:null,!n.s),0<n.O&&(n.M=new zh(_r(n.Pa,n,n.g),n.O)),Tp(n.U,n.g,"readystatechange",n.nb),e=n.I?mt(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),Ml(),function Sp(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var u="",f=s.split("&"),_=0;_<f.length;_++){var b=f[_].split("=");if(1<b.length){var I=b[0];b=b[1];var M=I.split("_");u=2<=M.length&&"type"==M[1]?u+(I+"=")+b+"&":u+(I+"=redacted&")}}else u=null;else u=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+u})}(n.j,n.u,n.A,n.m,n.W,n.s)}function Jy(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function Rc(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=lI(n,t),i==Yh){4==e&&(n.o=4,Hi(14),r=!1),Ks(n.j,n.m,null,"[Incomplete Response]");break}if(i==Kh){n.o=4,Hi(15),Ks(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Ks(n.j,n.m,i,null),kc(n,i)}Jy(n)&&i!=Yh&&i!=Kh&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Hi(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),Oc(e),e.M=!0,Hi(11))):(Ks(n.j,n.m,t,"[Invalid Chunked Response]"),Ji(n),kp(n))}function lI(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Yh:(t=Number(e.substring(t,r)),isNaN(t)?Kh:(r+=1)+t>e.length?Yh:(e=e.slice(r,r+t),n.C=r+t,e))}function Rp(n){n.Y=Date.now()+n.P,mw(n,n.P)}function mw(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Ap(_r(n.lb,n),e)}function mg(n){n.B&&(Ut.clearTimeout(n.B),n.B=null)}function kp(n){0==n.l.H||n.J||Mw(n.l,n)}function Ji(n){mg(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,Gt(n.V),$h(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function kc(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||Np(t.i,n)))if(!n.K&&Np(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;Ag(t),Ig(t)}Sg(t),Hi(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=Ap(_r(t.ib,t),6e3));if(1>=tv(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else sd(t,11)}else if((n.K||t.g==n)&&Ag(t),!Gu(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let b=i[e];if(t.V=b[0],b=b[1],2==t.H)if("c"==b[0]){t.K=b[1],t.pa=b[2];const I=b[3];null!=I&&(t.ra=I,t.l.info("VER="+t.ra));const M=b[4];null!=M&&(t.Ga=M,t.l.info("SVER="+t.Ga));const U=b[5];null!=U&&"number"==typeof U&&0<U&&(t.L=r=1.5*U,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const $=n.g;if($){const ee=$.g?$.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ee){var s=r.i;s.g||-1==ee.indexOf("spdy")&&-1==ee.indexOf("quic")&&-1==ee.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(nv(s,s.h),s.h=null))}if(r.F){const ie=$.g?$.g.getResponseHeader("X-HTTP-Session-Id"):null;ie&&(r.Da=ie,ir(r.I,r.F,ie))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var u=n;if((r=t).wa=Rw(r,r.J?r.pa:null,r.Y),u.K){kr(r.i,u);var f=u,_=r.L;_&&f.setTimeout(_),f.B&&(mg(f),Rp(f)),r.g=u}else Sw(r);0<t.j.length&&rd(t)}else"stop"!=b[0]&&"close"!=b[0]||sd(t,7);else 3==t.H&&("stop"==b[0]||"close"==b[0]?"stop"==b[0]?sd(t,7):Jh(t):"noop"!=b[0]&&t.h&&t.h.Aa(b),t.A=0)}Ml()}catch{}}function gw(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(No(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function uI(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(No(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function cI(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(No(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}(Qe=Xu.prototype).setTimeout=function(n){this.P=n},Qe.nb=function(n){n=n.target;const e=this.M;e&&3==La(n)?e.l():this.Pa(n)},Qe.Pa=function(n){try{if(n==this.g)e:{const I=La(this.g);var e=this.g.Ia();if(this.g.da(),!(3>I)&&(3!=I||ka||this.g&&(this.h.h||this.g.ja()||Dg(this.g)))){this.J||4!=I||7==e||Ml(),mg(this);var t=this.g.da();this.ca=t;t:if(Jy(this)){var r=Dg(this.g);n="";var i=r.length,s=4==La(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ji(this),kp(this);var u="";break t}this.h.i=new Ut.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.ja();if(this.i=200==t,function Gh(n,e,t,r,i,s,u){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+u})}(this.j,this.u,this.A,this.m,this.W,I,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var f,_=this.g;if((f=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Gu(f)){var b=f;break t}}b=null}if(!(t=b)){this.i=!1,this.o=3,Hi(12),Ji(this),kp(this);break e}Ks(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,kc(this,t)}this.S?(Rc(this,I,u),ka&&this.i&&3==I&&(Tp(this.U,this.V,"tick",this.mb),this.V.start())):(Ks(this.j,this.m,u,null),kc(this,u)),4==I&&Ji(this),this.i&&!this.J&&(4==I?Mw(this.l,this):(this.i=!1,Rp(this)))}else(function Iw(n){const e={};n=(n.g&&2<=La(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(Gu(n[r]))continue;var t=E(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const s=e[i]||[];e[i]=s,s.push(t)}!function We(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<u.indexOf("Unknown SID")?(this.o=3,Hi(12)):(this.o=0,Hi(13)),Ji(this),kp(this)}}}catch{}},Qe.mb=function(){if(this.g){var n=La(this.g),e=this.g.ja();this.C<e.length&&(mg(this),Rc(this,n,e),this.i&&4!=n&&Rp(this))}},Qe.cancel=function(){this.J=!0,Ji(this)},Qe.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function Ju(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Ml(),Hi(17)),Ji(this),this.o=2,kp(this)):mw(this,this.Y-n)};var _w=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ed(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof ed){this.h=n.h,gg(this,n.j),this.s=n.s,this.g=n.g,_g(this,n.m),this.l=n.l;var e=n.i,t=new nd;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),yw(this,t),this.o=n.o}else n&&(e=String(n).match(_w))?(this.h=!1,gg(this,e[1]||"",!0),this.s=Bo(e[2]||""),this.g=Bo(e[3]||"",!0),_g(this,e[4]),this.l=Bo(e[5]||"",!0),yw(this,e[6]||"",!0),this.o=Bo(e[7]||"")):(this.h=!1,this.i=new nd(null,this.h))}function Fa(n){return new ed(n)}function gg(n,e,t){n.j=t?Bo(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function _g(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function yw(n,e,t){e instanceof nd?(n.i=e,function pI(n,e){e&&!n.j&&(Pa(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(hI(this,r),ev(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Rl(e,hR)),n.i=new nd(e,n.h))}function ir(n,e,t){n.i.set(e,t)}function td(n){return ir(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Bo(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Rl(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,vw),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function vw(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}ed.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Rl(e,Xy,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Rl(e,Xy,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Rl(t,"/"==t.charAt(0)?dR:bw,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Rl(t,fR)),n.join("")};var Xy=/[#\/\?@]/g,bw=/[#\?:]/g,dR=/[#\?]/g,hR=/[#\?@]/g,fR=/#/g;function nd(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Pa(n){n.g||(n.g=new Map,n.h=0,n.i&&function dI(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function hI(n,e){Pa(n),e=Qh(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function fI(n,e){return Pa(n),e=Qh(n,e),n.g.has(e)}function ev(n,e,t){hI(n,e),0<t.length&&(n.i=null,n.g.set(Qh(n,e),xl(t)),n.h+=t.length)}function Qh(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function ww(n){this.l=n||Ew,n=Ut.PerformanceNavigationTiming?0<(n=Ut.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Ut.g&&Ut.g.Ka&&Ut.g.Ka()&&Ut.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Qe=nd.prototype).add=function(n,e){Pa(this),this.i=null,n=Qh(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Qe.forEach=function(n,e){Pa(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},Qe.ta=function(){Pa(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let s=0;s<i.length;s++)t.push(e[r])}return t},Qe.Z=function(n){Pa(this);let e=[];if("string"==typeof n)fI(this,n)&&(e=e.concat(this.g.get(Qh(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},Qe.set=function(n,e){return Pa(this),this.i=null,fI(this,n=Qh(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Qe.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},Qe.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const s=encodeURIComponent(String(r)),u=this.Z(r);for(r=0;r<u.length;r++){var i=s;""!==u[r]&&(i+="="+encodeURIComponent(String(u[r]))),n.push(i)}}return this.i=n.join("&")};var Ew=10;function Op(n){return!!n.h||!!n.g&&n.g.size>=n.j}function tv(n){return n.h?1:n.g?n.g.size:0}function Np(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function nv(n,e){n.g?n.g.add(e):n.h=e}function kr(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function rv(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return xl(n.i)}ww.prototype.cancel=function(){if(this.i=rv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var gI=class{stringify(n){return Ut.JSON.stringify(n,void 0)}parse(n){return Ut.JSON.parse(n,void 0)}};function Cw(){this.g=new gI}function Dw(n,e,t){const r=t||"";try{gw(n,function(i,s){let u=i;Ma(i)&&(u=jh(i)),e.push(r+s+"="+encodeURIComponent(u))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function yg(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Fp(n){this.l=n.fc||null,this.j=n.ob||!1}function vg(n,e){Hr.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=bg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Zn(Fp,dg),Fp.prototype.g=function(){return new vg(this.l,this.j)},Fp.prototype.i=function(n){return function(){return n}}({}),Zn(vg,Hr);var bg=0;function yI(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function wg(n){n.readyState=4,n.l=null,n.j=null,n.A=null,kl(n)}function kl(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Qe=vg.prototype).open=function(n,e){if(this.readyState!=bg)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,kl(this)},Qe.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Ut).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Qe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,wg(this)),this.readyState=bg},Qe.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,kl(this)),this.g&&(this.readyState=3,kl(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Ut.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;yI(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},Qe.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?wg(this):kl(this),3==this.readyState&&yI(this)}},Qe.Za=function(n){this.g&&(this.response=this.responseText=n,wg(this))},Qe.Ya=function(n){this.g&&(this.response=n,wg(this))},Qe.ka=function(){this.g&&wg(this)},Qe.setRequestHeader=function(n,e){this.v.append(n,e)},Qe.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Qe.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(vg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var iv=Ut.JSON.parse;function vr(n){Hr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=ov,this.L=this.M=!1}Zn(vr,Hr);var ov="",xw=/^https?$/i,vI=["POST","PUT"];function sv(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,av(n),lv(n)}function av(n){n.F||(n.F=!0,li(n,"complete"),li(n,"error"))}function Eg(n){if(n.h&&typeof ju<"u"&&(!n.C[1]||4!=La(n)||2!=n.da()))if(n.v&&4==La(n))ci(n.La,0,n);else if(li(n,"readystatechange"),4==La(n)){n.h=!1;try{const u=n.da();e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===u){var i=String(n.I).match(_w)[1]||null;!i&&Ut.self&&Ut.self.location&&(i=Ut.self.location.protocol.slice(0,-1)),r=!xw.test(i?i.toLowerCase():"")}t=r}if(t)li(n,"complete"),li(n,"success");else{n.m=6;try{var s=2<La(n)?n.g.statusText:""}catch{s=""}n.j=s+" ["+n.da()+"]",av(n)}}finally{lv(n)}}}function lv(n,e){if(n.g){Cg(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||li(n,"ready");try{t.onreadystatechange=r}catch{}}}function Cg(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Ut.clearTimeout(n.A),n.A=null)}function La(n){return n.g?n.g.readyState:0}function Dg(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case ov:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function cv(n){let e="";return Ze(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function Ol(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=cv(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):ir(n,e,t))}function Pp(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function xg(n){this.Ga=0,this.j=[],this.l=new Al,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Pp("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Pp("baseRetryDelayMs",5e3,n),this.hb=Pp("retryDelaySeedMs",1e4,n),this.eb=Pp("forwardChannelMaxRetries",2,n),this.xa=Pp("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new ww(n&&n.concurrentRequestLimit),this.Ja=new Cw,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Jh(n){if(Tg(n),3==n.H){var e=n.W++,t=Fa(n.I);if(ir(t,"SID",n.K),ir(t,"RID",e),ir(t,"TYPE","terminate"),od(n,t),(e=new Xu(n,n.l,e)).L=2,e.v=td(Fa(t)),t=!1,Ut.navigator&&Ut.navigator.sendBeacon)try{t=Ut.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&Ut.Image&&((new Image).src=e.v,t=!0),t||(e.g=hv(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Rp(e)}dv(n)}function Ig(n){n.g&&(Oc(n),n.g.cancel(),n.g=null)}function Tg(n){Ig(n),n.u&&(Ut.clearTimeout(n.u),n.u=null),Ag(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Ut.clearTimeout(n.m),n.m=null)}function rd(n){if(!Op(n.i)&&!n.m){n.m=!0;var e=n.Na;N||Ge(),J||(N(),J=!0),pe.add(e,n),n.C=0}}function uv(n,e){var t;t=e?e.m:n.W++;const r=Fa(n.I);ir(r,"SID",n.K),ir(r,"RID",t),ir(r,"AID",n.V),od(n,r),n.o&&n.s&&Ol(r,n.o,n.s),t=new Xu(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=Tw(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),nv(n.i,t),pg(t,r,e)}function od(n,e){n.na&&Ze(n.na,function(t,r){ir(e,r,t)}),n.h&&gw({},function(t,r){ir(e,r,t)})}function Tw(n,e,t){t=Math.min(n.j.length,t);var r=n.h?_r(n.h.Va,n.h,n):null;e:{var i=n.j;let s=-1;for(;;){const u=["count="+t];-1==s?0<t?(s=i[0].g,u.push("ofs="+s)):s=0:u.push("ofs="+s);let f=!0;for(let _=0;_<t;_++){let b=i[_].g;const I=i[_].map;if(b-=s,0>b)s=Math.max(0,i[_].g-100),f=!1;else try{Dw(I,u,"req"+b+"_")}catch{r&&r(I)}}if(f){r=u.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function Sw(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;N||Ge(),J||(N(),J=!0),pe.add(e,n),n.A=0}}function Sg(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Ap(_r(n.Ma,n),Mg(n,n.A)),n.A++,0))}function Oc(n){null!=n.B&&(Ut.clearTimeout(n.B),n.B=null)}function Aw(n){n.g=new Xu(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Fa(n.wa);ir(e,"RID","rpc"),ir(e,"SID",n.K),ir(e,"AID",n.V),ir(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&ir(e,"TO",n.qa),ir(e,"TYPE","xmlhttp"),od(n,e),n.o&&n.s&&Ol(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=td(Fa(e)),t.s=null,t.S=!0,Qy(t,n)}function Ag(n){null!=n.v&&(Ut.clearTimeout(n.v),n.v=null)}function Mw(n,e){var t=null;if(n.g==e){Ag(n),Oc(n),n.g=null;var r=2}else{if(!Np(n.i,e))return;t=e.F,kr(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;li(r=Zh(),new dw(r,t)),rd(n)}else Sw(n);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function id(n,e){return!(tv(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Ap(_r(n.Na,n,e),Mg(n,n.C)),n.C++,0)))}(n,e)||2==r&&Sg(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:sd(n,5);break;case 4:sd(n,10);break;case 3:sd(n,6);break;default:sd(n,2)}}function Mg(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function sd(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=_r(n.pb,n);t||(t=new ed("//www.google.com/images/cleardot.gif"),Ut.location&&"http"==Ut.location.protocol||gg(t,"https"),td(t)),function _I(n,e){const t=new Al;if(Ut.Image){const r=new Image;r.onload=Ra(yg,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Ra(yg,t,r,"TestLoadImage: error",!1,e),r.onabort=Ra(yg,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ra(yg,t,r,"TestLoadImage: timeout",!1,e),Ut.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Hi(2);n.H=0,n.h&&n.h.za(e),dv(n),Tg(n)}function dv(n){if(n.H=0,n.ma=[],n.h){const e=rv(n.i);(0!=e.length||0!=n.j.length)&&($u(n.ma,e),$u(n.ma,n.j),n.i.i.length=0,xl(n.j),n.j.length=0),n.h.ya()}}function Rw(n,e,t){var r=t instanceof ed?Fa(t):new ed(t);if(""!=r.g)e&&(r.g=e+"."+r.g),_g(r,r.m);else{var i=Ut.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new ed(null);r&&gg(s,r),e&&(s.g=e),i&&_g(s,i),t&&(s.l=t),r=s}return e=n.Da,(t=n.F)&&e&&ir(r,t,e),ir(r,"VER",n.ra),od(n,r),r}function hv(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new vr(t&&n.Ha&&!n.va?new Fp({ob:!0}):n.va)).Oa(n.J),e}function wI(){}function Rg(){if(Po&&!(10<=Number(w)))throw Error("Environmental error: no available transport.")}function Si(n,e){Hr.call(this),this.g=new xg(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Gu(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Gu(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Va(this)}function kw(n){Ky.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function ad(){Yy.call(this),this.status=1}function Va(n){this.g=n}function vs(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function fv(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var s=n.g[3],u=(e=n.g[0])+(s^(t=n.g[1])&((i=n.g[2])^s))+r[0]+3614090360&4294967295;u=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=t+(u<<7&4294967295|u>>>25))+((u=s+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|u>>>20))+((u=i+(t^s&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|u>>>10))+((u=e+(s^t&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|u>>>25))+((u=s+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|u>>>20))+((u=i+(t^s&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|u>>>10))+((u=e+(s^t&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|u>>>25))+((u=s+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|u>>>20))+((u=i+(t^s&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|u>>>10))+((u=e+(s^t&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|u>>>25))+((u=s+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|u>>>20))+((u=i+(t^s&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|u>>>10))+((u=e+(i^s&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|u>>>27))+((u=s+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|u>>>23))+((u=i+(e^t&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|u>>>18))+((u=t+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|u>>>12))+((u=e+(i^s&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|u>>>27))+((u=s+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|u>>>23))+((u=i+(e^t&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|u>>>18))+((u=t+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|u>>>12))+((u=e+(i^s&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|u>>>27))+((u=s+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|u>>>23))+((u=i+(e^t&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|u>>>18))+((u=t+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|u>>>12))+((u=e+(i^s&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|u>>>27))+((u=s+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|u>>>23))+((u=i+(e^t&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|u>>>18))+((u=t+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|u>>>12))+((u=e+(t^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|u>>>28))+((u=s+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|u>>>21))+((u=i+(s^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|u>>>16))+((u=t+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|u>>>9))+((u=e+(t^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|u>>>28))+((u=s+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|u>>>21))+((u=i+(s^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|u>>>16))+((u=t+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|u>>>9))+((u=e+(t^i^s)+r[13]+681279174&4294967295)<<4&4294967295|u>>>28))+((u=s+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|u>>>21))+((u=i+(s^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|u>>>16))+((u=t+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|u>>>9))+((u=e+(t^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|u>>>28))+((u=s+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|u>>>21))+((u=i+(s^e^t)+r[15]+530742520&4294967295)<<16&4294967295|u>>>16))+((u=t+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|u>>>9))+((u=e+(i^(t|~s))+r[0]+4096336452&4294967295)<<6&4294967295|u>>>26))+((u=s+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|u>>>22))+((u=i+(e^(s|~t))+r[14]+2878612391&4294967295)<<15&4294967295|u>>>17))+((u=t+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|u>>>11))+((u=e+(i^(t|~s))+r[12]+1700485571&4294967295)<<6&4294967295|u>>>26))+((u=s+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|u>>>22))+((u=i+(e^(s|~t))+r[10]+4293915773&4294967295)<<15&4294967295|u>>>17))+((u=t+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|u>>>11))+((u=e+(i^(t|~s))+r[8]+1873313359&4294967295)<<6&4294967295|u>>>26))+((u=s+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|u>>>22))+((u=i+(e^(s|~t))+r[6]+2734768916&4294967295)<<15&4294967295|u>>>17))+((u=t+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|u>>>11))+((s=(e=t+((u=e+(i^(t|~s))+r[4]+4149444226&4294967295)<<6&4294967295|u>>>26))+((u=s+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|u>>>22))^((i=s+((u=i+(e^(s|~t))+r[2]+718787259&4294967295)<<15&4294967295|u>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(u<<21&4294967295|u>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+s&4294967295}function An(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var s=0|n[i];r&&s==e||(t[i]=s,r=!1)}this.g=t}(Qe=vr.prototype).Oa=function(n){this.M=n},Qe.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():hw.g(),this.C=function Mp(n){return n.h||(n.h=n.i())}(this.u?this.u:hw),this.g.onreadystatechange=_r(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(s){return void sv(this,s)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())t.set(s,r.get(s))}r=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),i=Ut.FormData&&n instanceof Ut.FormData,!(0<=qs(vI,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,u]of t)this.g.setRequestHeader(s,u);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Cg(this),0<this.B&&((this.L=function bI(n){return Po&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=_r(this.ua,this)):this.A=ci(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){sv(this,s)}},Qe.ua=function(){typeof ju<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,li(this,"timeout"),this.abort(8))},Qe.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,li(this,"complete"),li(this,"abort"),lv(this))},Qe.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),lv(this,!0)),vr.$.N.call(this)},Qe.La=function(){this.s||(this.G||this.v||this.l?Eg(this):this.kb())},Qe.kb=function(){Eg(this)},Qe.isActive=function(){return!!this.g},Qe.da=function(){try{return 2<La(this)?this.g.status:-1}catch{return-1}},Qe.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Qe.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),iv(e)}},Qe.Ia=function(){return this.m},Qe.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Qe=xg.prototype).ra=8,Qe.H=1,Qe.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new Xu(this,this.l,n);let s=this.s;if(this.U&&(s?(s=mt(s),Ot(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Tw(this,i,e),ir(t=Fa(this.I),"RID",n),ir(t,"CVER",22),this.F&&ir(t,"X-HTTP-Session-Id",this.F),od(this,t),s&&(this.O?e="headers="+encodeURIComponent(String(cv(s)))+"&"+e:this.o&&Ol(t,this.o,s)),nv(this.i,i),this.bb&&ir(t,"TYPE","init"),this.P?(ir(t,"$req",e),ir(t,"SID","null"),i.aa=!0,pg(i,t,null)):pg(i,t,e),this.H=2}}else 3==this.H&&(n?uv(this,n):0==this.j.length||Op(this.i)||uv(this))},Qe.Ma=function(){if(this.u=null,Aw(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Ap(_r(this.jb,this),n)}},Qe.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Hi(10),Ig(this),Aw(this))},Qe.ib=function(){null!=this.v&&(this.v=null,Ig(this),Sg(this),Hi(19))},Qe.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Hi(2)):(this.l.info("Failed to ping google.com"),Hi(1))},Qe.isActive=function(){return!!this.h&&this.h.isActive(this)},(Qe=wI.prototype).Ba=function(){},Qe.Aa=function(){},Qe.za=function(){},Qe.ya=function(){},Qe.isActive=function(){return!0},Qe.Va=function(){},Rg.prototype.g=function(n,e){return new Si(n,e)},Zn(Si,Hr),Si.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Hi(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=Rw(n,null,n.Y),rd(n)},Si.prototype.close=function(){Jh(this.g)},Si.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=jh(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&rd(e)},Si.prototype.N=function(){this.g.h=null,delete this.j,Jh(this.g),delete this.g,Si.$.N.call(this)},Zn(kw,Ky),Zn(ad,Yy),Zn(Va,wI),Va.prototype.Ba=function(){li(this.g,"a")},Va.prototype.Aa=function(n){li(this.g,new kw(n))},Va.prototype.za=function(n){li(this.g,new ad)},Va.prototype.ya=function(){li(this.g,"b")},Zn(vs,function EI(){this.blockSize=-1}),vs.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},vs.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=t;)fv(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<e;)if(r[i++]=n.charCodeAt(s++),i==this.blockSize){fv(this,r),i=0;break}}else for(;s<e;)if(r[i++]=n[s++],i==this.blockSize){fv(this,r),i=0;break}}this.h=i,this.i+=e},vs.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var CI={};function kg(n){return-128<=n&&128>n?function Ph(n,e){var t=CI;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new An([0|e],0>e?-1:0)}):new An([0|n],0>n?-1:0)}function Ys(n){if(isNaN(n)||!isFinite(n))return Xh;if(0>n)return Ai(Ys(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=Lp;return new An(e,0)}var Lp=4294967296,Xh=kg(0),Vp=kg(1),ef=kg(16777216);function Nl(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function bs(n){return-1==n.h}function Ai(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new An(t,~n.h).add(Vp)}function Ng(n,e){return n.add(Ai(e))}function Fg(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Bp(n,e){this.g=n,this.h=e}function Pg(n,e){if(Nl(e))throw Error("division by zero");if(Nl(n))return new Bp(Xh,Xh);if(bs(n))return e=Pg(Ai(n),e),new Bp(Ai(e.g),Ai(e.h));if(bs(e))return e=Pg(n,Ai(e)),new Bp(Ai(e.g),e.h);if(30<n.g.length){if(bs(n)||bs(e))throw Error("slowDivide_ only works with positive integers.");for(var t=Vp,r=e;0>=r.X(n);)t=ld(t),r=ld(r);var i=po(t,1),s=po(r,1);for(r=po(r,2),t=po(t,2);!Nl(r);){var u=s.add(r);0>=u.X(n)&&(i=i.add(t),s=u),r=po(r,1),t=po(t,1)}return e=Ng(n,i.R(e)),new Bp(i,e)}for(i=Xh;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),u=(s=Ys(t)).R(e);bs(u)||0<u.X(n);)u=(s=Ys(t-=r)).R(e);Nl(s)&&(s=Vp),i=i.add(s),n=Ng(n,u)}return new Bp(i,n)}function ld(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new An(t,n.h)}function po(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],s=0;s<r;s++)i[s]=0<e?n.D(s+t)>>>e|n.D(s+t+1)<<32-e:n.D(s+t);return new An(i,n.h)}(Qe=An.prototype).ea=function(){if(bs(this))return-Ai(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:Lp+r)*e,e*=Lp}return n},Qe.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Nl(this))return"0";if(bs(this))return"-"+Ai(this).toString(n);for(var e=Ys(Math.pow(n,6)),t=this,r="";;){var i=Pg(t,e).g,s=((0<(t=Ng(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Nl(t=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},Qe.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},Qe.X=function(n){return bs(n=Ng(this,n))?-1:Nl(n)?0:1},Qe.abs=function(){return bs(this)?Ai(this):this},Qe.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&n.D(i)),u=(s>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=u>>>16,t[i]=(u&=65535)<<16|(s&=65535)}return new An(t,-2147483648&t[t.length-1]?-1:0)},Qe.R=function(n){if(Nl(this)||Nl(n))return Xh;if(bs(this))return bs(n)?Ai(this).R(Ai(n)):Ai(Ai(this).R(n));if(bs(n))return Ai(this.R(Ai(n)));if(0>this.X(ef)&&0>n.X(ef))return Ys(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var s=this.D(r)>>>16,u=65535&this.D(r),f=n.D(i)>>>16,_=65535&n.D(i);t[2*r+2*i]+=u*_,Fg(t,2*r+2*i),t[2*r+2*i+1]+=s*_,Fg(t,2*r+2*i+1),t[2*r+2*i+1]+=u*f,Fg(t,2*r+2*i+1),t[2*r+2*i+2]+=s*f,Fg(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new An(t,0)},Qe.gb=function(n){return Pg(this,n).h},Qe.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new An(t,this.h&n.h)},Qe.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new An(t,this.h|n.h)},Qe.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new An(t,this.h^n.h)},Rg.prototype.createWebChannel=Rg.prototype.g,Si.prototype.send=Si.prototype.u,Si.prototype.open=Si.prototype.m,Si.prototype.close=Si.prototype.close,ug.NO_ERROR=0,ug.TIMEOUT=8,ug.HTTP_ERROR=6,Zy.COMPLETE="complete",hg.EventType=Na,Na.OPEN="a",Na.CLOSE="b",Na.ERROR="c",Na.MESSAGE="d",Hr.prototype.listen=Hr.prototype.O,vr.prototype.listenOnce=vr.prototype.P,vr.prototype.getLastError=vr.prototype.Sa,vr.prototype.getLastErrorCode=vr.prototype.Ia,vr.prototype.getStatus=vr.prototype.da,vr.prototype.getResponseJson=vr.prototype.Wa,vr.prototype.getResponseText=vr.prototype.ja,vr.prototype.send=vr.prototype.ha,vr.prototype.setWithCredentials=vr.prototype.Oa,vs.prototype.digest=vs.prototype.l,vs.prototype.reset=vs.prototype.reset,vs.prototype.update=vs.prototype.j,An.prototype.add=An.prototype.add,An.prototype.multiply=An.prototype.R,An.prototype.modulo=An.prototype.gb,An.prototype.compare=An.prototype.X,An.prototype.toNumber=An.prototype.ea,An.prototype.toString=An.prototype.toString,An.prototype.getBits=An.prototype.D,An.fromNumber=Ys,An.fromString=function Og(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Ai(Og(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Ys(Math.pow(e,8)),r=Xh,i=0;i<n.length;i+=8){var s=Math.min(8,n.length-i),u=parseInt(n.substring(i,i+s),e);8>s?(s=Ys(Math.pow(e,s)),r=r.R(s).add(Ys(u))):r=(r=r.R(t)).add(Ys(u))}return r};var DI=Yi.createWebChannelTransport=function(){return new Rg},xI=Yi.getStatEventTarget=function(){return Zh()},Ow=Yi.ErrorCode=ug,pR=Yi.EventType=Zy,Nw=Yi.Event=ys,II=Yi.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Fw=Yi.FetchXmlHttpFactory=Fp,Up=Yi.WebChannel=hg,TI=Yi.XhrIo=vr,Pw=Yi.Md5=vs,tf=Yi.Integer=An;const Lw="@firebase/firestore";class Nn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Nn.UNAUTHENTICATED=new Nn(null),Nn.GOOGLE_CREDENTIALS=new Nn("google-credentials-uid"),Nn.FIRST_PARTY=new Nn("first-party-uid"),Nn.MOCK_USER=new Nn("mock-user");let nf="9.23.0";const Fl=new ps.Yd("@firebase/firestore");function pv(){return Fl.logLevel}function Ue(n,...e){if(Fl.logLevel<=ps.in.DEBUG){const t=e.map(mv);Fl.debug(`Firestore (${nf}): ${n}`,...t)}}function jr(n,...e){if(Fl.logLevel<=ps.in.ERROR){const t=e.map(mv);Fl.error(`Firestore (${nf}): ${n}`,...t)}}function Uo(n,...e){if(Fl.logLevel<=ps.in.WARN){const t=e.map(mv);Fl.warn(`Firestore (${nf}): ${n}`,...t)}}function mv(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function ht(n="Unexpected state"){const e=`FIRESTORE (${nf}) INTERNAL ASSERTION FAILED: `+n;throw jr(e),new Error(e)}function Ct(n,e){n||ht()}function et(n,e){return n}const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ke extends un.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ui{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Vw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Bw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Nn.UNAUTHENTICATED))}shutdown(){}}class AI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Uw{constructor(e){this.t=e,this.currentUser=Nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=b=>this.i!==i?(i=this.i,t(b)):Promise.resolve();let u=new ui;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ui,e.enqueueRetryable(()=>s(this.currentUser))};const f=()=>{const b=u;e.enqueueRetryable((0,ve.Z)(function*(){yield b.promise,yield s(r.currentUser)}))},_=b=>{Ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=b,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(b=>_(b)),setTimeout(()=>{if(!this.auth){const b=this.t.getImmediate({optional:!0});b?_(b):(Ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ui)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ct("string"==typeof r.accessToken),new Vw(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ct(null===e||"string"==typeof e),new Nn(e)}}class MI{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=Nn.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class RI{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new MI(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Nn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class kI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Hw{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=s=>{null!=s.error&&Ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const u=s.token!==this.T;return this.T=s.token,Ue("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):Ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ct("string"==typeof t.token),this.T=t.token,new kI(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function cd(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class jw{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=cd(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}}function Ht(n,e){return n<e?-1:n>e?1:0}function Nc(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function zw(n){return n+"\0"}class br{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ke(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ke(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ke(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ke(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return br.fromMillis(Date.now())}static fromDate(e){return br.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new br(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ht(this.nanoseconds,e.nanoseconds):Ht(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class It{constructor(e){this.timestamp=e}static fromTimestamp(e){return new It(e)}static min(){return new It(new br(0,0))}static max(){return new It(new br(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Lg{constructor(e,t,r){void 0===t?t=0:t>e.length&&ht(),void 0===r?r=e.length-t:r>e.length-t&&ht(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Lg.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Lg?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),u=t.get(i);if(s<u)return-1;if(s>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class En extends Lg{construct(e,t,r){return new En(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ke(me.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new En(t)}static emptyPath(){return new En([])}}const $w=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zr extends Lg{construct(e,t,r){return new zr(e,t,r)}static isValidIdentifier(e){return $w.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new zr(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new ke(me.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;i<e.length;){const f=e[i];if("\\"===f){if(i+1===e.length)throw new ke(me.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[i+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new ke(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,i+=2}else"`"===f?(u=!u,i++):"."!==f||u?(r+=f,i++):(s(),i++)}if(s(),u)throw new ke(me.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new zr(t)}static emptyPath(){return new zr([])}}class Je{constructor(e){this.path=e}static fromPath(e){return new Je(En.fromString(e))}static fromName(e){return new Je(En.fromString(e).popFirst(5))}static empty(){return new Je(En.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===En.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return En.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Je(new En(e.slice()))}}class Pl{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function gv(n){return n.fields.find(e=>2===e.kind)}function Fc(n){return n.fields.filter(e=>2!==e.kind)}Pl.UNKNOWN_ID=-1;class Bg{constructor(e,t){this.fieldPath=e,this.kind=t}}class Hp{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Hp(0,Ho.min())}}function qw(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=It.fromTimestamp(1e9===r?new br(t+1,0):new br(t,r));return new Ho(i,Je.empty(),e)}function Ww(n){return new Ho(n.readTime,n.key,-1)}class Ho{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ho(It.min(),Je.empty(),-1)}static max(){return new Ho(It.max(),Je.empty(),-1)}}function _v(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Je.comparator(n.documentKey,e.documentKey),0!==t?t:Ht(n.largestBatchId,e.largestBatchId))}const yv="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Zw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ll(n){return Ug.apply(this,arguments)}function Ug(){return Ug=(0,ve.Z)(function*(n){if(n.code!==me.FAILED_PRECONDITION||n.message!==yv)throw n;Ue("LocalStore","Unexpectedly lost primary lease")}),Ug.apply(this,arguments)}class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ht(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new le((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof le?t:le.resolve(t)}catch(t){return le.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):le.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):le.reject(t)}static resolve(e){return new le((t,r)=>{t(e)})}static reject(e){return new le((t,r)=>{r(e)})}static waitFor(e){return new le((t,r)=>{let i=0,s=0,u=!1;e.forEach(f=>{++i,f.next(()=>{++s,u&&s===i&&t()},_=>r(_))}),u=!0,s===i&&t()})}static or(e){let t=le.resolve(!1);for(const r of e)t=t.next(i=>i?le.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new le((r,i)=>{const s=e.length,u=new Array(s);let f=0;for(let _=0;_<s;_++){const b=_;t(e[b]).next(I=>{u[b]=I,++f,f===s&&r(u)},I=>i(I))}})}static doWhile(e,t){return new le((r,i)=>{const s=()=>{!0===e()?t().next(()=>{s()},i):r()};s()})}}class vv{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new ui,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new Hg(e,t.error)):this.v.resolve()},this.transaction.onerror=r=>{const i=wv(r.target.error);this.v.reject(new Hg(e,i))}}static open(e,t,r,i){try{return new vv(t,e.transaction(i,r))}catch(s){throw new Hg(t,s)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(Ue("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Kw(t)}}class jo{constructor(e,t,r){this.name=e,this.version=t,this.V=r,12.2===jo.S((0,un.z$)())&&jr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ue("SimpleDb","Removing database:",e),ud(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,un.hl)())return!1;if(jo.C())return!0;const e=(0,un.z$)(),t=jo.S(e),r=0<t&&t<10,i=jo.N(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static N(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}$(e){var t=this;return(0,ve.Z)(function*(){return t.db||(Ue("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const s=indexedDB.open(t.name,t.version);s.onsuccess=u=>{r(u.target.result)},s.onblocked=()=>{i(new Hg(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=u=>{const f=u.target.error;i("VersionError"===f.name?new ke(me.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new ke(me.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new Hg(e,f))},s.onupgradeneeded=u=>{Ue("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',u.oldVersion),t.V.O(u.target.result,s.transaction,u.oldVersion,t.version).next(()=>{Ue("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=r=>t.F(r)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var s=this;return(0,ve.Z)(function*(){const u="readonly"===t;let f=0;for(;;){++f;try{s.db=yield s.$(e);const _=vv.open(s.db,e,u?"readonly":"readwrite",r),b=i(_).next(I=>(_.P(),I)).catch(I=>(_.abort(I),le.reject(I))).toPromise();return b.catch(()=>{}),yield _.R,b}catch(_){const b=_,I="FirebaseError"!==b.name&&f<3;if(Ue("SimpleDb","Transaction failed with error:",b.message,"Retrying:",I),s.close(),!I)return Promise.reject(b)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class NI{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return ud(this.L.delete())}}class Hg extends ke{constructor(e,t){super(me.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function zo(n){return"IndexedDbTransactionError"===n.name}class Kw{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Ue("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Ue("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),ud(r)}add(e){return Ue("SimpleDb","ADD",this.store.name,e,e),ud(this.store.add(e))}get(e){return ud(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ue("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ue("SimpleDb","DELETE",this.store.name,e),ud(this.store.delete(e))}count(){return Ue("SimpleDb","COUNT",this.store.name),ud(this.store.count())}j(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),s=[];return this.W(i,(u,f)=>{s.push(f)}).next(()=>s)}{const i=this.store.getAll(r.range);return new le((s,u)=>{i.onerror=f=>{u(f.target.error)},i.onsuccess=f=>{s(f.target.result)}})}}H(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new le((i,s)=>{r.onerror=u=>{s(u.target.error)},r.onsuccess=u=>{i(u.target.result)}})}J(e,t){Ue("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.Y=!1;const i=this.cursor(r);return this.W(i,(s,u,f)=>f.delete())}X(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.W(i,t)}Z(e){const t=this.cursor({});return new le((r,i)=>{t.onerror=s=>{const u=wv(s.target.error);i(u)},t.onsuccess=s=>{const u=s.target.result;u?e(u.primaryKey,u.value).next(f=>{f?u.continue():r()}):r()}})}W(e,t){const r=[];return new le((i,s)=>{e.onerror=u=>{s(u.target.error)},e.onsuccess=u=>{const f=u.target.result;if(!f)return void i();const _=new NI(f),b=t(f.primaryKey,f.value,_);if(b instanceof le){const I=b.catch(M=>(_.done(),le.reject(M)));r.push(I)}_.isDone?i():null===_.K?f.continue():f.continue(_.K)}}).next(()=>le.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function ud(n){return new le((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=wv(r.target.error);t(i)}})}let bv=!1;function wv(n){const e=jo.S((0,un.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new ke("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return bv||(bv=!0,setTimeout(()=>{throw r},0)),r}}return n}class FI{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;Ue("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,ve.Z)(function*(){t.task=null;try{Ue("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(r){zo(r)?Ue("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield Ll(r)}yield t.et(6e4)}))}}class jg{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,ve.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.st(r,e))})()}st(e,t){const r=new Set;let i=t,s=!0;return le.doWhile(()=>!0===s&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(u=>{if(null!==u&&!r.has(u))return Ue("IndexBackiller",`Processing collection: ${u}`),this.it(e,u,i).next(f=>{i-=f,r.add(u)});s=!1})).next(()=>t-i)}it(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(s=>{const u=s.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next(()=>this.rt(i,s)).next(f=>(Ue("IndexBackiller",`Updating offset: ${f}`),this.localStore.indexManager.updateCollectionGroup(e,t,f))).next(()=>u.size)}))}rt(e,t){let r=e;return t.changes.forEach((i,s)=>{const u=Ww(s);_v(u,r)>0&&(r=u)}),new Ho(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let vi=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function dd(n){return null==n}function Vl(n){return 0===n&&1/n==-1/0}function zg(n){return"number"==typeof n&&Number.isInteger(n)&&!Vl(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function di(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=$g(e)),e=Yw(n.get(t),e);return $g(e)}function Yw(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const s=n.charAt(i);switch(s){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=s}}return t}function $g(n){return n+"\x01\x01"}function ws(n){const e=n.length;if(Ct(e>=2),2===e)return Ct("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),En.emptyPath();const t=e-2,r=[];let i="";for(let s=0;s<e;){const u=n.indexOf("\x01",s);switch((u<0||u>t)&&ht(),n.charAt(u+1)){case"\x01":const f=n.substring(s,u);let _;0===i.length?_=f:(i+=f,_=i,i=""),r.push(_);break;case"\x10":i+=n.substring(s,u),i+="\0";break;case"\x11":i+=n.substring(s,u+1);break;default:ht()}s=u+2}return new En(r)}const Gg=["userId","batchId"];function jp(n,e){return[n,di(e)]}function qg(n,e,t){return[n,di(e),t]}const PI={},LI=["prefixPath","collectionGroup","readTime","documentId"],Qw=["prefixPath","collectionGroup","documentId"],VI=["collectionGroup","readTime","prefixPath","documentId"],Jw=["canonicalId","targetId"],Xw=["targetId","path"],BI=["path","targetId"],UI=["collectionId","parent"],$o=["indexId","uid"],HI=["uid","sequenceNumber"],jI=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],mR=["indexId","uid","orderedDocumentKey"],Ev=["userId","collectionPath","documentId"],eE=["userId","collectionPath","largestBatchId"],zI=["userId","collectionGroup","largestBatchId"],tE=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],$I=[...tE,"documentOverlays"],Cv=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],nE=Cv,GI=[...nE,"indexConfiguration","indexState","indexEntries"];class zp extends Zw{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function bi(n,e){const t=et(n);return jo.M(t.ht,e)}function rE(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Pc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function iE(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Kn{constructor(e,t){this.comparator=e,this.root=t||hi.EMPTY}insert(e,t){return new Kn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,hi.BLACK,null,null))}remove(e){return new Kn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,hi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Go(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Go(this.root,e,this.comparator,!1)}getReverseIterator(){return new Go(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Go(this.root,e,this.comparator,!0)}}class Go{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class hi{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??hi.RED,this.left=i??hi.EMPTY,this.right=s??hi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new hi(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return hi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return hi.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,hi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,hi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ht();const e=this.left.check();if(e!==this.right.check())throw ht();return e+(this.isRed()?0:1)}}hi.EMPTY=null,hi.RED=!0,hi.BLACK=!1,hi.EMPTY=new class{constructor(){this.size=0}get key(){throw ht()}get value(){throw ht()}get color(){throw ht()}get left(){throw ht()}get right(){throw ht()}copy(n,e,t,r,i){return this}insert(n,e,t){return new hi(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class or{constructor(e){this.comparator=e,this.data=new Kn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new oE(this.data.getIterator())}getIteratorFrom(e){return new oE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof or)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new or(this.comparator);return t.data=e,t}}class oE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function hd(n){return n.hasNext()?n.getNext():void 0}class mo{constructor(e){this.fields=e,e.sort(zr.comparator)}static empty(){return new mo([])}unionWith(e){let t=new or(zr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new mo(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Nc(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class sE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class $r{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new sE("Invalid base64 string: "+i):i}}(e);return new $r(t)}static fromUint8Array(e){const t=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new $r(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ht(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$r.EMPTY_BYTE_STRING=new $r("");const WI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Lc(n){if(Ct(!!n),"string"==typeof n){let e=0;const t=WI.exec(n);if(Ct(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:sr(n.seconds),nanos:sr(n.nanos)}}function sr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Es(n){return"string"==typeof n?$r.fromBase64String(n):$r.fromUint8Array(n)}function fd(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Dv(n){const e=n.mapValue.fields.__previous_value__;return fd(e)?Dv(e):e}function pd(n){const e=Lc(n.mapValue.fields.__local_write_time__.timestampValue);return new br(e.seconds,e.nanos)}class gR{constructor(e,t,r,i,s,u,f,_,b){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=_,this.useFetchStreams=b}}class Bl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Bl("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Bl&&e.projectId===this.projectId&&e.database===this.database}}const Ul={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},$p={nullValue:"NULL_VALUE"};function Hl(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?fd(n)?4:lE(n)?9007199254740991:10:ht()}function Cs(n,e){if(n===e)return!0;const t=Hl(n);if(t!==Hl(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return pd(n).isEqual(pd(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Lc(r.timestampValue),u=Lc(i.timestampValue);return s.seconds===u.seconds&&s.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Es(n.bytesValue).isEqual(Es(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return sr(r.geoPointValue.latitude)===sr(i.geoPointValue.latitude)&&sr(r.geoPointValue.longitude)===sr(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return sr(r.integerValue)===sr(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=sr(r.doubleValue),u=sr(i.doubleValue);return s===u?Vl(s)===Vl(u):isNaN(s)&&isNaN(u)}return!1}(n,e);case 9:return Nc(n.arrayValue.values||[],e.arrayValue.values||[],Cs);case 10:return function(r,i){const s=r.mapValue.fields||{},u=i.mapValue.fields||{};if(rE(s)!==rE(u))return!1;for(const f in s)if(s.hasOwnProperty(f)&&(void 0===u[f]||!Cs(s[f],u[f])))return!1;return!0}(n,e);default:return ht()}var i}function qo(n,e){return void 0!==(n.values||[]).find(t=>Cs(t,e))}function Qs(n,e){if(n===e)return 0;const t=Hl(n),r=Hl(e);if(t!==r)return Ht(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ht(n.booleanValue,e.booleanValue);case 2:return function(i,s){const u=sr(i.integerValue||i.doubleValue),f=sr(s.integerValue||s.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1}(n,e);case 3:return Gp(n.timestampValue,e.timestampValue);case 4:return Gp(pd(n),pd(e));case 5:return Ht(n.stringValue,e.stringValue);case 6:return function(i,s){const u=Es(i),f=Es(s);return u.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(i,s){const u=i.split("/"),f=s.split("/");for(let _=0;_<u.length&&_<f.length;_++){const b=Ht(u[_],f[_]);if(0!==b)return b}return Ht(u.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,s){const u=Ht(sr(i.latitude),sr(s.latitude));return 0!==u?u:Ht(sr(i.longitude),sr(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,s){const u=i.values||[],f=s.values||[];for(let _=0;_<u.length&&_<f.length;++_){const b=Qs(u[_],f[_]);if(b)return b}return Ht(u.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Ul.mapValue&&s===Ul.mapValue)return 0;if(i===Ul.mapValue)return 1;if(s===Ul.mapValue)return-1;const u=i.fields||{},f=Object.keys(u),_=s.fields||{},b=Object.keys(_);f.sort(),b.sort();for(let I=0;I<f.length&&I<b.length;++I){const M=Ht(f[I],b[I]);if(0!==M)return M;const U=Qs(u[f[I]],_[b[I]]);if(0!==U)return U}return Ht(f.length,b.length)}(n.mapValue,e.mapValue);default:throw ht()}}function Gp(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Ht(n,e);const t=Lc(n),r=Lc(e),i=Ht(t.seconds,r.seconds);return 0!==i?i:Ht(t.nanos,r.nanos)}function Ba(n){return xv(n)}function xv(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Lc(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Es(n.bytesValue).toBase64():"referenceValue"in n?Je.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",s=!0;for(const u of r.values||[])s?s=!1:i+=",",i+=xv(u);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",u=!0;for(const f of i)u?u=!1:s+=",",s+=`${f}:${xv(r.fields[f])}`;return s+"}"}(n.mapValue):ht();var e}function Vc(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Iv(n){return!!n&&"integerValue"in n}function Wp(n){return!!n&&"arrayValue"in n}function rf(n){return!!n&&"nullValue"in n}function aE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Tv(n){return!!n&&"mapValue"in n}function Zp(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Pc(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Zp(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Zp(n.arrayValue.values[t]);return e}return Object.assign({},n)}function lE(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function ZI(n){return"nullValue"in n?$p:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Vc(Bl.empty(),Je.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:ht()}function KI(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Vc(Bl.empty(),Je.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Ul:ht()}function cE(n,e){const t=Qs(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function uE(n,e){const t=Qs(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Mi{constructor(e){this.value=e}static empty(){return new Mi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Tv(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zp(t)}setAll(e){let t=zr.emptyPath(),r={},i=[];e.forEach((u,f)=>{if(!t.isImmediateParentOf(f)){const _=this.getFieldsMap(t);this.applyChanges(_,r,i),r={},i=[],t=f.popLast()}u?r[f.lastSegment()]=Zp(u):i.push(f.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());Tv(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Cs(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Tv(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Pc(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Mi(Zp(this.value))}}function Sv(n){const e=[];return Pc(n.fields,(t,r)=>{const i=new zr([t]);if(Tv(r)){const s=Sv(r.mapValue).fields;if(0===s.length)e.push(i);else for(const u of s)e.push(i.child(u))}else e.push(i)}),new mo(e)}class Hn{constructor(e,t,r,i,s,u,f){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=u,this.documentState=f}static newInvalidDocument(e){return new Hn(e,0,It.min(),It.min(),It.min(),Mi.empty(),0)}static newFoundDocument(e,t,r,i){return new Hn(e,1,t,It.min(),r,i,0)}static newNoDocument(e,t){return new Hn(e,2,t,It.min(),It.min(),Mi.empty(),0)}static newUnknownDocument(e,t){return new Hn(e,3,t,It.min(),It.min(),Mi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(It.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=It.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Hn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Hn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Bc{constructor(e,t){this.position=e,this.inclusive=t}}function Wg(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],u=n.position[i];if(r=s.field.isKeyField()?Je.comparator(Je.fromName(u.referenceValue),t.key):Qs(u,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function dE(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Cs(n.position[t],e.position[t]))return!1;return!0}class sf{constructor(e,t="asc"){this.field=e,this.dir=t}}function YI(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class hE{}class _n extends hE{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new JI(e,t,r):"array-contains"===t?new Ua(e,r):"in"===t?new lf(e,r):"not-in"===t?new ji(e,r):"array-contains-any"===t?new md(e,r):new _n(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new XI(e,r):new Mv(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Qs(t,this.value)):null!==t&&Hl(this.value)===Hl(t)&&this.matchesComparison(Qs(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ht()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Mn extends hE{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Mn(e,t)}matches(e){return af(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function af(n){return"and"===n.op}function Zg(n){return"or"===n.op}function Kg(n){return fE(n)&&af(n)}function fE(n){for(const e of n.filters)if(e instanceof Mn)return!1;return!0}function pE(n){if(n instanceof _n)return n.field.canonicalString()+n.op.toString()+Ba(n.value);if(Kg(n))return n.filters.map(e=>pE(e)).join(",");{const e=n.filters.map(t=>pE(t)).join(",");return`${n.op}(${e})`}}function Av(n,e){return n instanceof _n?(t=n,(r=e)instanceof _n&&t.op===r.op&&t.field.isEqual(r.field)&&Cs(t.value,r.value)):n instanceof Mn?function(t,r){return r instanceof Mn&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,s,u)=>i&&Av(s,r.filters[u]),!0)}(n,e):void ht();var t,r}function QI(n,e){const t=n.filters.concat(e);return Mn.create(t,n.op)}function Kp(n){return n instanceof _n?`${(e=n).field.canonicalString()} ${e.op} ${Ba(e.value)}`:n instanceof Mn?function(e){return e.op.toString()+" {"+e.getFilters().map(Kp).join(" ,")+"}"}(n):"Filter";var e}class JI extends _n{constructor(e,t,r){super(e,t,r),this.key=Je.fromName(r.referenceValue)}matches(e){const t=Je.comparator(e.key,this.key);return this.matchesComparison(t)}}class XI extends _n{constructor(e,t){super(e,"in",t),this.keys=mE(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Mv extends _n{constructor(e,t){super(e,"not-in",t),this.keys=mE(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function mE(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Je.fromName(r.referenceValue))}class Ua extends _n{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Wp(t)&&qo(t.arrayValue,this.value)}}class lf extends _n{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&qo(this.value.arrayValue,t)}}class ji extends _n{constructor(e,t){super(e,"not-in",t)}matches(e){if(qo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!qo(this.value.arrayValue,t)}}class md extends _n{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Wp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>qo(this.value.arrayValue,r))}}class Yg{constructor(e,t=null,r=[],i=[],s=null,u=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=u,this.endAt=f,this.dt=null}}function go(n,e=null,t=[],r=[],i=null,s=null,u=null){return new Yg(n,e,t,r,i,s,u)}function jl(n){const e=et(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>pE(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),dd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ba(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ba(r)).join(",")),e.dt=t}return e.dt}function Ha(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!YI(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Av(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!dE(n.startAt,e.startAt)&&dE(n.endAt,e.endAt)}function zl(n){return Je.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function $l(n,e){return n.filters.filter(t=>t instanceof _n&&t.field.isEqual(e))}function gd(n,e,t){let r=$p,i=!0;for(const s of $l(n,e)){let u=$p,f=!0;switch(s.op){case"<":case"<=":u=ZI(s.value);break;case"==":case"in":case">=":u=s.value;break;case">":u=s.value,f=!1;break;case"!=":case"not-in":u=$p}cE({value:r,inclusive:i},{value:u,inclusive:f})<0&&(r=u,i=f)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const u=t.position[s];cE({value:r,inclusive:i},{value:u,inclusive:t.inclusive})<0&&(r=u,i=t.inclusive);break}return{value:r,inclusive:i}}function _d(n,e,t){let r=Ul,i=!0;for(const s of $l(n,e)){let u=Ul,f=!0;switch(s.op){case">=":case">":u=KI(s.value),f=!1;break;case"==":case"in":case"<=":u=s.value;break;case"<":u=s.value,f=!1;break;case"!=":case"not-in":u=Ul}uE({value:r,inclusive:i},{value:u,inclusive:f})>0&&(r=u,i=f)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const u=t.position[s];uE({value:r,inclusive:i},{value:u,inclusive:t.inclusive})>0&&(r=u,i=t.inclusive);break}return{value:r,inclusive:i}}class _o{constructor(e,t=null,r=[],i=[],s=null,u="F",f=null,_=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=u,this.startAt=f,this.endAt=_,this.wt=null,this._t=null}}function yd(n,e,t,r,i,s,u,f){return new _o(n,e,t,r,i,s,u,f)}function Js(n){return new _o(n)}function vd(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Qg(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Yp(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function Jg(n){return null!==n.collectionGroup}function Uc(n){const e=et(n);if(null===e.wt){e.wt=[];const t=Yp(e),r=Qg(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new sf(t)),e.wt.push(new sf(zr.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new sf(zr.keyField(),s))}}}return e.wt}function zi(n){const e=et(n);if(!e._t)if("F"===e.limitType)e._t=go(e.path,e.collectionGroup,Uc(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of Uc(e))t.push(new sf(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new Bc(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Bc(e.startAt.position,e.startAt.inclusive):null;e._t=go(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function Xg(n,e){e.getFirstInequalityField(),Yp(n);const t=n.filters.concat([e]);return new _o(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Qp(n,e,t){return new _o(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function cf(n,e){return Ha(zi(n),zi(e))&&n.limitType===e.limitType}function Rv(n){return`${jl(zi(n))}|lt:${n.limitType}`}function kv(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>Kp(r)).join(", ")}]`),dd(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ba(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ba(r)).join(",")),`Target(${t})`}(zi(n))}; limitType=${n.limitType})`}function Jp(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):Je.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of Uc(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,s,u){const f=Wg(i,s,u);return i.inclusive?f<=0:f<0}(t.startAt,Uc(t),r)||t.endAt&&!function(i,s,u){const f=Wg(i,s,u);return i.inclusive?f>=0:f>0}(t.endAt,Uc(t),r)));var t,r}function Ov(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function gE(n){return(e,t)=>{let r=!1;for(const i of Uc(n)){const s=_E(i,e,t);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function _E(n,e,t){const r=n.field.isKeyField()?Je.comparator(e.key,t.key):function(i,s,u){const f=s.data.field(i),_=u.data.field(i);return null!==f&&null!==_?Qs(f,_):ht()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ht()}}class Xs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Pc(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return iE(this.inner)}size(){return this.innerSize}}const Nv=new Kn(Je.comparator);function yo(){return Nv}const Xp=new Kn(Je.comparator);function Hc(...n){let e=Xp;for(const t of n)e=e.insert(t.key,t);return e}function e_(n){let e=Xp;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function ja(){return jc()}function em(){return jc()}function jc(){return new Xs(n=>n.toString(),(n,e)=>n.isEqual(e))}const Fv=new Kn(Je.comparator),yE=new or(Je.comparator);function nn(...n){let e=yE;for(const t of n)e=e.add(t);return e}const vE=new or(Ht);function t_(){return vE}function n_(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vl(e)?"-0":e}}function Pv(n){return{integerValue:""+n}}function bE(n,e){return zg(e)?Pv(e):n_(n,e)}class tm{constructor(){this._=void 0}}function wE(n,e,t){return n instanceof uf?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&fd(i)&&(i=Dv(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(t,e):n instanceof zc?Vv(n,e):n instanceof $c?r_(n,e):function(r,i){const s=Lv(r,i),u=Bv(s)+Bv(r.gt);return Iv(s)&&Iv(r.gt)?Pv(u):n_(r.serializer,u)}(n,e)}function EE(n,e,t){return n instanceof zc?Vv(n,e):n instanceof $c?r_(n,e):t}function Lv(n,e){return n instanceof bd?Iv(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class uf extends tm{}class zc extends tm{constructor(e){super(),this.elements=e}}function Vv(n,e){const t=Uv(e);for(const r of n.elements)t.some(i=>Cs(i,r))||t.push(r);return{arrayValue:{values:t}}}class $c extends tm{constructor(e){super(),this.elements=e}}function r_(n,e){let t=Uv(e);for(const r of n.elements)t=t.filter(i=>!Cs(i,r));return{arrayValue:{values:t}}}class bd extends tm{constructor(e,t){super(),this.serializer=e,this.gt=t}}function Bv(n){return sr(n.integerValue||n.doubleValue)}function Uv(n){return Wp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class df{constructor(e,t){this.field=e,this.transform=t}}class DE{constructor(e,t){this.version=e,this.transformResults=t}}class ar{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ar}static exists(e){return new ar(void 0,e)}static updateTime(e){return new ar(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function nm(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class wd{}function Gl(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new hf(n.key,ar.none()):new qc(n.key,n.data,ar.none());{const t=n.data,r=Mi.empty();let i=new or(zr.comparator);for(let s of e.fields)if(!i.has(s)){let u=t.field(s);null===u&&s.length>1&&(s=s.popLast(),u=t.field(s)),null===u?r.delete(s):r.set(s,u),i=i.add(s)}return new ql(n.key,r,new mo(i.toArray()),ar.none())}}function eT(n,e,t){n instanceof qc?function(r,i,s){const u=r.value.clone(),f=tT(r.fieldTransforms,i,s.transformResults);u.setAll(f),i.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,e,t):n instanceof ql?function(r,i,s){if(!nm(r.precondition,i))return void i.convertToUnknownDocument(s.version);const u=tT(r.fieldTransforms,i,s.transformResults),f=i.data;f.setAll(i_(r)),f.setAll(u),i.convertToFoundDocument(s.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function rm(n,e,t,r){return n instanceof qc?function(i,s,u,f){if(!nm(i.precondition,s))return u;const _=i.value.clone(),b=nT(i.fieldTransforms,f,s);return _.setAll(b),s.convertToFoundDocument(s.version,_).setHasLocalMutations(),null}(n,e,t,r):n instanceof ql?function(i,s,u,f){if(!nm(i.precondition,s))return u;const _=nT(i.fieldTransforms,f,s),b=s.data;return b.setAll(i_(i)),b.setAll(_),s.convertToFoundDocument(s.version,b).setHasLocalMutations(),null===u?null:u.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(I=>I.field))}(n,e,t,r):(u=t,nm(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):u);var s,u}function Hv(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=Lv(r.transform,i||null);null!=s&&(null===t&&(t=Mi.empty()),t.set(r.field,s))}return t||null}function Gc(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Nc(t,r,(i,s)=>function CE(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof zc&&r instanceof zc||t instanceof $c&&r instanceof $c?Nc(t.elements,r.elements,Cs):t instanceof bd&&r instanceof bd?Cs(t.gt,r.gt):t instanceof uf&&r instanceof uf);var t,r}(i,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class qc extends wd{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ql extends wd{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function i_(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function tT(n,e,t){const r=new Map;Ct(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],u=s.transform,f=e.data.field(s.field);r.set(s.field,EE(u,f,t[i]))}return r}function nT(n,e,t){const r=new Map;for(const i of n){const s=i.transform,u=t.data.field(i.field);r.set(i.field,wE(s,u,e))}return r}class hf extends wd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jv extends wd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class o_{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&eT(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=rm(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=rm(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=em();return this.mutations.forEach(i=>{const s=e.get(i.key),u=s.overlayedDocument;let f=this.applyToLocalView(u,s.mutatedFields);f=t.has(i.key)?null:f;const _=Gl(u,f);null!==_&&r.set(i.key,_),u.isValidDocument()||u.convertToNoDocument(It.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),nn())}isEqual(e){return this.batchId===e.batchId&&Nc(this.mutations,e.mutations,(t,r)=>Gc(t,r))&&Nc(this.baseMutations,e.baseMutations,(t,r)=>Gc(t,r))}}class zv{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Ct(e.mutations.length===r.length);let i=Fv;const s=e.mutations;for(let u=0;u<s.length;u++)i=i.insert(s[u].key,r[u].version);return new zv(e,t,r,i)}}class Gr{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class rT{constructor(e,t){this.count=e,this.unchangedNames=t}}var Jr,wn;function IE(n){switch(n){default:return ht();case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0}}function $v(n){if(void 0===n)return jr("GRPC error has no .code"),me.UNKNOWN;switch(n){case Jr.OK:return me.OK;case Jr.CANCELLED:return me.CANCELLED;case Jr.UNKNOWN:return me.UNKNOWN;case Jr.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case Jr.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case Jr.INTERNAL:return me.INTERNAL;case Jr.UNAVAILABLE:return me.UNAVAILABLE;case Jr.UNAUTHENTICATED:return me.UNAUTHENTICATED;case Jr.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case Jr.NOT_FOUND:return me.NOT_FOUND;case Jr.ALREADY_EXISTS:return me.ALREADY_EXISTS;case Jr.PERMISSION_DENIED:return me.PERMISSION_DENIED;case Jr.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case Jr.ABORTED:return me.ABORTED;case Jr.OUT_OF_RANGE:return me.OUT_OF_RANGE;case Jr.UNIMPLEMENTED:return me.UNIMPLEMENTED;case Jr.DATA_LOSS:return me.DATA_LOSS;default:return ht()}}(wn=Jr||(Jr={}))[wn.OK=0]="OK",wn[wn.CANCELLED=1]="CANCELLED",wn[wn.UNKNOWN=2]="UNKNOWN",wn[wn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",wn[wn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",wn[wn.NOT_FOUND=5]="NOT_FOUND",wn[wn.ALREADY_EXISTS=6]="ALREADY_EXISTS",wn[wn.PERMISSION_DENIED=7]="PERMISSION_DENIED",wn[wn.UNAUTHENTICATED=16]="UNAUTHENTICATED",wn[wn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",wn[wn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",wn[wn.ABORTED=10]="ABORTED",wn[wn.OUT_OF_RANGE=11]="OUT_OF_RANGE",wn[wn.UNIMPLEMENTED=12]="UNIMPLEMENTED",wn[wn.INTERNAL=13]="INTERNAL",wn[wn.UNAVAILABLE=14]="UNAVAILABLE",wn[wn.DATA_LOSS=15]="DATA_LOSS";class s_{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Wl}static getOrCreateInstance(){return null===Wl&&(Wl=new s_),Wl}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let Wl=null;function TE(){return new TextEncoder}const iT=new tf([4294967295,4294967295],0);function Gv(n){const e=TE().encode(n),t=new Pw;return t.update(e),new Uint8Array(t.digest())}function SE(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new tf([t,r],0),new tf([i,s],0)]}class a_{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new l_(`Invalid padding: ${t}`);if(r<0)throw new l_(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new l_(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new l_(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=tf.fromNumber(this.It)}Et(e,t,r){let i=e.add(t.multiply(tf.fromNumber(r)));return 1===i.compare(iT)&&(i=new tf([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=Gv(e),[r,i]=SE(t);for(let s=0;s<this.hashCount;s++){const u=this.Et(r,i,s);if(!this.At(u))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),u=new a_(s,i,t);return r.forEach(f=>u.insert(f)),u}insert(e){if(0===this.It)return;const t=Gv(e),[r,i]=SE(t);for(let s=0;s<this.hashCount;s++){const u=this.Et(r,i,s);this.Rt(u)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class l_ extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ed{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Cd.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Ed(It.min(),i,new Kn(Ht),yo(),nn())}}class Cd{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Cd(r,t,nn(),nn(),nn())}}class Wo{constructor(e,t,r,i){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=i}}class AE{constructor(e,t){this.targetId=e,this.Vt=t}}class qv{constructor(e,t,r=$r.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class ea{constructor(){this.St=0,this.Dt=Wv(),this.Ct=$r.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=nn(),t=nn(),r=nn();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ht()}}),new Cd(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=Wv()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class ta{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=yo(),this.zt=Ds(),this.Wt=new Kn(Ht)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:ht()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,i)=>{this.te(i)&&t(i)})}ne(e){var t;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const u=s.target;if(zl(u))if(0===i){const f=new Je(u.path);this.Yt(r,f,Hn.newNoDocument(f,It.min()))}else Ct(1===i);else{const f=this.ie(r);if(f!==i){const _=this.re(e,f);0!==_&&(this.ee(r),this.Wt=this.Wt.insert(r,2===_?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=s_.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(b,I,M){var U,$,ee,ie,de,qe;const rt={localCacheCount:I,existenceFilterCount:M.count},st=M.unchangedNames;return st&&(rt.bloomFilter={applied:0===b,hashCount:null!==(U=st?.hashCount)&&void 0!==U?U:0,bitmapLength:null!==(ie=null===(ee=null===($=st?.bits)||void 0===$?void 0:$.bitmap)||void 0===ee?void 0:ee.length)&&void 0!==ie?ie:0,padding:null!==(qe=null===(de=st?.bits)||void 0===de?void 0:de.padding)&&void 0!==qe?qe:0}),rt}(_,f,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:u=0},hashCount:f=0}=r;let _,b;try{_=Es(s).toUint8Array()}catch(I){if(I instanceof sE)return Uo("Decoding the base64 bloom filter in existence filter failed ("+I.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw I}try{b=new a_(_,u,f)}catch(I){return Uo(I instanceof l_?"BloomFilter error: ":"Applying bloom filter failed: ",I),1}return 0===b.It?1:i!==t-this.oe(e.targetId,b)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const u=this.Gt.ue(),f=`projects/${u.projectId}/databases/${u.database}/documents/${s.path.canonicalString()}`;t.vt(f)||(this.Yt(e,s,null),i++)}),i}ce(e){const t=new Map;this.Qt.forEach((s,u)=>{const f=this.se(u);if(f){if(s.current&&zl(f.target)){const _=new Je(f.target.path);null!==this.jt.get(_)||this.ae(u,_)||this.Yt(u,_,Hn.newNoDocument(_,e))}s.Mt&&(t.set(u,s.Ot()),s.Ft())}});let r=nn();this.zt.forEach((s,u)=>{let f=!0;u.forEachWhile(_=>{const b=this.se(_);return!b||"TargetPurposeLimboResolution"===b.purpose||(f=!1,!1)}),f&&(r=r.add(s))}),this.jt.forEach((s,u)=>u.setReadTime(e));const i=new Ed(e,t,this.Wt,this.jt,r);return this.jt=yo(),this.zt=Ds(),this.Wt=new Kn(Ht),i}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,t)?i.Bt(t,1):i.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new ea,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new or(Ht),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Ue("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new ea),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function Ds(){return new Kn(Je.comparator)}function Wv(){return new Kn(Je.comparator)}const ME={asc:"ASCENDING",desc:"DESCENDING"},oT={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sT={and:"AND",or:"OR"};class aT{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Zv(n,e){return n.useProto3Json||dd(e)?e:{value:e}}function Wc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ff(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function lT(n,e){return Wc(n,e.toTimestamp())}function Or(n){return Ct(!!n),It.fromTimestamp(function(e){const t=Lc(e);return new br(t.seconds,t.nanos)}(n))}function Kv(n,e){return(t=n,new En(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function RE(n){const e=En.fromString(n);return Ct(VE(e)),e}function pf(n,e){return Kv(n.databaseId,e.path)}function na(n,e){const t=RE(e);if(t.get(1)!==n.databaseId.projectId)throw new ke(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ke(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Je(Yv(t))}function mf(n,e){return Kv(n.databaseId,e)}function kE(n){const e=RE(n);return 4===e.length?En.emptyPath():Yv(e)}function gf(n){return new En(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Yv(n){return Ct(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function c_(n,e,t){return{name:pf(n,e),fields:t.value.mapValue.fields}}function im(n,e,t){const r=na(n,e.name),i=Or(e.updateTime),s=e.createTime?Or(e.createTime):It.min(),u=new Mi({mapValue:{fields:e.fields}}),f=Hn.newFoundDocument(r,i,s,u);return t&&f.setHasCommittedMutations(),t?f.setHasCommittedMutations():f}function _f(n,e){let t;if(e instanceof qc)t={update:c_(n,e.key,e.value)};else if(e instanceof hf)t={delete:pf(n,e.key)};else if(e instanceof ql)t={update:c_(n,e.key,e.data),updateMask:fT(e.fieldMask)};else{if(!(e instanceof jv))return ht();t={verify:pf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const u=s.transform;if(u instanceof uf)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof zc)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof $c)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof bd)return{fieldPath:s.field.canonicalString(),increment:u.gt};throw ht()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:lT(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:ht()),t;var i}function u_(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?ar.updateTime(Or(i.updateTime)):void 0!==i.exists?ar.exists(i.exists):ar.none():ar.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(s,u){let f=null;"setToServerValue"in u?(Ct("REQUEST_TIME"===u.setToServerValue),f=new uf):"appendMissingElements"in u?f=new zc(u.appendMissingElements.values||[]):"removeAllFromArray"in u?f=new $c(u.removeAllFromArray.values||[]):"increment"in u?f=new bd(s,u.increment):ht();const _=zr.fromServerFormat(u.fieldPath);return new df(_,f)}(n,i)):[];var i;if(e.update){const i=na(n,e.update.name),s=new Mi({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=new mo((e.updateMask.fieldPaths||[]).map(b=>zr.fromServerFormat(b)));return new ql(i,s,u,t,r)}return new qc(i,s,t,r)}if(e.delete){const i=na(n,e.delete);return new hf(i,t)}if(e.verify){const i=na(n,e.verify);return new jv(i,t)}return ht()}function Qv(n,e){return{documents:[mf(n,e.path)]}}function d_(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=mf(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=mf(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(_){if(0!==_.length)return LE(Mn.create(_,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const s=function(_){if(0!==_.length)return _.map(b=>{return{field:Zc((I=b).field),direction:uT(I.dir)};var I})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const u=Zv(n,e.limit);var f,_;return null!==u&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(_=e.endAt).inclusive,values:_.position}),t}function Jv(n){let e=kE(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Ct(1===r);const I=t.from[0];I.allDescendants?i=I.collectionId:e=e.child(I.collectionId)}let s=[];t.where&&(s=function(I){const M=PE(I);return M instanceof Mn&&Kg(M)?M.getFilters():[M]}(t.where));let u=[];t.orderBy&&(u=t.orderBy.map(I=>{return new sf(yf((M=I).field),function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction));var M}));let f=null;t.limit&&(f=function(I){let M;return M="object"==typeof I?I.value:I,dd(M)?null:M}(t.limit));let _=null;var I;t.startAt&&(_=new Bc((I=t.startAt).values||[],!!I.before));let b=null;return t.endAt&&(b=function(I){return new Bc(I.values||[],!I.before)}(t.endAt)),yd(e,i,u,s,f,"F",_,b)}function PE(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=yf(e.unaryFilter.field);return _n.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=yf(e.unaryFilter.field);return _n.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=yf(e.unaryFilter.field);return _n.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=yf(e.unaryFilter.field);return _n.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ht()}}(n):void 0!==n.fieldFilter?_n.create(yf((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ht()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Mn.create(e.compositeFilter.filters.map(t=>PE(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return ht()}}(e.compositeFilter.op))}(n):ht();var e}function uT(n){return ME[n]}function dT(n){return oT[n]}function hT(n){return sT[n]}function Zc(n){return{fieldPath:n.canonicalString()}}function yf(n){return zr.fromServerFormat(n.fieldPath)}function LE(n){return n instanceof _n?function(e){if("=="===e.op){if(aE(e.value))return{unaryFilter:{field:Zc(e.field),op:"IS_NAN"}};if(rf(e.value))return{unaryFilter:{field:Zc(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(aE(e.value))return{unaryFilter:{field:Zc(e.field),op:"IS_NOT_NAN"}};if(rf(e.value))return{unaryFilter:{field:Zc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zc(e.field),op:dT(e.op),value:e.value}}}(n):n instanceof Mn?function(e){const t=e.getFilters().map(r=>LE(r));return 1===t.length?t[0]:{compositeFilter:{op:hT(e.op),filters:t}}}(n):ht()}function fT(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function VE(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Zl{constructor(e,t,r,i,s=It.min(),u=It.min(),f=$r.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=_}withSequenceNumber(e){return new Zl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Zl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class BE{constructor(e){this.fe=e}}function UE(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:h_(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:pf(i=n.fe,(s=e).key),fields:s.data.value.mapValue.fields,updateTime:Wc(i,s.version.toTimestamp()),createTime:Wc(i,s.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Dd(e.version)};else{if(!e.isUnknownDocument())return ht();r.unknownDocument={path:t.path.toArray(),version:Dd(e.version)}}var i,s;return r}function h_(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Dd(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function xd(n){const e=new br(n.seconds,n.nanoseconds);return It.fromTimestamp(e)}function Id(n,e){const t=(e.baseMutations||[]).map(s=>u_(n.fe,s));for(let s=0;s<e.mutations.length-1;++s)s+1<e.mutations.length&&void 0!==e.mutations[s+1].transform&&(e.mutations[s].updateTransforms=e.mutations[s+1].transform.fieldTransforms,e.mutations.splice(s+1,1),++s);const r=e.mutations.map(s=>u_(n.fe,s)),i=br.fromMillis(e.localWriteTimeMs);return new o_(e.batchId,i,t,r)}function vf(n){const e=xd(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?xd(n.lastLimboFreeSnapshotVersion):It.min();let r;var i;return void 0!==n.query.documents?(Ct(1===(i=n.query).documents.length),r=zi(Js(kE(i.documents[0])))):r=zi(Jv(n.query)),new Zl(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,$r.fromBase64String(n.resumeToken))}function Xv(n,e){const t=Dd(e.snapshotVersion),r=Dd(e.lastLimboFreeSnapshotVersion);let i;i=zl(e.target)?Qv(n.fe,e.target):d_(n.fe,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:jl(e.target),readTime:t,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function f_(n){const e=Jv({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Qp(e,e.limit,"L"):e}function p_(n,e){return new Gr(e.largestBatchId,u_(n.fe,e.overlayMutation))}function eb(n,e){const t=e.path.lastSegment();return[n,di(e.path.popLast()),t]}function tb(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Dd(r.readTime),documentKey:di(r.documentKey.path),largestBatchId:r.largestBatchId}}class HE{getBundleMetadata(e,t){return nb(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:xd(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return nb(e).put({bundleId:(r=t).id,createTime:Dd(Or(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return rb(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:f_(i.bundledQuery),readTime:xd(i.readTime)};var i})}saveNamedQuery(e,t){return rb(e).put({name:(r=t).name,readTime:Dd(Or(r.readTime)),bundledQuery:r.bundledQuery});var r}}function nb(n){return bi(n,"bundles")}function rb(n){return bi(n,"namedQueries")}class bf{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new bf(e,t.uid||"")}getOverlay(e,t){return Td(e).get(eb(this.userId,t)).next(r=>r?p_(this.serializer,r):null)}getOverlays(e,t){const r=ja();return le.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((s,u)=>{const f=new Gr(t,u);i.push(this.we(e,f))}),le.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(u=>i.add(di(u.getCollectionPath())));const s=[];return i.forEach(u=>{const f=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,r+1],!1,!0);s.push(Td(e).J("collectionPathOverlayIndex",f))}),le.waitFor(s)}getOverlaysForCollection(e,t,r){const i=ja(),s=di(t),u=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Td(e).j("collectionPathOverlayIndex",u).next(f=>{for(const _ of f){const b=p_(this.serializer,_);i.set(b.getKey(),b)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const s=ja();let u;const f=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Td(e).X({index:"collectionGroupOverlayIndex",range:f},(_,b,I)=>{const M=p_(this.serializer,b);s.size()<i||M.largestBatchId===u?(s.set(M.getKey(),M),u=M.largestBatchId):I.done()}).next(()=>s)}we(e,t){return Td(e).put(function(r,i,s){const[u,f,_]=eb(i,s.mutation.key);return{userId:i,collectionPath:f,documentId:_,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:_f(r.fe,s.mutation)}}(this.serializer,this.userId,t))}}function Td(n){return bi(n,"documentOverlays")}class Zo{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(sr(e.integerValue));else if("doubleValue"in e){const r=sr(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),Vl(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Es(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?lE(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):ht()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const i of Object.keys(r))this.Te(i,t),this.me(r[i],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const i of r)this.me(i,t)}ve(e,t){this.ye(t,37),Je.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function mT(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function jE(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const s=mT(255&t[i]);if(r+=s,8!==s)break}return r}(n);return Math.ceil(e/8)}Zo.Ve=new Zo;class wf{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.De(r.value),r=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ne(r.value),r=t.next();this.ke()}Me(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.De(r);else if(r<2048)this.De(960|r>>>6),this.De(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.De(480|r>>>12),this.De(128|63&r>>>6),this.De(128|63&r);else{const i=t.codePointAt(0);this.De(240|i>>>18),this.De(128|63&i>>>12),this.De(128|63&i>>>6),this.De(128|63&i)}}this.Ce()}$e(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ne(r);else if(r<2048)this.Ne(960|r>>>6),this.Ne(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r);else{const i=t.codePointAt(0);this.Ne(240|i>>>18),this.Ne(128|63&i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i)}}this.ke()}Oe(e){const t=this.Fe(e),r=jE(t);this.Be(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Le(e){const t=this.Fe(e),r=jE(t);this.Be(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(i){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,i,!1),new Uint8Array(s.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class _R{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class ib{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class m_{constructor(){this.je=new wf,this.ze=new _R(this.je),this.We=new ib(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class Kc{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Kc(this.indexId,this.documentKey,this.arrayValue,r)}}function Kl(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=gT(n.arrayValue,e.arrayValue),0!==t?t:(t=gT(n.directionalValue,e.directionalValue),0!==t?t:Je.comparator(n.documentKey,e.documentKey)))}function gT(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class Nt{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const r=t;r.isInequality()?this.Ze=r:this.Xe.push(r)}}tn(e){Ct(e.collectionGroup===this.collectionId);const t=gv(e);if(void 0!==t&&!this.en(t))return!1;const r=Fc(e);let i=new Set,s=0,u=0;for(;s<r.length&&this.en(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(void 0!==this.Ze){if(!i.has(this.Ze.field.canonicalString())){const f=r[s];if(!this.nn(this.Ze,f)||!this.sn(this.Ye[u++],f))return!1}++s}for(;s<r.length;++s)if(u>=this.Ye.length||!this.sn(this.Ye[u++],r[s]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function zE(n){var e,t;if(Ct(n instanceof _n||n instanceof Mn),n instanceof _n){if(n instanceof lf){const i=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(s=>_n.create(n.field,"==",s)))||[];return Mn.create(i,"or")}return n}const r=n.filters.map(i=>zE(i));return Mn.create(r,n.op)}function _T(n){if(0===n.getFilters().length)return[];const e=Ef(zE(n));return Ct($E(e)),ob(e)||Yc(e)?[e]:e.getFilters()}function ob(n){return n instanceof _n}function Yc(n){return n instanceof Mn&&Kg(n)}function $E(n){return ob(n)||Yc(n)||function(e){if(e instanceof Mn&&Zg(e)){for(const t of e.getFilters())if(!ob(t)&&!Yc(t))return!1;return!0}return!1}(n)}function Ef(n){if(Ct(n instanceof _n||n instanceof Mn),n instanceof _n)return n;if(1===n.filters.length)return Ef(n.filters[0]);const e=n.filters.map(r=>Ef(r));let t=Mn.create(e,n.op);return t=sb(t),$E(t)?t:(Ct(t instanceof Mn),Ct(af(t)),Ct(t.filters.length>1),t.filters.reduce((r,i)=>Cf(r,i)))}function Cf(n,e){let t;return Ct(n instanceof _n||n instanceof Mn),Ct(e instanceof _n||e instanceof Mn),t=n instanceof _n?e instanceof _n?Mn.create([n,e],"and"):wr(n,e):e instanceof _n?wr(e,n):function(r,i){if(Ct(r.filters.length>0&&i.filters.length>0),af(r)&&af(i))return QI(r,i.getFilters());const s=Zg(r)?r:i,u=Zg(r)?i:r,f=s.filters.map(_=>Cf(_,u));return Mn.create(f,"or")}(n,e),sb(t)}function wr(n,e){if(af(e))return QI(e,n.getFilters());{const t=e.filters.map(r=>Cf(n,r));return Mn.create(t,"or")}}function sb(n){if(Ct(n instanceof _n||n instanceof Mn),n instanceof _n)return n;const e=n.getFilters();if(1===e.length)return sb(e[0]);if(fE(n))return n;const t=e.map(i=>sb(i)),r=[];return t.forEach(i=>{i instanceof _n?r.push(i):i instanceof Mn&&(i.op===n.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:Mn.create(r,n.op)}class GE{constructor(){this.rn=new g_}addToCollectionParentIndex(e,t){return this.rn.add(t),le.resolve()}getCollectionParents(e,t){return le.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return le.resolve()}deleteFieldIndex(e,t){return le.resolve()}getDocumentsMatchingTarget(e,t){return le.resolve(null)}getIndexType(e,t){return le.resolve(0)}getFieldIndexes(e,t){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,t){return le.resolve(Ho.min())}getMinOffsetFromCollectionGroup(e,t){return le.resolve(Ho.min())}updateCollectionGroup(e,t,r){return le.resolve()}updateIndexEntries(e,t){return le.resolve()}}class g_{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new or(En.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new or(En.comparator)).toArray()}}const __=new Uint8Array(0);class qE{constructor(e,t){this.user=e,this.databaseId=t,this.on=new g_,this.un=new Xs(r=>jl(r),(r,i)=>Ha(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const s={collectionId:r,parent:di(i)};return ab(e).put(s)}return le.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[zw(t),""],!1,!0);return ab(e).j(i).next(s=>{for(const u of s){if(u.collectionId!==t)break;r.push(ws(u.parent))}return r})}addFieldIndex(e,t){const r=om(e),i={indexId:(u=t).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(f=>[f.fieldPath.canonicalString(),f.kind])};var u;delete i.indexId;const s=r.add(i);if(t.indexState){const u=sm(e);return s.next(f=>{u.put(tb(f,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return s.next()}deleteFieldIndex(e,t){const r=om(e),i=sm(e),s=Df(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Df(e);let i=!0;const s=new Map;return le.forEach(this.cn(t),u=>this.an(e,u).next(f=>{i&&(i=!!f),s.set(u,f)})).next(()=>{if(i){let u=nn();const f=[];return le.forEach(s,(_,b)=>{var I;Ue("IndexedDbIndexManager",`Using index ${I=_,`id=${I.indexId}|cg=${I.collectionGroup}|f=${I.fields.map(st=>`${st.fieldPath}:${st.kind}`).join(",")}`} to execute ${jl(t)}`);const M=function(st,gt){const jt=gv(gt);if(void 0===jt)return null;for(const rn of $l(st,jt.fieldPath))switch(rn.op){case"array-contains-any":return rn.value.arrayValue.values||[];case"array-contains":return[rn.value]}return null}(b,_),U=function(st,gt){const jt=new Map;for(const rn of Fc(gt))for(const Sn of $l(st,rn.fieldPath))switch(Sn.op){case"==":case"in":jt.set(rn.fieldPath.canonicalString(),Sn.value);break;case"not-in":case"!=":return jt.set(rn.fieldPath.canonicalString(),Sn.value),Array.from(jt.values())}return null}(b,_),$=function(st,gt){const jt=[];let rn=!0;for(const Sn of Fc(gt)){const ro=0===Sn.kind?gd(st,Sn.fieldPath,st.startAt):_d(st,Sn.fieldPath,st.startAt);jt.push(ro.value),rn&&(rn=ro.inclusive)}return new Bc(jt,rn)}(b,_),ee=function(st,gt){const jt=[];let rn=!0;for(const Sn of Fc(gt)){const ro=0===Sn.kind?_d(st,Sn.fieldPath,st.endAt):gd(st,Sn.fieldPath,st.endAt);jt.push(ro.value),rn&&(rn=ro.inclusive)}return new Bc(jt,rn)}(b,_),ie=this.hn(_,b,$),de=this.hn(_,b,ee),qe=this.ln(_,b,U),rt=this.fn(_.indexId,M,ie,$.inclusive,de,ee.inclusive,qe);return le.forEach(rt,st=>r.H(st,t.limit).next(gt=>{gt.forEach(jt=>{const rn=Je.fromSegments(jt.documentKey);u.has(rn)||(u=u.add(rn),f.push(rn))})}))}).next(()=>f)}return le.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:_T(Mn.create(e.filters,"and")).map(r=>go(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,r,i,s,u,f){const _=(null!=t?t.length:1)*Math.max(r.length,s.length),b=_/(null!=t?t.length:1),I=[];for(let M=0;M<_;++M){const U=t?this.dn(t[M/b]):__,$=this.wn(e,U,r[M%b],i),ee=this._n(e,U,s[M%b],u),ie=f.map(de=>this.wn(e,U,de,!0));I.push(...this.createRange($,ee,ie))}return I}wn(e,t,r,i){const s=new Kc(e,Je.empty(),t,r);return i?s:s.Je()}_n(e,t,r,i){const s=new Kc(e,Je.empty(),t,r);return i?s.Je():s}an(e,t){const r=new Nt(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let u=null;for(const f of s)r.tn(f)&&(!u||f.fields.length>u.fields.length)&&(u=f);return u})}getIndexType(e,t){let r=2;const i=this.cn(t);return le.forEach(i,s=>this.an(e,s).next(u=>{u?0!==r&&u.fields.length<function(f){let _=new or(zr.comparator),b=!1;for(const I of f.filters)for(const M of I.getFlattenedFilters())M.field.isKeyField()||("array-contains"===M.op||"array-contains-any"===M.op?b=!0:_=_.add(M.field));for(const I of f.orderBy)I.field.isKeyField()||(_=_.add(I.field));return _.size+(b?1:0)}(s)&&(r=1):r=0})).next(()=>null!==t.limit&&i.length>1&&2===r?1:r)}mn(e,t){const r=new m_;for(const i of Fc(e)){const s=t.data.field(i.fieldPath);if(null==s)return null;const u=r.He(i.kind);Zo.Ve._e(s,u)}return r.Qe()}dn(e){const t=new m_;return Zo.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const r=new m_;return Zo.Ve._e(Vc(this.databaseId,t),r.He(function(i){const s=Fc(i);return 0===s.length?0:s[s.length-1].kind}(e))),r.Qe()}ln(e,t,r){if(null===r)return[];let i=[];i.push(new m_);let s=0;for(const u of Fc(e)){const f=r[s++];for(const _ of i)if(this.yn(t,u.fieldPath)&&Wp(f))i=this.pn(i,u,f);else{const b=_.He(u.kind);Zo.Ve._e(f,b)}}return this.In(i)}hn(e,t,r){return this.ln(e,t,r.position)}In(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Qe();return t}pn(e,t,r){const i=[...e],s=[];for(const u of r.arrayValue.values||[])for(const f of i){const _=new m_;_.seed(f.Qe()),Zo.Ve._e(u,_.He(t.kind)),s.push(_)}return s}yn(e,t){return!!e.filters.find(r=>r instanceof _n&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=om(e),i=sm(e);return(t?r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.j()).next(s=>{const u=[];return le.forEach(s,f=>i.get([f.indexId,this.uid]).next(_=>{u.push(function(b,I){const M=I?new Hp(I.sequenceNumber,new Ho(xd(I.readTime),new Je(ws(I.documentKey)),I.largestBatchId)):Hp.empty(),U=b.fields.map(([$,ee])=>new Bg(zr.fromServerFormat($),ee));return new Pl(b.indexId,b.collectionGroup,U,M)}(f,_))})).next(()=>u)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==s?s:Ht(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=om(e),s=sm(e);return this.Tn(e).next(u=>i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>le.forEach(f,_=>s.put(tb(_.indexId,this.user,u,r)))))}updateIndexEntries(e,t){const r=new Map;return le.forEach(t,(i,s)=>{const u=r.get(i.collectionGroup);return(u?le.resolve(u):this.getFieldIndexes(e,i.collectionGroup)).next(f=>(r.set(i.collectionGroup,f),le.forEach(f,_=>this.En(e,i,_).next(b=>{const I=this.An(s,_);return b.isEqual(I)?le.resolve():this.vn(e,s,_,b,I)}))))})}Rn(e,t,r,i){return Df(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.gn(r,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,r,i){return Df(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.gn(r,t.key),t.key.path.toArray()])}En(e,t,r){const i=Df(e);let s=new or(Kl);return i.X({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.gn(r,t)])},(u,f)=>{s=s.add(new Kc(r.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>s)}An(e,t){let r=new or(Kl);const i=this.mn(t,e);if(null==i)return r;const s=gv(t);if(null!=s){const u=e.data.field(s.fieldPath);if(Wp(u))for(const f of u.arrayValue.values||[])r=r.add(new Kc(t.indexId,e.key,this.dn(f),i))}else r=r.add(new Kc(t.indexId,e.key,__,i));return r}vn(e,t,r,i,s){Ue("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const u=[];return function(f,_,b,I,M){const U=f.getIterator(),$=_.getIterator();let ee=hd(U),ie=hd($);for(;ee||ie;){let de=!1,qe=!1;if(ee&&ie){const rt=b(ee,ie);rt<0?qe=!0:rt>0&&(de=!0)}else null!=ee?qe=!0:de=!0;de?(I(ie),ie=hd($)):qe?(M(ee),ee=hd(U)):(ee=hd(U),ie=hd($))}}(i,s,Kl,f=>{u.push(this.Rn(e,t,r,f))},f=>{u.push(this.Pn(e,t,r,f))}),le.waitFor(u)}Tn(e){let t=1;return sm(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((u,f)=>Kl(u,f)).filter((u,f,_)=>!f||0!==Kl(u,_[f-1]));const i=[];i.push(e);for(const u of r){const f=Kl(u,e),_=Kl(u,t);if(0===f)i[0]=e.Je();else if(f>0&&_<0)i.push(u),i.push(u.Je());else if(_>0)break}i.push(t);const s=[];for(let u=0;u<i.length;u+=2){if(this.bn(i[u],i[u+1]))return[];s.push(IDBKeyRange.bound([i[u].indexId,this.uid,i[u].arrayValue,i[u].directionalValue,__,[]],[i[u+1].indexId,this.uid,i[u+1].arrayValue,i[u+1].directionalValue,__,[]]))}return s}bn(e,t){return Kl(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(WE)}getMinOffset(e,t){return le.mapArray(this.cn(t),r=>this.an(e,r).next(i=>i||ht())).next(WE)}}function ab(n){return bi(n,"collectionParents")}function Df(n){return bi(n,"indexEntries")}function om(n){return bi(n,"indexConfiguration")}function sm(n){return bi(n,"indexState")}function WE(n){Ct(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;_v(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new Ho(e.readTime,e.documentKey,t)}const ZE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Xr{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Xr(e,Xr.DEFAULT_COLLECTION_PERCENTILE,Xr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function KE(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),s=[],u=IDBKeyRange.only(t.batchId);let f=0;const _=r.X({range:u},(I,M,U)=>(f++,U.delete()));s.push(_.next(()=>{Ct(1===f)}));const b=[];for(const I of t.mutations){const M=qg(e,I.key.path,t.batchId);s.push(i.delete(M)),b.push(I.key)}return le.waitFor(s).next(()=>b)}function y_(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw ht();e=n.noDocument}return JSON.stringify(e).length}Xr.DEFAULT_COLLECTION_PERCENTILE=10,Xr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xr.DEFAULT=new Xr(41943040,Xr.DEFAULT_COLLECTION_PERCENTILE,Xr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xr.DISABLED=new Xr(-1,0,0);class v_{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.Vn={}}static de(e,t,r,i){Ct(""!==e.uid);const s=e.isAuthenticated()?e.uid:"";return new v_(s,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Yl(e).X({index:"userMutationsIndex",range:r},(i,s,u)=>{t=!1,u.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const s=Sd(e),u=Yl(e);return u.add({}).next(f=>{Ct("number"==typeof f);const _=new o_(f,t,r,i),b=function(U,$,ee){const ie=ee.baseMutations.map(qe=>_f(U.fe,qe)),de=ee.mutations.map(qe=>_f(U.fe,qe));return{userId:$,batchId:ee.batchId,localWriteTimeMs:ee.localWriteTime.toMillis(),baseMutations:ie,mutations:de}}(this.serializer,this.userId,_),I=[];let M=new or((U,$)=>Ht(U.canonicalString(),$.canonicalString()));for(const U of i){const $=qg(this.userId,U.key.path,f);M=M.add(U.key.path.popLast()),I.push(u.put(b)),I.push(s.put($,PI))}return M.forEach(U=>{I.push(this.indexManager.addToCollectionParentIndex(e,U))}),e.addOnCommittedListener(()=>{this.Vn[f]=_.keys()}),le.waitFor(I).next(()=>_)})}lookupMutationBatch(e,t){return Yl(e).get(t).next(r=>r?(Ct(r.userId===this.userId),Id(this.serializer,r)):null)}Sn(e,t){return this.Vn[t]?le.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.Vn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return Yl(e).X({index:"userMutationsIndex",range:i},(u,f,_)=>{f.userId===this.userId&&(Ct(f.batchId>=r),s=Id(this.serializer,f)),_.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Yl(e).X({index:"userMutationsIndex",range:t,reverse:!0},(i,s,u)=>{r=s.batchId,u.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Yl(e).j("userMutationsIndex",t).next(r=>r.map(i=>Id(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=jp(this.userId,t.path),i=IDBKeyRange.lowerBound(r),s=[];return Sd(e).X({range:i},(u,f,_)=>{const[b,I,M]=u,U=ws(I);if(b===this.userId&&t.path.isEqual(U))return Yl(e).get(M).next($=>{if(!$)throw ht();Ct($.userId===this.userId),s.push(Id(this.serializer,$))});_.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new or(Ht);const i=[];return t.forEach(s=>{const u=jp(this.userId,s.path),f=IDBKeyRange.lowerBound(u),_=Sd(e).X({range:f},(b,I,M)=>{const[U,$,ee]=b,ie=ws($);U===this.userId&&s.path.isEqual(ie)?r=r.add(ee):M.done()});i.push(_)}),le.waitFor(i).next(()=>this.Dn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,s=jp(this.userId,r),u=IDBKeyRange.lowerBound(s);let f=new or(Ht);return Sd(e).X({range:u},(_,b,I)=>{const[M,U,$]=_,ee=ws(U);M===this.userId&&r.isPrefixOf(ee)?ee.length===i&&(f=f.add($)):I.done()}).next(()=>this.Dn(e,f))}Dn(e,t){const r=[],i=[];return t.forEach(s=>{i.push(Yl(e).get(s).next(u=>{if(null===u)throw ht();Ct(u.userId===this.userId),r.push(Id(this.serializer,u))}))}),le.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return KE(e.ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),le.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return le.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return Sd(e).X({range:r},(s,u,f)=>{if(s[0]===this.userId){const _=ws(s[1]);i.push(_)}else f.done()}).next(()=>{Ct(0===i.length)})})}containsKey(e,t){return am(e,this.userId,t)}xn(e){return lb(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function am(n,e,t){const r=jp(e,t.path),i=r[1],s=IDBKeyRange.lowerBound(r);let u=!1;return Sd(n).X({range:s,Y:!0},(f,_,b)=>{const[I,M,U]=f;I===e&&M===i&&(u=!0),b.done()}).next(()=>u)}function Yl(n){return bi(n,"mutations")}function Sd(n){return bi(n,"documentMutations")}function lb(n){return bi(n,"mutationQueues")}class Ad{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Ad(0)}static Mn(){return new Ad(-1)}}class lm{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const r=new Ad(t.highestTargetId);return t.highestTargetId=r.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>It.fromTimestamp(new br(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.$n(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.On(e,i)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(r=>(r.targetCount+=1,this.Bn(t,r),this.On(e,r))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>za(e).delete(t.targetId)).next(()=>this.$n(e)).next(r=>(Ct(r.targetCount>0),r.targetCount-=1,this.On(e,r)))}removeTargets(e,t,r){let i=0;const s=[];return za(e).X((u,f)=>{const _=vf(f);_.sequenceNumber<=t&&null===r.get(_.targetId)&&(i++,s.push(this.removeTargetData(e,_)))}).next(()=>le.waitFor(s)).next(()=>i)}forEachTarget(e,t){return za(e).X((r,i)=>{const s=vf(i);t(s)})}$n(e){return YE(e).get("targetGlobalKey").next(t=>(Ct(null!==t),t))}On(e,t){return YE(e).put("targetGlobalKey",t)}Fn(e,t){return za(e).put(Xv(this.serializer,t))}Bn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const r=jl(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return za(e).X({range:i,index:"queryTargetsIndex"},(u,f,_)=>{const b=vf(f);Ha(t,b.target)&&(s=b,_.done())}).next(()=>s)}addMatchingKeys(e,t,r){const i=[],s=Qc(e);return t.forEach(u=>{const f=di(u.path);i.push(s.put({targetId:r,path:f})),i.push(this.referenceDelegate.addReference(e,r,u))}),le.waitFor(i)}removeMatchingKeys(e,t,r){const i=Qc(e);return le.forEach(t,s=>{const u=di(s.path);return le.waitFor([i.delete([r,u]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,t){const r=Qc(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Qc(e);let s=nn();return i.X({range:r,Y:!0},(u,f,_)=>{const b=ws(u[1]),I=new Je(b);s=s.add(I)}).next(()=>s)}containsKey(e,t){const r=di(t.path),i=IDBKeyRange.bound([r],[zw(r)],!1,!0);let s=0;return Qc(e).X({index:"documentTargetsIndex",Y:!0,range:i},([u,f],_,b)=>{0!==u&&(s++,b.done())}).next(()=>s>0)}le(e,t){return za(e).get(t).next(r=>r?vf(r):null)}}function za(n){return bi(n,"targets")}function YE(n){return bi(n,"targetGlobal")}function Qc(n){return bi(n,"targetDocuments")}function QE([n,e],[t,r]){const i=Ht(n,t);return 0===i?Ht(e,r):i}class JE{constructor(e){this.Ln=e,this.buffer=new or(QE),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();QE(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class cb{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;Ue("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,ve.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){zo(r)?Ue("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Ll(r)}yield t.Qn(3e5)}))}}class XE{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return le.resolve(vi.ct);const r=new JE(t);return this.jn.forEachTarget(e,i=>r.Kn(i.sequenceNumber)).next(()=>this.jn.Wn(e,i=>r.Kn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.jn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ue("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(ZE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ZE):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let r,i,s,u,f,_,b;const I=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(M=>(M>this.params.maximumSequenceNumbersToCollect?(Ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${M}`),i=this.params.maximumSequenceNumbersToCollect):i=M,u=Date.now(),this.nthSequenceNumber(e,i))).next(M=>(r=M,f=Date.now(),this.removeTargets(e,r,t))).next(M=>(s=M,_=Date.now(),this.removeOrphanedDocuments(e,r))).next(M=>(b=Date.now(),pv()<=ps.in.DEBUG&&Ue("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-I}ms\n\tDetermined least recently used ${i} in `+(f-u)+`ms\n\tRemoved ${s} targets in `+(_-f)+`ms\n\tRemoved ${M} documents in `+(b-_)+`ms\nTotal Duration: ${b-I}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:M})))}}class tC{constructor(e,t){this.db=e,this.garbageCollector=function eC(n,e){return new XE(n,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Jn(e){let t=0;return this.Wn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(r,i)=>t(i))}addReference(e,t,r){return b_(e,r)}removeReference(e,t,r){return b_(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return b_(e,t)}Xn(e,t){return function(r,i){let s=!1;return lb(r).Z(u=>am(r,u,i).next(f=>(f&&(s=!0),le.resolve(!f)))).next(()=>s)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Yn(e,(u,f)=>{if(f<=t){const _=this.Xn(e,u).next(b=>{if(!b)return s++,r.getEntry(e,u).next(()=>(r.removeEntry(u,It.min()),Qc(e).delete([0,di(u.path)])))});i.push(_)}}).next(()=>le.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return b_(e,t)}Yn(e,t){const r=Qc(e);let i,s=vi.ct;return r.X({index:"documentTargetsIndex"},([u,f],{path:_,sequenceNumber:b})=>{0===u?(s!==vi.ct&&t(new Je(ws(i)),s),s=b,i=_):s=vi.ct}).next(()=>{s!==vi.ct&&t(new Je(ws(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function b_(n,e){return Qc(n).put((r=n.currentSequenceNumber,{targetId:0,path:di(e.path),sequenceNumber:r}));var r}class nC{constructor(){this.changes=new Xs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Hn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?le.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class yR{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Jc(e).put(r)}removeEntry(e,t,r){return Jc(e).delete(function(i,s){const u=i.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],h_(s),u[u.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Zn(e,r)))}getEntry(e,t){let r=Hn.newInvalidDocument(t);return Jc(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Xc(t))},(i,s)=>{r=this.ts(t,s)}).next(()=>r)}es(e,t){let r={size:0,document:Hn.newInvalidDocument(t)};return Jc(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Xc(t))},(i,s)=>{r={document:this.ts(t,s),size:y_(s)}}).next(()=>r)}getEntries(e,t){let r=yo();return this.ns(e,t,(i,s)=>{const u=this.ts(i,s);r=r.insert(i,u)}).next(()=>r)}ss(e,t){let r=yo(),i=new Kn(Je.comparator);return this.ns(e,t,(s,u)=>{const f=this.ts(s,u);r=r.insert(s,f),i=i.insert(s,y_(u))}).next(()=>({documents:r,rs:i}))}ns(e,t,r){if(t.isEmpty())return le.resolve();let i=new or(iC);t.forEach(_=>i=i.add(_));const s=IDBKeyRange.bound(Xc(i.first()),Xc(i.last())),u=i.getIterator();let f=u.getNext();return Jc(e).X({index:"documentKeyIndex",range:s},(_,b,I)=>{const M=Je.fromSegments([...b.prefixPath,b.collectionGroup,b.documentId]);for(;f&&iC(f,M)<0;)r(f,null),f=u.getNext();f&&f.isEqual(M)&&(r(f,b),f=u.hasNext()?u.getNext():null),f?I.G(Xc(f)):I.done()}).next(()=>{for(;f;)r(f,null),f=u.hasNext()?u.getNext():null})}getDocumentsMatchingQuery(e,t,r,i){const s=t.path,u=[s.popLast().toArray(),s.lastSegment(),h_(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],f=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Jc(e).j(IDBKeyRange.bound(u,f,!0)).next(_=>{let b=yo();for(const I of _){const M=this.ts(Je.fromSegments(I.prefixPath.concat(I.collectionGroup,I.documentId)),I);M.isFoundDocument()&&(Jp(t,M)||i.has(M.key))&&(b=b.insert(M.key,M))}return b})}getAllFromCollectionGroup(e,t,r,i){let s=yo();const u=rC(t,r),f=rC(t,Ho.max());return Jc(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,f,!0)},(_,b,I)=>{const M=this.ts(Je.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);s=s.insert(M.key,M),s.size===i&&I.done()}).next(()=>s)}newChangeBuffer(e){return new vR(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return vT(e).get("remoteDocumentGlobalKey").next(t=>(Ct(!!t),t))}Zn(e,t){return vT(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const r=function pT(n,e){let t;if(e.document)t=im(n.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Je.fromSegments(e.noDocument.path),i=xd(e.noDocument.readTime);t=Hn.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ht();{const r=Je.fromSegments(e.unknownDocument.path),i=xd(e.unknownDocument.version);t=Hn.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new br(r[0],r[1]);return It.fromTimestamp(i)}(e.readTime)),t}(this.serializer,t);if(!r.isNoDocument()||!r.version.isEqual(It.min()))return r}return Hn.newInvalidDocument(e)}}function yT(n){return new yR(n)}class vR extends nC{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new Xs(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new or((s,u)=>Ht(s.canonicalString(),u.canonicalString()));return this.changes.forEach((s,u)=>{const f=this.us.get(s);if(t.push(this.os.removeEntry(e,s,f.readTime)),u.isValidDocument()){const _=UE(this.os.serializer,u);i=i.add(s.path.popLast());const b=y_(_);r+=b-f.size,t.push(this.os.addEntry(e,s,_))}else if(r-=f.size,this.trackRemovals){const _=UE(this.os.serializer,u.convertToNoDocument(It.min()));t.push(this.os.addEntry(e,s,_))}}),i.forEach(s=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,s))}),t.push(this.os.updateMetadata(e,r)),le.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(r=>(this.us.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:r,rs:i})=>(i.forEach((s,u)=>{this.us.set(s,{size:u,readTime:r.get(s).readTime})}),r))}}function vT(n){return bi(n,"remoteDocumentGlobal")}function Jc(n){return bi(n,"remoteDocumentsV14")}function Xc(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function rC(n,e){const t=e.documentKey.path.toArray();return[n,h_(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function iC(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<t.length-2&&s<r.length-2;++s)if(i=Ht(t[s],r[s]),i)return i;return i=Ht(t.length,r.length),i||(i=Ht(t[t.length-2],r[r.length-2]),i||Ht(t[t.length-1],r[r.length-1]))}class oC{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class xf{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&rm(r.mutation,i,mo.empty(),br.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,nn()).next(()=>r))}getLocalViewOfDocuments(e,t,r=nn()){const i=ja();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let u=Hc();return s.forEach((f,_)=>{u=u.insert(f,_.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=ja();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,nn()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((u,f)=>{t.set(u,f)})})}computeViews(e,t,r,i){let s=yo();const u=jc(),f=jc();return t.forEach((_,b)=>{const I=r.get(b.key);i.has(b.key)&&(void 0===I||I.mutation instanceof ql)?s=s.insert(b.key,b):void 0!==I?(u.set(b.key,I.mutation.getFieldMask()),rm(I.mutation,b,I.mutation.getFieldMask(),br.now())):u.set(b.key,mo.empty())}),this.recalculateAndSaveOverlays(e,s).next(_=>(_.forEach((b,I)=>u.set(b,I)),t.forEach((b,I)=>{var M;return f.set(b,new oC(I,null!==(M=u.get(b))&&void 0!==M?M:null))}),f))}recalculateAndSaveOverlays(e,t){const r=jc();let i=new Kn((u,f)=>u-f),s=nn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const f of u)f.keys().forEach(_=>{const b=t.get(_);if(null===b)return;let I=r.get(_)||mo.empty();I=f.applyToLocalView(b,I),r.set(_,I);const M=(i.get(f.batchId)||nn()).add(_);i=i.insert(f.batchId,M)})}).next(()=>{const u=[],f=i.getReverseIterator();for(;f.hasNext();){const _=f.getNext(),b=_.key,I=_.value,M=em();I.forEach(U=>{if(!s.has(U)){const $=Gl(t.get(U),r.get(U));null!==$&&M.set(U,$),s=s.add(U)}}),u.push(this.documentOverlayCache.saveOverlays(e,b,M))}return le.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return Je.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Jg(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const u=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):le.resolve(ja());let f=-1,_=s;return u.next(b=>le.forEach(b,(I,M)=>(f<M.largestBatchId&&(f=M.largestBatchId),s.get(I)?le.resolve():this.remoteDocumentCache.getEntry(e,I).next(U=>{_=_.insert(I,U)}))).next(()=>this.populateOverlays(e,b,s)).next(()=>this.computeViews(e,_,b,nn())).next(I=>({batchId:f,changes:e_(I)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Je(t)).next(r=>{let i=Hc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let s=Hc();return this.indexManager.getCollectionParents(e,i).next(u=>le.forEach(u,f=>{const _=(b=t,I=f.child(i),new _o(I,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt));var b,I;return this.getDocumentsMatchingCollectionQuery(e,_,r).next(b=>{b.forEach((I,M)=>{s=s.insert(I,M)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i))).next(s=>{i.forEach((f,_)=>{const b=_.getKey();null===s.get(b)&&(s=s.insert(b,Hn.newInvalidDocument(b)))});let u=Hc();return s.forEach((f,_)=>{const b=i.get(f);void 0!==b&&rm(b.mutation,_,mo.empty(),br.now()),Jp(t,_)&&(u=u.insert(f,_))}),u})}}class bT{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return le.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:Or(r.createTime)}),le.resolve()}getNamedQuery(e,t){return le.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:f_(r.bundledQuery),readTime:Or(r.readTime)}),le.resolve();var r}}class wT{constructor(){this.overlays=new Kn(Je.comparator),this.ls=new Map}getOverlay(e,t){return le.resolve(this.overlays.get(t))}getOverlays(e,t){const r=ja();return le.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.we(e,t,s)}),le.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),le.resolve()}getOverlaysForCollection(e,t,r){const i=ja(),s=t.length+1,u=new Je(t.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const _=f.getNext().value,b=_.getKey();if(!t.isPrefixOf(b.path))break;b.path.length===s&&_.largestBatchId>r&&i.set(_.getKey(),_)}return le.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new Kn((b,I)=>b-I);const u=this.overlays.getIterator();for(;u.hasNext();){const b=u.getNext().value;if(b.getKey().getCollectionGroup()===t&&b.largestBatchId>r){let I=s.get(b.largestBatchId);null===I&&(I=ja(),s=s.insert(b.largestBatchId,I)),I.set(b.getKey(),b)}}const f=ja(),_=s.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((b,I)=>f.set(b,I)),!(f.size()>=i)););return le.resolve(f)}we(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const u=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new Gr(t,r));let s=this.ls.get(t);void 0===s&&(s=nn(),this.ls.set(t,s)),this.ls.set(t,s.add(r.key))}}class ub{constructor(){this.fs=new or(wi.ds),this.ws=new or(wi._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new wi(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new wi(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new Je(new En([])),r=new wi(t,e),i=new wi(t,e+1),s=[];return this.ws.forEachInRange([r,i],u=>{this.ys(u),s.push(u.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new Je(new En([])),r=new wi(t,e),i=new wi(t,e+1);let s=nn();return this.ws.forEachInRange([r,i],u=>{s=s.add(u.key)}),s}containsKey(e){const t=new wi(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class wi{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return Je.comparator(e.key,t.key)||Ht(e.As,t.As)}static _s(e,t){return Ht(e.As,t.As)||Je.comparator(e.key,t.key)}}class bR{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new or(wi.ds)}checkEmpty(e){return le.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const s=this.vs;this.vs++;const u=new o_(s,t,r,i);this.mutationQueue.push(u);for(const f of i)this.Rs=this.Rs.add(new wi(f.key,s)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return le.resolve(u)}lookupMutationBatch(e,t){return le.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.bs(t+1),s=i<0?0:i;return le.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new wi(t,0),i=new wi(t,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],u=>{const f=this.Ps(u.As);s.push(f)}),le.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new or(Ht);return t.forEach(i=>{const s=new wi(i,0),u=new wi(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,u],f=>{r=r.add(f.As)})}),le.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;Je.isDocumentKey(s)||(s=s.child(""));const u=new wi(new Je(s),0);let f=new or(Ht);return this.Rs.forEachWhile(_=>{const b=_.key.path;return!!r.isPrefixOf(b)&&(b.length===i&&(f=f.add(_.As)),!0)},u),le.resolve(this.Vs(f))}Vs(e){const t=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Ct(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return le.forEach(t.mutations,i=>{const s=new wi(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new wi(t,0),i=this.Rs.firstAfterOrEqual(r);return le.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return le.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class ET{constructor(e){this.Ds=e,this.docs=new Kn(Je.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,u=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return le.resolve(r?r.document.mutableCopy():Hn.newInvalidDocument(t))}getEntries(e,t){let r=yo();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Hn.newInvalidDocument(i))}),le.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=yo();const u=t.path,f=new Je(u.child("")),_=this.docs.getIteratorFrom(f);for(;_.hasNext();){const{key:b,value:{document:I}}=_.getNext();if(!u.isPrefixOf(b.path))break;b.path.length>u.length+1||_v(Ww(I),r)<=0||(i.has(I.key)||Jp(t,I))&&(s=s.insert(I.key,I.mutableCopy()))}return le.resolve(s)}getAllFromCollectionGroup(e,t,r,i){ht()}Cs(e,t){return le.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new sC(this)}getSize(e){return le.resolve(this.size)}}class sC extends nC{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),le.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class CT{constructor(e){this.persistence=e,this.xs=new Xs(t=>jl(t),Ha),this.lastRemoteSnapshotVersion=It.min(),this.highestTargetId=0,this.Ns=0,this.ks=new ub,this.targetCount=0,this.Ms=Ad.kn()}forEachTarget(e,t){return this.xs.forEach((r,i)=>t(i)),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),le.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Ad(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,le.resolve()}updateTargetData(e,t){return this.Fn(t),le.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.xs.forEach((u,f)=>{f.sequenceNumber<=t&&null===r.get(f.targetId)&&(this.xs.delete(u),s.push(this.removeMatchingKeysForTargetId(e,f.targetId)),i++)}),le.waitFor(s).next(()=>i)}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return le.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),le.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(u=>{s.push(i.markPotentiallyOrphaned(e,u))}),le.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),le.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return le.resolve(r)}containsKey(e,t){return le.resolve(this.ks.containsKey(t))}}class db{constructor(e,t){this.$s={},this.overlays={},this.Os=new vi(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new CT(this),this.indexManager=new GE,this.remoteDocumentCache=new ET(r=>this.referenceDelegate.Ls(r)),this.serializer=new BE(t),this.qs=new bT(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new wT,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new bR(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){Ue("MemoryPersistence","Starting transaction:",e);const i=new cm(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,t){return le.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class cm extends Zw{constructor(e){super(),this.currentSequenceNumber=e}}class w_{constructor(e){this.persistence=e,this.Qs=new ub,this.js=null}static zs(e){return new w_(e)}get Ws(){if(this.js)return this.js;throw ht()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),le.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),le.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),le.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.Ws,r=>{const i=Je.fromPath(r);return this.Hs(e,i).next(s=>{s||t.removeEntry(i,It.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return le.or([()=>le.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class DT{constructor(e){this.serializer=e}O(e,t,r,i){const s=new vv("createOrUpgrade",t);var f;r<1&&i>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Gg,{unique:!0}),f.createObjectStore("documentMutations"),hb(e),function(f){f.createObjectStore("remoteDocuments")}(e));let u=le.resolve();return r<3&&i>=3&&(0!==r&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),hb(e)),u=u.next(()=>function(f){const _=f.store("targetGlobal"),b={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:It.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",b)}(s))),r<4&&i>=4&&(0!==r&&(u=u.next(()=>function(f,_){return _.store("mutations").j().next(b=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Gg,{unique:!0});const I=_.store("mutations"),M=b.map(U=>I.put(U));return le.waitFor(M)})}(e,s))),u=u.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(u=u.next(()=>this.Ys(s))),r<6&&i>=6&&(u=u.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(s)))),r<7&&i>=7&&(u=u.next(()=>this.Zs(s))),r<8&&i>=8&&(u=u.next(()=>this.ti(e,s))),r<9&&i>=9&&(u=u.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(u=u.next(()=>this.ei(s))),r<11&&i>=11&&(u=u.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(u=u.next(()=>{!function(f){const _=f.createObjectStore("documentOverlays",{keyPath:Ev});_.createIndex("collectionPathOverlayIndex",eE,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",zI,{unique:!1})}(e)})),r<13&&i>=13&&(u=u.next(()=>function(f){const _=f.createObjectStore("remoteDocumentsV14",{keyPath:LI});_.createIndex("documentKeyIndex",Qw),_.createIndex("collectionGroupIndex",VI)}(e)).next(()=>this.ni(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(u=u.next(()=>this.si(e,s))),r<15&&i>=15&&(u=u.next(()=>function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:$o}).createIndex("sequenceNumberIndex",HI,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:jI}).createIndex("documentKeyIndex",mR,{unique:!1})}(e))),u}Xs(e){let t=0;return e.store("remoteDocuments").X((r,i)=>{t+=y_(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Ys(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.j().next(i=>le.forEach(i,s=>{const u=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",u).next(f=>le.forEach(f,_=>{Ct(_.userId===s.userId);const b=Id(this.serializer,_);return KE(e,s.userId,b).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.X((u,f)=>{const _=new En(u),b=[0,di(_)];s.push(t.get(b).next(I=>I?le.resolve():t.put({targetId:0,path:di(_),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>le.waitFor(s))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:UI});const r=t.store("collectionParents"),i=new g_,s=u=>{if(i.add(u)){const f=u.lastSegment(),_=u.popLast();return r.put({collectionId:f,parent:di(_)})}};return t.store("remoteDocuments").X({Y:!0},(u,f)=>{const _=new En(u);return s(_.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([u,f,_],b)=>{const I=ws(f);return s(I.popLast())}))}ei(e){const t=e.store("targets");return t.X((r,i)=>{const s=vf(i),u=Xv(this.serializer,s);return t.put(u)})}ni(e,t){const r=t.store("remoteDocuments"),i=[];return r.X((s,u)=>{const f=t.store("remoteDocumentsV14"),_=(b=u,b.document?new Je(En.fromString(b.document.name).popFirst(5)):b.noDocument?Je.fromSegments(b.noDocument.path):b.unknownDocument?Je.fromSegments(b.unknownDocument.path):ht()).path.toArray();var b;const I={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};i.push(f.put(I))}).next(()=>le.waitFor(i))}si(e,t){const r=t.store("mutations"),i=yT(this.serializer),s=new db(w_.zs,this.serializer.fe);return r.j().next(u=>{const f=new Map;return u.forEach(_=>{var b;let I=null!==(b=f.get(_.userId))&&void 0!==b?b:nn();Id(this.serializer,_).keys().forEach(M=>I=I.add(M)),f.set(_.userId,I)}),le.forEach(f,(_,b)=>{const I=new Nn(b),M=bf.de(this.serializer,I),U=s.getIndexManager(I),$=v_.de(I,this.serializer,U,s.referenceDelegate);return new xf(i,$,M,U).recalculateAndSaveOverlaysForDocumentKeys(new zp(t,vi.ct),_).next()})})}}function hb(n){n.createObjectStore("targetDocuments",{keyPath:Xw}).createIndex("documentTargetsIndex",BI,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Jw,{unique:!0}),n.createObjectStore("targetGlobal")}const fb="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class E_{constructor(e,t,r,i,s,u,f,_,b,I,M=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.ii=s,this.window=u,this.document=f,this.ri=b,this.oi=I,this.ui=M,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=U=>Promise.resolve(),!E_.D())throw new ke(me.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new tC(this,i),this.di=t+"main",this.serializer=new BE(_),this.wi=new jo(this.di,this.ui,new DT(this.serializer)),this.Bs=new lm(this.referenceDelegate,this.serializer),this.remoteDocumentCache=yT(this.serializer),this.qs=new HE,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===I&&jr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ke(me.FAILED_PRECONDITION,fb);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new vi(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var r=(0,ve.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,ve.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,ve.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>If(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(zo(e))return Ue("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ue("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return dm(e).get("owner").next(t=>le.resolve(this.Ri(t)))}Pi(e){return If(e).delete(this.clientId)}bi(){var e=this;return(0,ve.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=bi(r,"clientMetadata");return i.j().next(s=>{const u=e.Si(s,18e5),f=s.filter(_=>-1===u.indexOf(_));return le.forEach(f,_=>i.delete(_.clientId)).next(()=>f)})}).catch(()=>[]);if(e._i)for(const r of t)e._i.removeItem(e.Di(r.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?le.resolve(!0):dm(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new ke(me.FAILED_PRECONDITION,fb);return!1}}return!(!this.networkEnabled||!this.inForeground)||If(e).j().next(r=>void 0===this.Si(r,5e3).find(i=>!(this.clientId===i.clientId||!(!this.networkEnabled&&i.networkEnabled||!this.inForeground&&i.inForeground&&this.networkEnabled===i.networkEnabled))))}).next(t=>(this.isPrimary!==t&&Ue("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ve.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new zp(t,vi.ct);return e.Ai(r).next(()=>e.Pi(r))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(r=>this.Vi(r.updateTimeMs,t)&&!this.Ci(r.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>If(e).j().next(t=>this.Si(t,18e5).map(r=>r.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return v_.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new qE(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return bf.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,r){Ue("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",s=15===(u=this.ui)?GI:14===u?nE:13===u?Cv:12===u?$I:11===u?tE:void ht();var u;let f;return this.wi.runTransaction(e,i,s,_=>(f=new zp(_,this.Os?this.Os.next():vi.ct),"readwrite-primary"===t?this.Ti(f).next(b=>!!b||this.Ei(f)).next(b=>{if(!b)throw jr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new ke(me.FAILED_PRECONDITION,yv);return r(f)}).next(b=>this.vi(f).next(()=>b)):this.Oi(f).next(()=>r(f)))).then(_=>(f.raiseOnCommittedEvent(),_))}Oi(e){return dm(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new ke(me.FAILED_PRECONDITION,fb)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return dm(e).put("owner",t)}static D(){return jo.D()}Ai(e){const t=dm(e);return t.get("owner").next(r=>this.Ri(r)?(Ue("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):le.resolve())}Vi(e,t){const r=Date.now();return!(e<r-t||e>r&&(jr(`Detected an update time that is in the future: ${e} > ${r}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,un.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const r=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return Ue("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return jr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){jr("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function dm(n){return bi(n,"owner")}function If(n){return bi(n,"clientMetadata")}function pb(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class C_{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=i}static Li(e,t){let r=nn(),i=nn();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new C_(e,t.fromCache,r,i)}}class mb{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Ki(e,t).next(s=>s||this.Gi(e,t,i,r)).next(s=>s||this.Qi(e,t))}Ki(e,t){if(vd(t))return le.resolve(null);let r=zi(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=Qp(t,null,"F"),r=zi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const u=nn(...s);return this.Ui.getDocuments(e,u).next(f=>this.indexManager.getMinOffset(e,r).next(_=>{const b=this.ji(t,f);return this.zi(t,b,u,_.readTime)?this.Ki(e,Qp(t,null,"F")):this.Wi(e,b,t,_)}))})))}Gi(e,t,r,i){return vd(t)||i.isEqual(It.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(s=>{const u=this.ji(t,s);return this.zi(t,u,r,i)?this.Qi(e,t):(pv()<=ps.in.DEBUG&&Ue("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),kv(t)),this.Wi(e,u,t,qw(i,-1)))})}ji(e,t){let r=new or(gE(e));return t.forEach((i,s)=>{Jp(e,s)&&(r=r.add(s))}),r}zi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,t){return pv()<=ps.in.DEBUG&&Ue("QueryEngine","Using full collection scan to execute query:",kv(t)),this.Ui.getDocumentsMatchingQuery(e,t,Ho.min())}Wi(e,t,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(u=>{s=s.insert(u.key,u)}),s))}}class xT{constructor(e,t,r,i){this.persistence=e,this.Hi=t,this.serializer=i,this.Ji=new Kn(Ht),this.Yi=new Xs(s=>jl(s),Ha),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xf(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function aC(n,e,t,r){return new xT(n,e,t,r)}function lC(n,e){return hm.apply(this,arguments)}function hm(){return hm=(0,ve.Z)(function*(n,e){const t=et(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.tr(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const u=[],f=[];let _=nn();for(const b of i){u.push(b.batchId);for(const I of b.mutations)_=_.add(I.key)}for(const b of s){f.push(b.batchId);for(const I of b.mutations)_=_.add(I.key)}return t.localDocuments.getDocuments(r,_).next(b=>({er:b,removedBatchIds:u,addedBatchIds:f}))})})}),hm.apply(this,arguments)}function gb(n){const e=et(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function cC(n,e,t){let r=nn(),i=nn();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let u=yo();return t.forEach((f,_)=>{const b=s.get(f);_.isFoundDocument()!==b.isFoundDocument()&&(i=i.add(f)),_.isNoDocument()&&_.version.isEqual(It.min())?(e.removeEntry(f,_.readTime),u=u.insert(f,_)):!b.isValidDocument()||_.version.compareTo(b.version)>0||0===_.version.compareTo(b.version)&&b.hasPendingWrites?(e.addEntry(_),u=u.insert(f,_)):Ue("LocalStore","Ignoring outdated watch update for ",f,". Current version:",b.version," Watch version:",_.version)}),{nr:u,sr:i}})}function ST(n,e){const t=et(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Tf(n,e){const t=et(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Bs.getTargetData(r,e).next(s=>s?(i=s,le.resolve(i)):t.Bs.allocateTargetId(r).next(u=>(i=new Zl(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}function Sf(n,e,t){return _b.apply(this,arguments)}function _b(){return _b=(0,ve.Z)(function*(n,e,t){const r=et(n),i=r.Ji.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,u=>r.persistence.referenceDelegate.removeTarget(u,i)))}catch(u){if(!zo(u))throw u;Ue("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),_b.apply(this,arguments)}function D_(n,e,t){const r=et(n);let i=It.min(),s=nn();return r.persistence.runTransaction("Execute query","readonly",u=>function(f,_,b){const I=et(f),M=I.Yi.get(b);return void 0!==M?le.resolve(I.Ji.get(M)):I.Bs.getTargetData(_,b)}(r,u,zi(e)).next(f=>{if(f)return i=f.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(u,f.targetId).next(_=>{s=_})}).next(()=>r.Hi.getDocumentsMatchingQuery(u,e,t?i:It.min(),t?s:nn())).next(f=>(vb(r,Ov(e),f),{documents:f,ir:s})))}function uC(n,e){const t=et(n),r=et(t.Bs),i=t.Ji.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",s=>r.le(s,e).next(u=>u?u.target:null))}function yb(n,e){const t=et(n),r=t.Xi.get(e)||It.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Zi.getAllFromCollectionGroup(i,e,qw(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(vb(t,e,i),i))}function vb(n,e,t){let r=n.Xi.get(e)||It.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.Xi.set(e,r)}function bb(){return bb=(0,ve.Z)(function*(n,e,t,r){const i=et(n);let s=nn(),u=yo();for(const b of t){const I=e.rr(b.metadata.name);b.document&&(s=s.add(I));const M=e.ur(b);M.setReadTime(e.cr(b.metadata.readTime)),u=u.insert(I,M)}const f=i.Zi.newChangeBuffer({trackRemovals:!0}),_=yield Tf(i,(b=r,zi(Js(En.fromString(`__bundle__/docs/${b}`)))));var b;return i.persistence.runTransaction("Apply bundle documents","readwrite",b=>cC(b,f,u).next(I=>(f.apply(b),I)).next(I=>i.Bs.removeMatchingKeysForTargetId(b,_.targetId).next(()=>i.Bs.addMatchingKeys(b,s,_.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(b,I.nr,I.sr)).next(()=>I.nr)))}),bb.apply(this,arguments)}function dC(n,e){return wb.apply(this,arguments)}function wb(){return wb=(0,ve.Z)(function*(n,e,t=nn()){const r=yield Tf(n,zi(f_(e.bundledQuery))),i=et(n);return i.persistence.runTransaction("Save named query","readwrite",s=>{const u=Or(e.readTime);if(r.snapshotVersion.compareTo(u)>=0)return i.qs.saveNamedQuery(s,e);const f=r.withResumeToken($r.EMPTY_BYTE_STRING,u);return i.Ji=i.Ji.insert(f.targetId,f),i.Bs.updateTargetData(s,f).next(()=>i.Bs.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.Bs.addMatchingKeys(s,t,r.targetId)).next(()=>i.qs.saveNamedQuery(s,e))})}),wb.apply(this,arguments)}function hC(n,e){return`firestore_clients_${n}_${e}`}function fC(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function fm(n,e){return`firestore_targets_${n}_${e}`}class Af{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static ar(e,t,r){const i=JSON.parse(r);let s,u="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return u&&i.error&&(u="string"==typeof i.error.message&&"string"==typeof i.error.code,u&&(s=new ke(i.error.code,i.error.message))),u?new Af(e,t,i.state,s):(jr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Mf{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static ar(e,t){const r=JSON.parse(t);let i,s="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new ke(r.error.code,r.error.message))),s?new Mf(e,r.state,i):(jr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Rf{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,s=t_();for(let u=0;i&&u<r.activeTargetIds.length;++u)i=zg(r.activeTargetIds[u]),s=s.add(r.activeTargetIds[u]);return i?new Rf(e,s):(jr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Eb{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Eb(t.clientId,t.onlineState):(jr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Cb{constructor(){this.activeTargetIds=t_()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class pm{constructor(e,t,r,i,s){this.window=e,this.ii=t,this.persistenceKey=r,this.wr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new Kn(Ht),this.started=!1,this.yr=[];const u=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.pr=hC(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new Cb),this.Tr=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ve.Z)(function*(){const t=yield e.syncEngine.$i();for(const i of t){if(i===e.wr)continue;const s=e.getItem(hC(e.persistenceKey,i));if(s){const u=Rf.ar(i,s);u&&(e.gr=e.gr.insert(u.clientId,u))}}e.Pr();const r=e.storage.getItem(e.vr);if(r){const i=e.br(r);i&&e.Vr(i)}for(const i of e.yr)e.mr(i);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,r){this.Dr(e,t,r),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(fm(this.persistenceKey,e));if(r){const i=Mf.ar(e,r);i&&(t=i.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(fm(this.persistenceKey,e))}updateQueryState(e,t,r){this.kr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Cr(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ue("SharedClientState","READ",e,t),t}setItem(e,t){Ue("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ue("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Ue("SharedClientState","EVENT",r.key,r.newValue),r.key===this.pr)return void jr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,ve.Z)(function*(){if(t.started){if(null!==r.key)if(t.Tr.test(r.key)){if(null==r.newValue){const i=t.Or(r.key);return t.Fr(i,null)}{const i=t.Br(r.key,r.newValue);if(i)return t.Fr(i.clientId,i)}}else if(t.Er.test(r.key)){if(null!==r.newValue){const i=t.Lr(r.key,r.newValue);if(i)return t.qr(i)}}else if(t.Ar.test(r.key)){if(null!==r.newValue){const i=t.Ur(r.key,r.newValue);if(i)return t.Kr(i)}}else if(r.key===t.vr){if(null!==r.newValue){const i=t.br(r.newValue);if(i)return t.Vr(i)}}else if(r.key===t.Ir){const i=function(s){let u=vi.ct;if(null!=s)try{const f=JSON.parse(s);Ct("number"==typeof f),u=f}catch(f){jr("SharedClientState","Failed to read sequence number from WebStorage",f)}return u}(r.newValue);i!==vi.ct&&t.sequenceNumberHandler(i)}else if(r.key===t.Rr){const i=t.Gr(r.newValue);yield Promise.all(i.map(s=>t.syncEngine.Qr(s)))}}else t.yr.push(r)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,r){const i=new Af(this.currentUser,e,t,r),s=fC(this.persistenceKey,this.currentUser,e);this.setItem(s,i.hr())}Cr(e){const t=fC(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,r){const i=fm(this.persistenceKey,e),s=new Mf(e,t,r);this.setItem(i,s.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const r=this.Or(e);return Rf.ar(r,t)}Lr(e,t){const r=this.Er.exec(e),i=Number(r[1]);return Af.ar(new Nn(void 0!==r[2]?r[2]:null),i,t)}Ur(e,t){const r=this.Ar.exec(e),i=Number(r[1]);return Mf.ar(i,t)}br(e){return Eb.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,ve.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);Ue("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const r=t?this.gr.insert(e,t):this.gr.remove(e),i=this.Sr(this.gr),s=this.Sr(r),u=[],f=[];return s.forEach(_=>{i.has(_)||u.push(_)}),i.forEach(_=>{s.has(_)||f.push(_)}),this.syncEngine.Wr(u,f).then(()=>{this.gr=r})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=t_();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class pC{constructor(){this.Hr=new Cb,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Cb,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class mC{Yr(e){}shutdown(){}}class Md{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Ue("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Ue("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let mm=null;function Db(){return null===mm?mm=268435456+Math.round(2147483648*Math.random()):mm++,"0x"+mm.toString(16)}const wR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class gC{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Ei="WebChannelConnection";class MT extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,i,s){const u=Db(),f=this.To(e,t);Ue("RestConnection",`Sending RPC '${e}' ${u}:`,f,r);const _={};return this.Eo(_,i,s),this.Ao(e,f,_,r).then(b=>(Ue("RestConnection",`Received RPC '${e}' ${u}: `,b),b),b=>{throw Uo("RestConnection",`RPC '${e}' ${u} failed with error: `,b,"url: ",f,"request:",r),b})}vo(e,t,r,i,s,u){return this.Io(e,t,r,i,s)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+nf,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,t){return`${this.mo}/v1/${t}:${wR[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,i){const s=Db();return new Promise((u,f)=>{const _=new TI;_.setWithCredentials(!0),_.listenOnce(pR.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case Ow.NO_ERROR:const I=_.getResponseJson();Ue(Ei,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(I)),u(I);break;case Ow.TIMEOUT:Ue(Ei,`RPC '${e}' ${s} timed out`),f(new ke(me.DEADLINE_EXCEEDED,"Request time out"));break;case Ow.HTTP_ERROR:const M=_.getStatus();if(Ue(Ei,`RPC '${e}' ${s} failed with status:`,M,"response text:",_.getResponseText()),M>0){let U=_.getResponseJson();Array.isArray(U)&&(U=U[0]);const $=U?.error;if($&&$.status&&$.message){const ee=function(ie){const de=ie.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(de)>=0?de:me.UNKNOWN}($.status);f(new ke(ee,$.message))}else f(new ke(me.UNKNOWN,"Server responded with status "+_.getStatus()))}else f(new ke(me.UNAVAILABLE,"Connection failed."));break;default:ht()}}finally{Ue(Ei,`RPC '${e}' ${s} completed.`)}});const b=JSON.stringify(i);Ue(Ei,`RPC '${e}' ${s} sending request:`,i),_.send(t,"POST",b,r,15)})}Ro(e,t,r){const i=Db(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=DI(),f=xI(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},b=this.longPollingOptions.timeoutSeconds;void 0!==b&&(_.longPollingTimeout=Math.round(1e3*b)),this.useFetchStreams&&(_.xmlHttpFactory=new Fw({})),this.Eo(_.initMessageHeaders,t,r),_.encodeInitMessageHeaders=!0;const I=s.join("");Ue(Ei,`Creating RPC '${e}' stream ${i}: ${I}`,_);const M=u.createWebChannel(I,_);let U=!1,$=!1;const ee=new gC({ro:de=>{$?Ue(Ei,`Not sending because RPC '${e}' stream ${i} is closed:`,de):(U||(Ue(Ei,`Opening RPC '${e}' stream ${i} transport.`),M.open(),U=!0),Ue(Ei,`RPC '${e}' stream ${i} sending:`,de),M.send(de))},oo:()=>M.close()}),ie=(de,qe,rt)=>{de.listen(qe,st=>{try{rt(st)}catch(gt){setTimeout(()=>{throw gt},0)}})};return ie(M,Up.EventType.OPEN,()=>{$||Ue(Ei,`RPC '${e}' stream ${i} transport opened.`)}),ie(M,Up.EventType.CLOSE,()=>{$||($=!0,Ue(Ei,`RPC '${e}' stream ${i} transport closed`),ee.wo())}),ie(M,Up.EventType.ERROR,de=>{$||($=!0,Uo(Ei,`RPC '${e}' stream ${i} transport errored:`,de),ee.wo(new ke(me.UNAVAILABLE,"The operation could not be completed")))}),ie(M,Up.EventType.MESSAGE,de=>{var qe;if(!$){const rt=de.data[0];Ct(!!rt);const gt=rt.error||(null===(qe=rt[0])||void 0===qe?void 0:qe.error);if(gt){Ue(Ei,`RPC '${e}' stream ${i} received error:`,gt);const jt=gt.status;let rn=function(ro){const el=Jr[ro];if(void 0!==el)return $v(el)}(jt),Sn=gt.message;void 0===rn&&(rn=me.INTERNAL,Sn="Unknown error status: "+jt+" with message "+gt.message),$=!0,ee.wo(new ke(rn,Sn)),M.close()}else Ue(Ei,`RPC '${e}' stream ${i} received:`,rt),ee._o(rt)}}),ie(f,Nw.STAT_EVENT,de=>{de.stat===II.PROXY?Ue(Ei,`RPC '${e}' stream ${i} detected buffering proxy`):de.stat===II.NOPROXY&&Ue(Ei,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{ee.fo()},0),ee}}function x_(){return typeof window<"u"?window:null}function I_(){return typeof document<"u"?document:null}function kf(n){return new aT(n,!0)}class gm{constructor(e,t,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,t-r);i>0&&Ue("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class xb{constructor(e,t,r,i,s,u,f,_){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=_,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new gm(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,ve.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,ve.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return(0,ve.Z)(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===me.RESOURCE_EXHAUSTED?(jr(t.toString()),jr("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===me.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===t&&this.Zo(r,i)},r=>{e(()=>{const i=new ke(me.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No((0,ve.Z)(function*(){e.state=0,e.start()}))}tu(e){return Ue("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Ue("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class _C extends xb{constructor(e,t,r,i,s,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,u),this.serializer=s}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function NE(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:ht(),i=e.targetChange.targetIds||[],s=function(_,b){return _.useProto3Json?(Ct(void 0===b||"string"==typeof b),$r.fromBase64String(b||"")):(Ct(void 0===b||b instanceof Uint8Array),$r.fromUint8Array(b||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&function(_){const b=void 0===_.code?me.UNKNOWN:$v(_.code);return new ke(b,_.message||"")}(u);t=new qv(r,i,s,f||null)}else if("documentChange"in e){const r=e.documentChange,i=na(n,r.document.name),s=Or(r.document.updateTime),u=r.document.createTime?Or(r.document.createTime):It.min(),f=new Mi({mapValue:{fields:r.document.fields}}),_=Hn.newFoundDocument(i,s,u,f);t=new Wo(r.targetIds||[],r.removedTargetIds||[],_.key,_)}else if("documentDelete"in e){const r=e.documentDelete,i=na(n,r.document),s=r.readTime?Or(r.readTime):It.min(),u=Hn.newNoDocument(i,s);t=new Wo([],r.removedTargetIds||[],u.key,u)}else if("documentRemove"in e){const r=e.documentRemove,i=na(n,r.document);t=new Wo([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return ht();{const r=e.filter,{count:i=0,unchangedNames:s}=r,u=new rT(i,s);t=new AE(r.targetId,u)}}var _;return t}(this.serializer,e),r=function(i){if(!("targetChange"in i))return It.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?It.min():s.readTime?Or(s.readTime):It.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=gf(this.serializer),t.addTarget=function(i,s){let u;const f=s.target;if(u=zl(f)?{documents:Qv(i,f)}:{query:d_(i,f)},u.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){u.resumeToken=ff(i,s.resumeToken);const _=Zv(i,s.expectedCount);null!==_&&(u.expectedCount=_)}else if(s.snapshotVersion.compareTo(It.min())>0){u.readTime=Wc(i,s.snapshotVersion.toTimestamp());const _=Zv(i,s.expectedCount);null!==_&&(u.expectedCount=_)}return u}(this.serializer,e);const r=function cT(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ht()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=gf(this.serializer),t.removeTarget=e,this.Wo(t)}}class yC extends xb{constructor(e,t,r,i,s,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,u),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(Ct(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function FE(n,e){return n&&n.length>0?(Ct(void 0!==e),n.map(t=>function(r,i){let s=Or(r.updateTime?r.updateTime:i);return s.isEqual(It.min())&&(s=Or(i)),new DE(s,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Or(e.commitTime);return this.listener.cu(r,t)}return Ct(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=gf(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>_f(this.serializer,r))};this.Wo(t)}}class vC extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new ke(me.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ke(me.UNKNOWN,i.toString())})}vo(e,t,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,u])=>this.connection.vo(e,t,r,s,u,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ke(me.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class kT{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(jr(t),this.mu=!1):Ue("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class OT{constructor(e,t,r,i,s){var u=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(f=>{r.enqueueAndForget((0,ve.Z)(function*(){var _;eu(u)&&(Ue("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,ve.Z)(function*(b){const I=et(b);I.vu.add(4),yield Rd(I),I.bu.set("Unknown"),I.vu.delete(4),yield Of(I)}),function(b){return _.apply(this,arguments)})(u))}))}),this.bu=new kT(r,i)}}function Of(n){return bC.apply(this,arguments)}function bC(){return bC=(0,ve.Z)(function*(n){if(eu(n))for(const e of n.Ru)yield e(!0)}),bC.apply(this,arguments)}function Rd(n){return Tb.apply(this,arguments)}function Tb(){return Tb=(0,ve.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),Tb.apply(this,arguments)}function T_(n,e){const t=et(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),A_(t)?Ab(t):Nf(t).Ko()&&Sb(t,e))}function S_(n,e){const t=et(n),r=Nf(t);t.Au.delete(e),r.Ko()&&wC(t,e),0===t.Au.size&&(r.Ko()?r.jo():eu(t)&&t.bu.set("Unknown"))}function Sb(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(It.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Nf(n).su(e)}function wC(n,e){n.Vu.qt(e),Nf(n).iu(e)}function Ab(n){n.Vu=new ta({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),Nf(n).start(),n.bu.gu()}function A_(n){return eu(n)&&!Nf(n).Uo()&&n.Au.size>0}function eu(n){return 0===et(n).vu.size}function EC(n){n.Vu=void 0}function NT(n){return Mb.apply(this,arguments)}function Mb(){return Mb=(0,ve.Z)(function*(n){n.Au.forEach((e,t)=>{Sb(n,e)})}),Mb.apply(this,arguments)}function FT(n,e){return Rb.apply(this,arguments)}function Rb(){return Rb=(0,ve.Z)(function*(n,e){EC(n),A_(n)?(n.bu.Iu(e),Ab(n)):n.bu.set("Unknown")}),Rb.apply(this,arguments)}function PT(n,e,t){return kb.apply(this,arguments)}function kb(){return kb=(0,ve.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof qv&&2===e.state&&e.cause)try{yield(r=(0,ve.Z)(function*(i,s){const u=s.cause;for(const f of s.targetIds)i.Au.has(f)&&(yield i.remoteSyncer.rejectListen(f,u),i.Au.delete(f),i.Vu.removeTarget(f))}),function(i,s){return r.apply(this,arguments)})(n,e)}catch(r){Ue("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield tu(n,r)}else if(e instanceof Wo?n.Vu.Ht(e):e instanceof AE?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(It.min()))try{const r=yield gb(n.localStore);t.compareTo(r)>=0&&(yield function(i,s){const u=i.Vu.ce(s);return u.targetChanges.forEach((f,_)=>{if(f.resumeToken.approximateByteSize()>0){const b=i.Au.get(_);b&&i.Au.set(_,b.withResumeToken(f.resumeToken,s))}}),u.targetMismatches.forEach((f,_)=>{const b=i.Au.get(f);if(!b)return;i.Au.set(f,b.withResumeToken($r.EMPTY_BYTE_STRING,b.snapshotVersion)),wC(i,f);const I=new Zl(b.target,f,_,b.sequenceNumber);Sb(i,I)}),i.remoteSyncer.applyRemoteEvent(u)}(n,t))}catch(r){Ue("RemoteStore","Failed to raise snapshot:",r),yield tu(n,r)}var r}),kb.apply(this,arguments)}function tu(n,e,t){return M_.apply(this,arguments)}function M_(){return M_=(0,ve.Z)(function*(n,e,t){if(!zo(e))throw e;n.vu.add(1),yield Rd(n),n.bu.set("Offline"),t||(t=()=>gb(n.localStore)),n.asyncQueue.enqueueRetryable((0,ve.Z)(function*(){Ue("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield Of(n)}))}),M_.apply(this,arguments)}function Ob(n,e){return e().catch(t=>tu(n,t,e))}function kd(n){return R_.apply(this,arguments)}function R_(){return R_=(0,ve.Z)(function*(n){const e=et(n),t=nu(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;CC(e);)try{const i=yield ST(e.localStore,r);if(null===i){0===e.Eu.length&&t.jo();break}r=i.batchId,LT(e,i)}catch(i){yield tu(e,i)}DC(e)&&VT(e)}),R_.apply(this,arguments)}function CC(n){return eu(n)&&n.Eu.length<10}function LT(n,e){n.Eu.push(e);const t=nu(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function DC(n){return eu(n)&&!nu(n).Uo()&&n.Eu.length>0}function VT(n){nu(n).start()}function BT(n){return Nb.apply(this,arguments)}function Nb(){return Nb=(0,ve.Z)(function*(n){nu(n).hu()}),Nb.apply(this,arguments)}function UT(n){return Fb.apply(this,arguments)}function Fb(){return Fb=(0,ve.Z)(function*(n){const e=nu(n);for(const t of n.Eu)e.uu(t.mutations)}),Fb.apply(this,arguments)}function HT(n,e,t){return Od.apply(this,arguments)}function Od(){return Od=(0,ve.Z)(function*(n,e,t){const r=n.Eu.shift(),i=zv.from(r,e,t);yield Ob(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield kd(n)}),Od.apply(this,arguments)}function jT(n,e){return _m.apply(this,arguments)}function _m(){return _m=(0,ve.Z)(function*(n,e){var t;e&&nu(n).ou&&(yield(t=(0,ve.Z)(function*(r,i){if(IE(s=i.code)&&s!==me.ABORTED){const u=r.Eu.shift();nu(r).Qo(),yield Ob(r,()=>r.remoteSyncer.rejectFailedWrite(u.batchId,i)),yield kd(r)}var s}),function(r,i){return t.apply(this,arguments)})(n,e)),DC(n)&&VT(n)}),_m.apply(this,arguments)}function ra(n,e){return Pb.apply(this,arguments)}function Pb(){return Pb=(0,ve.Z)(function*(n,e){const t=et(n);t.asyncQueue.verifyOperationInProgress(),Ue("RemoteStore","RemoteStore received new credentials");const r=eu(t);t.vu.add(3),yield Rd(t),r&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield Of(t)}),Pb.apply(this,arguments)}function ym(n,e){return Nd.apply(this,arguments)}function Nd(){return Nd=(0,ve.Z)(function*(n,e){const t=et(n);e?(t.vu.delete(2),yield Of(t)):e||(t.vu.add(2),yield Rd(t),t.bu.set("Unknown"))}),Nd.apply(this,arguments)}function Nf(n){return n.Su||(n.Su=function(e,t,r){const i=et(e);return i.fu(),new _C(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:NT.bind(null,n),ao:FT.bind(null,n),nu:PT.bind(null,n)}),n.Ru.push(function(){var e=(0,ve.Z)(function*(t){t?(n.Su.Qo(),A_(n)?Ab(n):n.bu.set("Unknown")):(yield n.Su.stop(),EC(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function nu(n){return n.Du||(n.Du=function(e,t,r){const i=et(e);return i.fu(),new yC(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:BT.bind(null,n),ao:jT.bind(null,n),au:UT.bind(null,n),cu:HT.bind(null,n)}),n.Ru.push(function(){var e=(0,ve.Z)(function*(t){t?(n.Du.Qo(),yield kd(n)):(yield n.Du.stop(),n.Eu.length>0&&(Ue("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class Lb{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ui,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(e,t,r,i,s){const u=Date.now()+r,f=new Lb(e,t,u,i,s);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ke(me.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ql(n,e){if(jr("AsyncQueue",`${e}: ${n}`),zo(n))return new ke(me.UNAVAILABLE,`${e}: ${n}`);throw n}class Jl{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Je.comparator(t.key,r.key):(t,r)=>Je.comparator(t.key,r.key),this.keyedMap=Hc(),this.sortedSet=new Kn(this.comparator)}static emptySet(e){return new Jl(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Jl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Jl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class xC{constructor(){this.Cu=new Kn(Je.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(t):1===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):ht():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Ff{constructor(e,t,r,i,s,u,f,_,b){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=_,this.hasCachedResults=b}static fromInitialDocuments(e,t,r,i,s){const u=[];return t.forEach(f=>{u.push({type:0,doc:f})}),new Ff(e,t,Jl.emptySet(t),u,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&cf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class IC{constructor(){this.Nu=void 0,this.listeners=[]}}class TC{constructor(){this.queries=new Xs(e=>Rv(e),cf),this.onlineState="Unknown",this.ku=new Set}}function vm(n,e){return k_.apply(this,arguments)}function k_(){return k_=(0,ve.Z)(function*(n,e){const t=et(n),r=e.query;let i=!1,s=t.queries.get(r);if(s||(i=!0,s=new IC),i)try{s.Nu=yield t.onListen(r)}catch(u){const f=Ql(u,`Initialization of query '${kv(e.query)}' failed`);return void e.onError(f)}t.queries.set(r,s),s.listeners.push(e),e.Mu(t.onlineState),s.Nu&&e.$u(s.Nu)&&Em(t)}),k_.apply(this,arguments)}function bm(n,e){return wm.apply(this,arguments)}function wm(){return wm=(0,ve.Z)(function*(n,e){const t=et(n),r=e.query;let i=!1;const s=t.queries.get(r);if(s){const u=s.listeners.indexOf(e);u>=0&&(s.listeners.splice(u,1),i=0===s.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),wm.apply(this,arguments)}function SC(n,e){const t=et(n);let r=!1;for(const i of e){const u=t.queries.get(i.query);if(u){for(const f of u.listeners)f.$u(i)&&(r=!0);u.Nu=i}}r&&Em(t)}function Vb(n,e,t){const r=et(n),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(t);r.queries.delete(e)}function Em(n){n.ku.forEach(e=>{e.next()})}class Bb{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Ff(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Ff.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class zT{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class AC{constructor(e){this.serializer=e}rr(e){return na(this.serializer,e)}ur(e){return e.metadata.exists?im(this.serializer,e.document,!1):Hn.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return Or(e)}}class $T{constructor(e,t,r){this.ju=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Ub(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const r=En.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,r=new AC(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.rr(i.metadata.name);for(const u of i.metadata.queries){const f=(t.get(u)||nn()).add(s);t.set(u,f)}}return t}complete(){var e=this;return(0,ve.Z)(function*(){const t=yield function AT(n,e,t,r){return bb.apply(this,arguments)}(e.localStore,new AC(e.serializer),e.documents,e.ju.id),r=e.Wu(e.documents);for(const i of e.queries)yield dC(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function Ub(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class O_{constructor(e){this.key=e}}class Hb{constructor(e){this.key=e}}class jb{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=nn(),this.mutatedKeys=nn(),this.tc=gE(e),this.ec=new Jl(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new xC,i=t?t.ec:this.ec;let s=t?t.mutatedKeys:this.mutatedKeys,u=i,f=!1;const _="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,b="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((I,M)=>{const U=i.get(I),$=Jp(this.query,M)?M:null,ee=!!U&&this.mutatedKeys.has(U.key),ie=!!$&&($.hasLocalMutations||this.mutatedKeys.has($.key)&&$.hasCommittedMutations);let de=!1;U&&$?U.data.isEqual($.data)?ee!==ie&&(r.track({type:3,doc:$}),de=!0):this.rc(U,$)||(r.track({type:2,doc:$}),de=!0,(_&&this.tc($,_)>0||b&&this.tc($,b)<0)&&(f=!0)):!U&&$?(r.track({type:0,doc:$}),de=!0):U&&!$&&(r.track({type:1,doc:U}),de=!0,(_||b)&&(f=!0)),de&&($?(u=u.add($),s=ie?s.add(I):s.delete(I)):(u=u.delete(I),s=s.delete(I)))}),null!==this.query.limit)for(;u.size>this.query.limit;){const I="F"===this.query.limitType?u.last():u.first();u=u.delete(I.key),s=s.delete(I.key),r.track({type:1,doc:I})}return{ec:u,ic:r,zi:f,mutatedKeys:s}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((b,I)=>function(M,U){const $=ee=>{switch(ee){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ht()}};return $(M)-$(U)}(b.type,I.type)||this.tc(b.doc,I.doc)),this.oc(r);const u=t?this.uc():[],f=0===this.Zu.size&&this.current?1:0,_=f!==this.Xu;return this.Xu=f,0!==s.length||_?{snapshot:new Ff(this.query,e.ec,i,s,e.mutatedKeys,0===f,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:u}:{cc:u}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new xC,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=nn(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new Hb(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new O_(r))}),t}hc(e){this.Yu=e.ir,this.Zu=nn();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return Ff.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class MC{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class RC{constructor(e){this.key=e,this.fc=!1}}class GT{constructor(e,t,r,i,s,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=u,this.dc={},this.wc=new Xs(f=>Rv(f),cf),this._c=new Map,this.mc=new Set,this.gc=new Kn(Je.comparator),this.yc=new Map,this.Ic=new ub,this.Tc={},this.Ec=new Map,this.Ac=Ad.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function kC(n,e){return N_.apply(this,arguments)}function N_(){return N_=(0,ve.Z)(function*(n,e){const t=z_(n);let r,i;const s=t.wc.get(e);if(s)r=s.targetId,t.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const u=yield Tf(t.localStore,zi(e)),f=t.sharedClientState.addLocalQueryTarget(u.targetId);r=u.targetId,i=yield zb(t,e,r,"current"===f,u.resumeToken),t.isPrimaryClient&&T_(t.remoteStore,u)}return i}),N_.apply(this,arguments)}function zb(n,e,t,r,i){return F_.apply(this,arguments)}function F_(){return F_=(0,ve.Z)(function*(n,e,t,r,i){n.Rc=(M,U,$)=>{return(ee=(0,ve.Z)(function*(ie,de,qe,rt){let st=de.view.sc(qe);st.zi&&(st=yield D_(ie.localStore,de.query,!1).then(({documents:rn})=>de.view.sc(rn,st)));const gt=rt&&rt.targetChanges.get(de.targetId),jt=de.view.applyChanges(st,ie.isPrimaryClient,gt);return P_(ie,de.targetId,jt.cc),jt.snapshot}),function(ie,de,qe,rt){return ee.apply(this,arguments)})(n,M,U,$);var ee};const s=yield D_(n.localStore,e,!0),u=new jb(e,s.ir),f=u.sc(s.documents),_=Cd.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),b=u.applyChanges(f,n.isPrimaryClient,_);P_(n,t,b.cc);const I=new MC(e,t,u);return n.wc.set(e,I),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),b.snapshot}),F_.apply(this,arguments)}function OC(n,e){return Ri.apply(this,arguments)}function Ri(){return Ri=(0,ve.Z)(function*(n,e){const t=et(n),r=t.wc.get(e),i=t._c.get(r.targetId);if(i.length>1)return t._c.set(r.targetId,i.filter(s=>!cf(s,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Sf(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),S_(t.remoteStore,r.targetId),ru(t,r.targetId)}).catch(Ll))):(ru(t,r.targetId),yield Sf(t.localStore,r.targetId,!0))}),Ri.apply(this,arguments)}function $b(){return $b=(0,ve.Z)(function*(n,e,t){const r=n0(n);try{const i=yield function(s,u){const f=et(s),_=br.now(),b=u.reduce((U,$)=>U.add($.key),nn());let I,M;return f.persistence.runTransaction("Locally write mutations","readwrite",U=>{let $=yo(),ee=nn();return f.Zi.getEntries(U,b).next(ie=>{$=ie,$.forEach((de,qe)=>{qe.isValidDocument()||(ee=ee.add(de))})}).next(()=>f.localDocuments.getOverlayedDocuments(U,$)).next(ie=>{I=ie;const de=[];for(const qe of u){const rt=Hv(qe,I.get(qe.key).overlayedDocument);null!=rt&&de.push(new ql(qe.key,rt,Sv(rt.value.mapValue),ar.exists(!0)))}return f.mutationQueue.addMutationBatch(U,_,de,u)}).next(ie=>{M=ie;const de=ie.applyToLocalDocumentSet(I,ee);return f.documentOverlayCache.saveOverlays(U,ie.batchId,de)})}).then(()=>({batchId:M.batchId,changes:e_(I)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,u,f){let _=s.Tc[s.currentUser.toKey()];_||(_=new Kn(Ht)),_=_.insert(u,f),s.Tc[s.currentUser.toKey()]=_}(r,i.batchId,t),yield iu(r,i.changes),yield kd(r.remoteStore)}catch(i){const s=Ql(i,"Failed to persist write");t.reject(s)}}),$b.apply(this,arguments)}function NC(n,e){return FC.apply(this,arguments)}function FC(){return FC=(0,ve.Z)(function*(n,e){const t=et(n);try{const r=yield function TT(n,e){const t=et(n),r=e.snapshotVersion;let i=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const u=t.Zi.newChangeBuffer({trackRemovals:!0});i=t.Ji;const f=[];e.targetChanges.forEach((I,M)=>{const U=i.get(M);if(!U)return;f.push(t.Bs.removeMatchingKeys(s,I.removedDocuments,M).next(()=>t.Bs.addMatchingKeys(s,I.addedDocuments,M)));let $=U.withSequenceNumber(s.currentSequenceNumber);var ee,ie,de;null!==e.targetMismatches.get(M)?$=$.withResumeToken($r.EMPTY_BYTE_STRING,It.min()).withLastLimboFreeSnapshotVersion(It.min()):I.resumeToken.approximateByteSize()>0&&($=$.withResumeToken(I.resumeToken,r)),i=i.insert(M,$),ie=$,de=I,(0===(ee=U).resumeToken.approximateByteSize()||ie.snapshotVersion.toMicroseconds()-ee.snapshotVersion.toMicroseconds()>=3e8||de.addedDocuments.size+de.modifiedDocuments.size+de.removedDocuments.size>0)&&f.push(t.Bs.updateTargetData(s,$))});let _=yo(),b=nn();if(e.documentUpdates.forEach(I=>{e.resolvedLimboDocuments.has(I)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(s,I))}),f.push(cC(s,u,e.documentUpdates).next(I=>{_=I.nr,b=I.sr})),!r.isEqual(It.min())){const I=t.Bs.getLastRemoteSnapshotVersion(s).next(M=>t.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));f.push(I)}return le.waitFor(f).next(()=>u.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,_,b)).next(()=>_)}).then(s=>(t.Ji=i,s))}(t.localStore,e);e.targetChanges.forEach((i,s)=>{const u=t.yc.get(s);u&&(Ct(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?u.fc=!0:i.modifiedDocuments.size>0?Ct(u.fc):i.removedDocuments.size>0&&(Ct(u.fc),u.fc=!1))}),yield iu(t,r,e)}catch(r){yield Ll(r)}}),FC.apply(this,arguments)}function qT(n,e,t){const r=et(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.wc.forEach((s,u)=>{const f=u.view.Mu(e);f.snapshot&&i.push(f.snapshot)}),function(s,u){const f=et(s);f.onlineState=u;let _=!1;f.queries.forEach((b,I)=>{for(const M of I.listeners)M.Mu(u)&&(_=!0)}),_&&Em(f)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function PC(n,e,t){return Cm.apply(this,arguments)}function Cm(){return Cm=(0,ve.Z)(function*(n,e,t){const r=et(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.yc.get(e),s=i&&i.key;if(s){let u=new Kn(Je.comparator);u=u.insert(s,Hn.newNoDocument(s,It.min()));const f=nn().add(s),_=new Ed(It.min(),new Map,new Kn(Ht),u,f);yield NC(r,_),r.gc=r.gc.remove(s),r.yc.delete(e),xm(r)}else yield Sf(r.localStore,e,!1).then(()=>ru(r,e,t)).catch(Ll)}),Cm.apply(this,arguments)}function Dm(n,e){return Gb.apply(this,arguments)}function Gb(){return Gb=(0,ve.Z)(function*(n,e){const t=et(n),r=e.batch.batchId;try{const i=yield function IT(n,e){const t=et(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.Zi.newChangeBuffer({trackRemovals:!0});return function(u,f,_,b){const I=_.batch,M=I.keys();let U=le.resolve();return M.forEach($=>{U=U.next(()=>b.getEntry(f,$)).next(ee=>{const ie=_.docVersions.get($);Ct(null!==ie),ee.version.compareTo(ie)<0&&(I.applyToRemoteDocument(ee,_),ee.isValidDocument()&&(ee.setReadTime(_.commitVersion),b.addEntry(ee)))})}),U.next(()=>u.mutationQueue.removeMutationBatch(f,I))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let f=nn();for(let _=0;_<u.mutationResults.length;++_)u.mutationResults[_].transformResults.length>0&&(f=f.add(u.batch.mutations[_].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);Yb(t,r,null),Kb(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield iu(t,i)}catch(i){yield Ll(i)}}),Gb.apply(this,arguments)}function qb(n,e,t){return Wb.apply(this,arguments)}function Wb(){return Wb=(0,ve.Z)(function*(n,e,t){const r=et(n);try{const i=yield function(s,u){const f=et(s);return f.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let b;return f.mutationQueue.lookupMutationBatch(_,u).next(I=>(Ct(null!==I),b=I.keys(),f.mutationQueue.removeMutationBatch(_,I))).next(()=>f.mutationQueue.performConsistencyCheck(_)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(_,b,u)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,b)).next(()=>f.localDocuments.getDocuments(_,b))})}(r.localStore,e);Yb(r,e,t),Kb(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield iu(r,i)}catch(i){yield Ll(i)}}),Wb.apply(this,arguments)}function Zb(){return Zb=(0,ve.Z)(function*(n,e){const t=et(n);eu(t.remoteStore)||Ue("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(s){const u=et(s);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>u.mutationQueue.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===r)return void e.resolve();const i=t.Ec.get(r)||[];i.push(e),t.Ec.set(r,i)}catch(r){const i=Ql(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),Zb.apply(this,arguments)}function Kb(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function Yb(n,e,t){const r=et(n);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function ru(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||Qb(n,r)})}function Qb(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(S_(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),xm(n))}function P_(n,e,t){for(const r of t)r instanceof O_?(n.Ic.addReference(r.key,e),L_(n,r)):r instanceof Hb?(Ue("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||Qb(n,r.key)):ht()}function L_(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(Ue("SyncEngine","New document in limbo: "+t),n.mc.add(r),xm(n))}function xm(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new Je(En.fromString(e)),r=n.Ac.next();n.yc.set(r,new RC(t)),n.gc=n.gc.insert(t,r),T_(n.remoteStore,new Zl(zi(Js(t.path)),r,"TargetPurposeLimboResolution",vi.ct))}}function iu(n,e,t){return V_.apply(this,arguments)}function V_(){return V_=(0,ve.Z)(function*(n,e,t){const r=et(n),i=[],s=[],u=[];var f;r.wc.isEmpty()||(r.wc.forEach((f,_)=>{u.push(r.Rc(_,e,t).then(b=>{if((b||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(_.targetId,b?.fromCache?"not-current":"current"),b){i.push(b);const I=C_.Li(_.targetId,b);s.push(I)}}))}),yield Promise.all(u),r.dc.nu(i),yield(f=(0,ve.Z)(function*(_,b){const I=et(_);try{yield I.persistence.runTransaction("notifyLocalViewChanges","readwrite",M=>le.forEach(b,U=>le.forEach(U.Fi,$=>I.persistence.referenceDelegate.addReference(M,U.targetId,$)).next(()=>le.forEach(U.Bi,$=>I.persistence.referenceDelegate.removeReference(M,U.targetId,$)))))}catch(M){if(!zo(M))throw M;Ue("LocalStore","Failed to update sequence numbers: "+M)}for(const M of b){const U=M.targetId;if(!M.fromCache){const $=I.Ji.get(U),ie=$.withLastLimboFreeSnapshotVersion($.snapshotVersion);I.Ji=I.Ji.insert(U,ie)}}}),function(_,b){return f.apply(this,arguments)})(r.localStore,s))}),V_.apply(this,arguments)}function WT(n,e){return B_.apply(this,arguments)}function B_(){return B_=(0,ve.Z)(function*(n,e){const t=et(n);if(!t.currentUser.isEqual(e)){Ue("SyncEngine","User change. New user:",e.toKey());const r=yield lC(t.localStore,e);t.currentUser=e,(i=t).Ec.forEach(u=>{u.forEach(f=>{f.reject(new ke(me.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield iu(t,r.er)}var i}),B_.apply(this,arguments)}function Lf(n,e){const t=et(n),r=t.yc.get(e);if(r&&r.fc)return nn().add(r.key);{let i=nn();const s=t._c.get(e);if(!s)return i;for(const u of s){const f=t.wc.get(u);i=i.unionWith(f.view.nc)}return i}}function ZT(n,e){return U_.apply(this,arguments)}function U_(){return U_=(0,ve.Z)(function*(n,e){const t=et(n),r=yield D_(t.localStore,e.query,!0),i=e.view.hc(r);return t.isPrimaryClient&&P_(t,e.targetId,i.cc),i}),U_.apply(this,arguments)}function Jb(n,e){return VC.apply(this,arguments)}function VC(){return VC=(0,ve.Z)(function*(n,e){const t=et(n);return yb(t.localStore,e).then(r=>iu(t,r))}),VC.apply(this,arguments)}function KT(n,e,t,r){return BC.apply(this,arguments)}function BC(){return BC=(0,ve.Z)(function*(n,e,t,r){const i=et(n),s=yield function(u,f){const _=et(u),b=et(_.mutationQueue);return _.persistence.runTransaction("Lookup mutation documents","readonly",I=>b.Sn(I,f).next(M=>M?_.localDocuments.getDocuments(I,M):le.resolve(null)))}(i.localStore,e);var f;null!==s?("pending"===t?yield kd(i.remoteStore):"acknowledged"===t||"rejected"===t?(Yb(i,e,r||null),Kb(i,e),f=e,et(et(i.localStore).mutationQueue).Cn(f)):ht(),yield iu(i,s)):Ue("SyncEngine","Cannot apply mutation batch with id: "+e)}),BC.apply(this,arguments)}function Xb(){return Xb=(0,ve.Z)(function*(n,e){const t=et(n);if(z_(t),n0(t),!0===e&&!0!==t.vc){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield UC(t,r.toArray());t.vc=!0,yield ym(t.remoteStore,!0);for(const s of i)T_(t.remoteStore,s)}else if(!1===e&&!1!==t.vc){const r=[];let i=Promise.resolve();t._c.forEach((s,u)=>{t.sharedClientState.isLocalQueryTarget(u)?r.push(u):i=i.then(()=>(ru(t,u),Sf(t.localStore,u,!0))),S_(t.remoteStore,u)}),yield i,yield UC(t,r),function(s){const u=et(s);u.yc.forEach((f,_)=>{S_(u.remoteStore,_)}),u.Ic.Ts(),u.yc=new Map,u.gc=new Kn(Je.comparator)}(t),t.vc=!1,yield ym(t.remoteStore,!1)}}),Xb.apply(this,arguments)}function UC(n,e,t){return H_.apply(this,arguments)}function H_(){return H_=(0,ve.Z)(function*(n,e,t){const r=et(n),i=[],s=[];for(const u of e){let f;const _=r._c.get(u);if(_&&0!==_.length){f=yield Tf(r.localStore,zi(_[0]));for(const b of _){const I=r.wc.get(b),M=yield ZT(r,I);M.snapshot&&s.push(M.snapshot)}}else{const b=yield uC(r.localStore,u);f=yield Tf(r.localStore,b),yield zb(r,e0(b),u,!1,f.resumeToken)}i.push(f)}return r.dc.nu(s),i}),H_.apply(this,arguments)}function e0(n){return yd(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function QT(n){const e=et(n);return et(et(e.localStore).persistence).$i()}function HC(n,e,t,r){return j_.apply(this,arguments)}function j_(){return j_=(0,ve.Z)(function*(n,e,t,r){const i=et(n);if(i.vc)return void Ue("SyncEngine","Ignoring unexpected query state notification.");const s=i._c.get(e);if(s&&s.length>0)switch(t){case"current":case"not-current":{const u=yield yb(i.localStore,Ov(s[0])),f=Ed.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,$r.EMPTY_BYTE_STRING);yield iu(i,u,f);break}case"rejected":yield Sf(i.localStore,e,!0),ru(i,e,r);break;default:ht()}}),j_.apply(this,arguments)}function JT(n,e,t){return t0.apply(this,arguments)}function t0(){return t0=(0,ve.Z)(function*(n,e,t){const r=z_(n);if(r.vc){for(const i of e){if(r._c.has(i)){Ue("SyncEngine","Adding an already active target "+i);continue}const s=yield uC(r.localStore,i),u=yield Tf(r.localStore,s);yield zb(r,e0(s),u.targetId,!1,u.resumeToken),T_(r.remoteStore,u)}for(const i of t)r._c.has(i)&&(yield Sf(r.localStore,i,!1).then(()=>{S_(r.remoteStore,i),ru(r,i)}).catch(Ll))}}),t0.apply(this,arguments)}function z_(n){const e=et(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=NC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Lf.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=PC.bind(null,e),e.dc.nu=SC.bind(null,e.eventManager),e.dc.Pc=Vb.bind(null,e.eventManager),e}function n0(n){const e=et(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Dm.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=qb.bind(null,e),e}class Vf{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ve.Z)(function*(){t.serializer=kf(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return aC(this.persistence,new mb,e.initialUser,this.serializer)}createPersistence(e){return new db(w_.zs,this.serializer)}createSharedClientState(e){return new pC}terminate(){var e=this;return(0,ve.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class $_ extends Vf{constructor(e,t,r){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,ve.Z)(function*(){yield t().call(r,e),yield r.Vc.initialize(r,e),yield n0(r.Vc.syncEngine),yield kd(r.Vc.remoteStore),yield r.persistence.Ii(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return aC(this.persistence,new mb,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new cb(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const r=new jg(t,this.persistence);return new FI(e.asyncQueue,r)}createPersistence(e){const t=pb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Xr.withCacheSize(this.cacheSizeBytes):Xr.DEFAULT;return new E_(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,x_(),I_(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new pC}}class $C extends $_{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,ve.Z)(function*(){yield t().call(r,e);const i=r.Vc.syncEngine;r.sharedClientState instanceof pm&&(r.sharedClientState.syncEngine={jr:KT.bind(null,i),zr:HC.bind(null,i),Wr:JT.bind(null,i),$i:QT.bind(null,i),Qr:Jb.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.Ii(function(){var s=(0,ve.Z)(function*(u){yield function YT(n,e){return Xb.apply(this,arguments)}(r.Vc.syncEngine,u),r.gcScheduler&&(u&&!r.gcScheduler.started?r.gcScheduler.start():u||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(u&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():u||r.indexBackfillerScheduler.stop())});return function(u){return s.apply(this,arguments)}}())})()}createSharedClientState(e){const t=x_();if(!pm.D(t))throw new ke(me.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=pb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new pm(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class Bf{initialize(e,t){var r=this;return(0,ve.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>qT(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=WT.bind(null,r.syncEngine),yield ym(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new TC}createDatastore(e){const t=kf(e.databaseInfo.databaseId),r=new MT(e.databaseInfo);return new vC(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,s=f=>qT(this.syncEngine,f,0),u=Md.D()?new Md:new mC,new OT(t,r,i,s,u);var t,r,i,s,u}createSyncEngine(e,t){return function(r,i,s,u,f,_,b){const I=new GT(r,i,s,u,f,_);return b&&(I.vc=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ve.Z)(function*(t){const r=et(t);Ue("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield Rd(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function XT(n,e=10240){let t=0;return{read:()=>(0,ve.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,ve.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Im{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):jr("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class ER{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new ui,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(r=>{r&&r.Qu()?this.metadata.resolve(r.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Gu)}`))},r=>this.metadata.reject(r))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,ve.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,ve.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,ve.Z)(function*(){const t=yield e.kc();if(null===t)return null;const r=e.xc.decode(t),i=Number(r);isNaN(i)&&e.Mc(`length string (${r}) is not valid number`);const s=yield e.$c(i);return new zT(JSON.parse(s),t.length+i)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,ve.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}$c(e){var t=this;return(0,ve.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const r=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,ve.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class CR{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ve.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new ke(me.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,ve.Z)(function*(s,u){const f=et(s),_=gf(f.serializer)+"/documents",b={documents:u.map($=>pf(f.serializer,$))},I=yield f.vo("BatchGetDocuments",_,b,u.length),M=new Map;I.forEach($=>{const ee=function OE(n,e){return"found"in e?function(t,r){Ct(!!r.found);const i=na(t,r.found.name),s=Or(r.found.updateTime),u=r.found.createTime?Or(r.found.createTime):It.min(),f=new Mi({mapValue:{fields:r.found.fields}});return Hn.newFoundDocument(i,s,u,f)}(n,e):"missing"in e?function(t,r){Ct(!!r.missing),Ct(!!r.readTime);const i=na(t,r.missing),s=Or(r.readTime);return Hn.newNoDocument(i,s)}(n,e):ht()}(f.serializer,$);M.set(ee.key.toString(),ee)});const U=[];return u.forEach($=>{const ee=M.get($.toString());Ct(!!ee),U.push(ee)}),U}),function(s,u){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new hf(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ve.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const s=Je.fromPath(i);e.mutations.push(new jv(s,e.precondition(s)))}),yield(r=(0,ve.Z)(function*(i,s){const u=et(i),f=gf(u.serializer)+"/documents",_={writes:s.map(b=>_f(u.serializer,b))};yield u.Io("Commit",f,_)}),function(i,s){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ht();t=It.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new ke(me.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(It.min())?ar.exists(!1):ar.updateTime(t):ar.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(It.min()))throw new ke(me.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ar.updateTime(t)}return ar.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class DR{constructor(e,t,r,i,s){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=s,this.Bc=r.maxAttempts,this.qo=new gm(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,ve.Z)(function*(){const t=new CR(e.datastore),r=e.qc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(s=>{e.Uc(s)}))}).catch(i=>{e.Uc(i)})}))}qc(e){try{const t=this.updateFunction(e);return!dd(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!IE(t)}return!1}}class xR{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Nn.UNAUTHENTICATED,this.clientId=jw.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var u=(0,ve.Z)(function*(f){Ue("FirestoreClient","Received user=",f.uid),yield s.authCredentialListener(f),s.user=f});return function(f){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(r,u=>(Ue("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var e=this;return(0,ve.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ke(me.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new ui;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ve.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Ql(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function r0(n,e){return GC.apply(this,arguments)}function GC(){return GC=(0,ve.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ue("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,ve.Z)(function*(s){r.isEqual(s)||(yield lC(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),GC.apply(this,arguments)}function qC(n,e){return WC.apply(this,arguments)}function WC(){return WC=(0,ve.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield ZC(n);Ue("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>ra(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>ra(e.remoteStore,s)),n._onlineComponents=e}),WC.apply(this,arguments)}function Tm(n){return"FirebaseError"===n.name?n.code===me.FAILED_PRECONDITION||n.code===me.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function ZC(n){return G_.apply(this,arguments)}function G_(){return G_=(0,ve.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ue("FirestoreClient","Using user provided OfflineComponentProvider");try{yield r0(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!Tm(t))throw t;Uo("Error using user provided cache. Falling back to memory cache: "+t),yield r0(n,new Vf)}}else Ue("FirestoreClient","Using default OfflineComponentProvider"),yield r0(n,new Vf);return n._offlineComponents}),G_.apply(this,arguments)}function Fd(n){return q_.apply(this,arguments)}function q_(){return q_=(0,ve.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ue("FirestoreClient","Using user provided OnlineComponentProvider"),yield qC(n,n._uninitializedComponentsProvider._online)):(Ue("FirestoreClient","Using default OnlineComponentProvider"),yield qC(n,new Bf))),n._onlineComponents}),q_.apply(this,arguments)}function o0(n){return ZC(n).then(e=>e.persistence)}function s0(n){return ZC(n).then(e=>e.localStore)}function W_(n){return Fd(n).then(e=>e.remoteStore)}function Z_(n){return Fd(n).then(e=>e.syncEngine)}function Sm(n){return a0.apply(this,arguments)}function a0(){return a0=(0,ve.Z)(function*(n){const e=yield Fd(n),t=e.eventManager;return t.onListen=kC.bind(null,e.syncEngine),t.onUnlisten=OC.bind(null,e.syncEngine),t}),a0.apply(this,arguments)}function YC(n,e,t={}){const r=new ui;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function(i,s,u,f,_){const b=new Im({next:M=>{s.enqueueAndForget(()=>bm(i,I));const U=M.docs.has(u);!U&&M.fromCache?_.reject(new ke(me.UNAVAILABLE,"Failed to get document because the client is offline.")):U&&M.fromCache&&f&&"server"===f.source?_.reject(new ke(me.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(M)},error:M=>_.reject(M)}),I=new Bb(Js(u.path),b,{includeMetadataChanges:!0,Ku:!0});return vm(i,I)}(yield Sm(n),n.asyncQueue,e,t,r)})),r.promise}function nS(n,e,t={}){const r=new ui;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function(i,s,u,f,_){const b=new Im({next:M=>{s.enqueueAndForget(()=>bm(i,I)),M.fromCache&&"server"===f.source?_.reject(new ke(me.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(M)},error:M=>_.reject(M)}),I=new Bb(u,b,{includeMetadataChanges:!0,Ku:!0});return vm(i,I)}(yield Sm(n),n.asyncQueue,e,t,r)})),r.promise}function sS(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const QC=new Map;function Y_(n,e,t){if(!t)throw new ke(me.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function l0(n,e,t,r){if(!0===e&&!0===r)throw new ke(me.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function aS(n){if(!Je.isDocumentKey(n))throw new ke(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function xs(n){if(Je.isDocumentKey(n))throw new ke(me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Q_(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":ht()}function dn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ke(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Q_(n);throw new ke(me.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function JC(n,e){if(e<=0)throw new ke(me.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class lS{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new ke(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ke(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}l0("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=sS(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new ke(me.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ke(me.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ke(me.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $i{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lS({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ke(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ke(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lS(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Bw;switch(t.type){case"firstParty":return new RI(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new ke(me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=QC.get(e);t&&(Ue("ComponentProvider","Removing Datastore"),QC.delete(e),t.terminate())}(this),Promise.resolve()}}function XC(n,e,t,r={}){var i;const s=(n=dn(n,$i))._getSettings(),u=`${e}:${t}`;if("firestore.googleapis.com"!==s.host&&s.host!==u&&Uo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:u,ssl:!1})),r.mockUserToken){let f,_;if("string"==typeof r.mockUserToken)f=r.mockUserToken,_=Nn.MOCK_USER;else{f=(0,un.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new ke(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Nn(b)}n._authCredentials=new AI(new Vw(f,_))}}class jn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $a(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new jn(this.firestore,e,this._key)}}class ki{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ki(this.firestore,e,this._query)}}class $a extends ki{constructor(e,t,r){super(e,t,Js(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new jn(this.firestore,null,new Je(e))}withConverter(e){return new $a(this.firestore,e,this._path)}}function J_(n,e,...t){if(n=(0,un.m9)(n),Y_("collection","path",e),n instanceof $i){const r=En.fromString(e,...t);return xs(r),new $a(n,null,r)}{if(!(n instanceof jn||n instanceof $a))throw new ke(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(En.fromString(e,...t));return xs(r),new $a(n.firestore,null,r)}}function Am(n,e,...t){if(n=(0,un.m9)(n),1===arguments.length&&(e=jw.A()),Y_("doc","path",e),n instanceof $i){const r=En.fromString(e,...t);return aS(r),new jn(n,null,new Je(r))}{if(!(n instanceof jn||n instanceof $a))throw new ke(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(En.fromString(e,...t));return aS(r),new jn(n.firestore,n instanceof $a?n.converter:null,new Je(r))}}function tD(n,e){return n=(0,un.m9)(n),e=(0,un.m9)(e),(n instanceof jn||n instanceof $a)&&(e instanceof jn||e instanceof $a)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function X_(n,e){return n=(0,un.m9)(n),e=(0,un.m9)(e),n instanceof ki&&e instanceof ki&&n.firestore===e.firestore&&cf(n._query,e._query)&&n.converter===e.converter}class nD{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new gm(this,"async_queue_retry"),this.Xc=()=>{const t=I_();t&&Ue("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=I_();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=I_();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new ui;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,ve.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!zo(t))throw t;Ue("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,jr("INTERNAL UNHANDLED ERROR: ",function(s){let u=s.message||"";return s.stack&&(u=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),u}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const i=Lb.createAndSchedule(this,e,t,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&ht()}verifyOperationInProgress(){}sa(){var e=this;return(0,ve.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function c0(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class rD{constructor(){this._progressObserver={},this._taskCompletionResolver=new ui,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class zn extends $i{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new nD,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||ey(this),this._firestoreClient.terminate()}}function su(n,e){const t="object"==typeof n?n:(0,Ui.getApp)(),r="string"==typeof n?n:e||"(default)",i=(0,Ui._getProvider)(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(0,un.P0)("firestore");s&&XC(i,...s)}return i}function Nr(n){return n._firestoreClient||ey(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function ey(n){var e,t,r;const i=n._freezeSettings(),s=(f=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new gR(n._databaseId,f,n._persistenceKey,(b=i).host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,sS(b.experimentalLongPollingOptions),b.useFetchStreams));var f,b;n._firestoreClient=new xR(n._authCredentials,n._appCheckCredentials,n._queue,s),null!==(t=i.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function dS(n,e,t){const r=new ui;return n.asyncQueue.enqueue((0,ve.Z)(function*(){try{yield r0(n,t),yield qC(n,e),r.resolve()}catch(i){const s=i;if(!Tm(s))throw s;Uo("Error enabling indexeddb cache. Falling back to memory cache: "+s),r.reject(s)}})).then(()=>r.promise)}function sD(n){if(n._initialized||n._terminated)throw new ke(me.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Is{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Is($r.fromBase64String(e))}catch(t){throw new ke(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Is($r.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ga{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new ke(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class au{constructor(e){this._methodName=e}}class Mm{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ke(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ke(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ht(this._lat,e._lat)||Ht(this._long,e._long)}}const aD=/^__.*__$/;class ty{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new ql(e,this.data,this.fieldMask,t,this.fieldTransforms):new qc(e,this.data,t,this.fieldTransforms)}}class Rm{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new ql(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function u0(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ht()}}class ny{constructor(e,t,r,i,s,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=u||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new ny(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Nm(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(u0(this.ca)&&aD.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class yS{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||kf(e)}ya(e,t,r,i=!1){return new ny({ca:e,methodName:t,ga:r,path:zr.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Hf(n){const e=n._freezeSettings(),t=kf(n._databaseId);return new yS(n._databaseId,!!e.ignoreUndefinedProperties,t)}function d0(n,e,t,r,i,s={}){const u=n.ya(s.merge||s.mergeFields?2:0,e,t,i);p0("Data must be an object, but it was:",u,r);const f=uD(r,u);let _,b;if(s.merge)_=new mo(u.fieldMask),b=u.fieldTransforms;else if(s.mergeFields){const I=[];for(const M of s.mergeFields){const U=Om(e,M,t);if(!u.contains(U))throw new ke(me.INVALID_ARGUMENT,`Field '${U}' is specified in your field mask but missing from your input data.`);iy(I,U)||I.push(U)}_=new mo(I),b=u.fieldTransforms.filter(M=>_.covers(M.field))}else _=null,b=u.fieldTransforms;return new ty(new Mi(f),_,b)}class ry extends au{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ry}}function h0(n,e,t){return new ny({ca:3,ga:e.settings.ga,methodName:n._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class f0 extends au{_toFieldTransform(e){return new df(e.path,new uf)}isEqual(e){return e instanceof f0}}class vS extends au{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=h0(this,e,!0),r=this.pa.map(s=>jf(s,t)),i=new zc(r);return new df(e.path,i)}isEqual(e){return this===e}}class bS extends au{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=h0(this,e,!0),r=this.pa.map(s=>jf(s,t)),i=new $c(r);return new df(e.path,i)}isEqual(e){return this===e}}class MR extends au{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new bd(e.serializer,bE(e.serializer,this.Ia));return new df(e.path,t)}isEqual(e){return this===e}}function lD(n,e,t,r){const i=n.ya(1,e,t);p0("Data must be an object, but it was:",i,r);const s=[],u=Mi.empty();Pc(r,(_,b)=>{const I=qa(e,_,t);b=(0,un.m9)(b);const M=i.da(I);if(b instanceof ry)s.push(I);else{const U=jf(b,M);null!=U&&(s.push(I),u.set(I,U))}});const f=new mo(s);return new Rm(u,f,i.fieldTransforms)}function cD(n,e,t,r,i,s){const u=n.ya(1,e,t),f=[Om(e,r,t)],_=[i];if(s.length%2!=0)throw new ke(me.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let U=0;U<s.length;U+=2)f.push(Om(e,s[U])),_.push(s[U+1]);const b=[],I=Mi.empty();for(let U=f.length-1;U>=0;--U)if(!iy(b,f[U])){const $=f[U];let ee=_[U];ee=(0,un.m9)(ee);const ie=u.da($);if(ee instanceof ry)b.push($);else{const de=jf(ee,ie);null!=de&&(b.push($),I.set($,de))}}const M=new mo(b);return new Rm(I,M,u.fieldTransforms)}function wS(n,e,t,r=!1){return jf(t,n.ya(r?4:3,e))}function jf(n,e){if(km(n=(0,un.m9)(n)))return p0("Unsupported field value:",e,n),uD(n,e);if(n instanceof au)return function(t,r){if(!u0(r.ca))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,r){const i=[];let s=0;for(const u of t){let f=jf(u,r.wa(s));null==f&&(f={nullValue:"NULL_VALUE"}),i.push(f),s++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,un.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return bE(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=br.fromDate(t);return{timestampValue:Wc(r.serializer,i)}}if(t instanceof br){const i=new br(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Wc(r.serializer,i)}}if(t instanceof Mm)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Is)return{bytesValue:ff(r.serializer,t._byteString)};if(t instanceof jn){const i=r.databaseId,s=t.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Kv(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${Q_(t)}`)}(n,e)}function uD(n,e){const t={};return iE(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Pc(n,(r,i)=>{const s=jf(i,e.ha(r));null!=s&&(t[r]=s)}),{mapValue:{fields:t}}}function km(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof br||n instanceof Mm||n instanceof Is||n instanceof jn||n instanceof au)}function p0(n,e,t){if(!km(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Q_(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function Om(n,e,t){if((e=(0,un.m9)(e))instanceof Ga)return e._internalPath;if("string"==typeof e)return qa(n,e);throw Nm("Field path arguments must be of type string or ",n,!1,void 0,t)}const dD=new RegExp("[~\\*/\\[\\]]");function qa(n,e,t){if(e.search(dD)>=0)throw Nm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ga(...e.split("."))._internalPath}catch{throw Nm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Nm(n,e,t,r,i){const s=r&&!r.isEmpty(),u=void 0!==i;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let _="";return(s||u)&&(_+=" (found",s&&(_+=` in field ${r}`),u&&(_+=` in document ${i}`),_+=")"),new ke(me.INVALID_ARGUMENT,f+n+_)}function iy(n,e){return n.some(t=>t.isEqual(e))}class Pd{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new jn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new ES(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(zf("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class ES extends Pd{data(){return super.data()}}function zf(n,e){return"string"==typeof e?qa(n,e):e instanceof Ga?e._internalPath:e._delegate._internalPath}function oy(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new ke(me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $f{}class sy extends $f{}function Ld(n,e,...t){let r=[];e instanceof $f&&r.push(e),r=r.concat(t),function(i){const s=i.filter(f=>f instanceof Vd).length,u=i.filter(f=>f instanceof ay).length;if(s>1||s>0&&u>0)throw new ke(me.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class ay extends sy{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new ay(e,t,r)}_apply(e){const t=this._parse(e);return xS(e._query,t),new ki(e.firestore,e.converter,Xg(e._query,t))}_parse(e){const t=Hf(e.firestore);return function(i,s,u,f,_,b,I){let M;if(_.isKeyField()){if("array-contains"===b||"array-contains-any"===b)throw new ke(me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if("in"===b||"not-in"===b){_D(I,b);const U=[];for(const $ of I)U.push(gD(f,i,$));M={arrayValue:{values:U}}}else M=gD(f,i,I)}else"in"!==b&&"not-in"!==b&&"array-contains-any"!==b||_D(I,b),M=wS(u,"where",I,"in"===b||"not-in"===b);return _n.create(_,b,M)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Vd extends $f{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Vd(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:Mn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,i){let s=r;const u=i.getFlattenedFilters();for(const f of u)xS(s,f),s=Xg(s,f)}(e._query,t),new ki(e.firestore,e.converter,Xg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class m0 extends sy{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new m0(e,t)}_apply(e){const t=function(r,i,s){if(null!==r.startAt)throw new ke(me.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new ke(me.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new sf(i,s);return function(f,_){if(null===Qg(f)){const b=Yp(f);null!==b&&IS(0,b,_.field)}}(r,u),u}(e._query,this._field,this._direction);return new ki(e.firestore,e.converter,function(r,i){const s=r.explicitOrderBy.concat([i]);return new _o(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class Fm extends sy{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new Fm(e,t,r)}_apply(e){return new ki(e.firestore,e.converter,Qp(e._query,this._limit,this._limitType))}}class ly extends sy{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new ly(e,t,r)}_apply(e){const t=cy(e,this.type,this._docOrFields,this._inclusive);return new ki(e.firestore,e.converter,(i=t,new _o((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class Gf extends sy{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new Gf(e,t,r)}_apply(e){const t=cy(e,this.type,this._docOrFields,this._inclusive);return new ki(e.firestore,e.converter,(i=t,new _o((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function cy(n,e,t,r){if(t[0]=(0,un.m9)(t[0]),t[0]instanceof Pd)return function(i,s,u,f,_){if(!f)throw new ke(me.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const b=[];for(const I of Uc(i))if(I.field.isKeyField())b.push(Vc(s,f.key));else{const M=f.data.field(I.field);if(fd(M))throw new ke(me.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+I.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===M){const U=I.field.canonicalString();throw new ke(me.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${U}' (used as the orderBy) does not exist.`)}b.push(M)}return new Bc(b,_)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Hf(n.firestore);return function(s,u,f,_,b,I){const M=s.explicitOrderBy;if(b.length>M.length)throw new ke(me.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const U=[];for(let $=0;$<b.length;$++){const ee=b[$];if(M[$].field.isKeyField()){if("string"!=typeof ee)throw new ke(me.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof ee}`);if(!Jg(s)&&-1!==ee.indexOf("/"))throw new ke(me.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${ee}' contains a slash.`);const ie=s.path.child(En.fromString(ee));if(!Je.isDocumentKey(ie))throw new ke(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${ie}' is not because it contains an odd number of segments.`);const de=new Je(ie);U.push(Vc(u,de))}else{const ie=wS(f,_,ee);U.push(ie)}}return new Bc(U,I)}(n._query,n.firestore._databaseId,i,e,t,r)}}function gD(n,e,t){if("string"==typeof(t=(0,un.m9)(t))){if(""===t)throw new ke(me.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Jg(e)&&-1!==t.indexOf("/"))throw new ke(me.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(En.fromString(t));if(!Je.isDocumentKey(r))throw new ke(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Vc(n,new Je(r))}if(t instanceof jn)return Vc(n,t._key);throw new ke(me.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Q_(t)}.`)}function _D(n,e){if(!Array.isArray(n)||0===n.length)throw new ke(me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function xS(n,e){if(e.isInequality()){const r=Yp(n),i=e.field;if(null!==r&&!r.isEqual(i))throw new ke(me.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=Qg(n);null!==s&&IS(0,i,s)}const t=function(r,i){for(const s of r)for(const u of s.getFlattenedFilters())if(i.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new ke(me.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function IS(n,e,t){if(!t.isEqual(e))throw new ke(me.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class g0{convertValue(e,t="none"){switch(Hl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return sr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Es(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ht()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Pc(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new Mm(sr(e.latitude),sr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Dv(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(pd(e));default:return null}}convertTimestamp(e){const t=Lc(e);return new br(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=En.fromString(e);Ct(VE(r));const i=new Bl(r.get(1),r.get(3)),s=new Je(r.popFirst(5));return i.isEqual(t)||jr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function uy(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class FR extends g0{constructor(e){super(),this.firestore=e}convertBytes(e){return new Is(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new jn(this.firestore,null,t)}}class qf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class lu extends Pd{constructor(e,t,r,i,s,u){super(e,t,r,i,u),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new dy(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(zf("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class dy extends lu{data(e={}){return super.data(e)}}class Bd{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new qf(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new dy(this._firestore,this._userDataWriter,r.key,r,new qf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ke(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(u=>({type:"added",doc:new dy(r._firestore,r._userDataWriter,u.doc.key,u.doc,new qf(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(u=>i||3!==u.type).map(u=>{const f=new dy(r._firestore,r._userDataWriter,u.doc.key,u.doc,new qf(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);let _=-1,b=-1;return 0!==u.type&&(_=s.indexOf(u.doc.key),s=s.delete(u.doc.key)),1!==u.type&&(s=s.add(u.doc),b=s.indexOf(u.doc.key)),{type:VR(u.type),doc:f,oldIndex:_,newIndex:b}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function VR(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ht()}}function o(n,e){return n instanceof lu&&e instanceof lu?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Bd&&e instanceof Bd&&n._firestore===e._firestore&&X_(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class c extends g0{constructor(e){super(),this.firestore=e}convertBytes(e){return new Is(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new jn(this.firestore,null,t)}}function x(n,e,t){n=dn(n,jn);const r=dn(n.firestore,zn),i=uy(n.converter,e,t);return De(r,[d0(Hf(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,ar.none())])}function T(n,e,t,...r){n=dn(n,jn);const i=dn(n.firestore,zn),s=Hf(i);let u;return u="string"==typeof(e=(0,un.m9)(e))||e instanceof Ga?cD(s,"updateDoc",n._key,e,t,r):lD(s,"updateDoc",n._key,e),De(i,[u.toMutation(n._key,ar.exists(!0))])}function Q(n,...e){var t,r,i;n=(0,un.m9)(n);let s={includeMetadataChanges:!1},u=0;"object"!=typeof e[u]||c0(e[u])||(s=e[u],u++);const f={includeMetadataChanges:s.includeMetadataChanges};if(c0(e[u])){const M=e[u];e[u]=null===(t=M.next)||void 0===t?void 0:t.bind(M),e[u+1]=null===(r=M.error)||void 0===r?void 0:r.bind(M),e[u+2]=null===(i=M.complete)||void 0===i?void 0:i.bind(M)}let _,b,I;if(n instanceof jn)b=dn(n.firestore,zn),I=Js(n._key.path),_={next:M=>{e[u]&&e[u]($e(b,n,M))},error:e[u+1],complete:e[u+2]};else{const M=dn(n,ki);b=dn(M.firestore,zn),I=M._query;const U=new c(b);_={next:$=>{e[u]&&e[u](new Bd(b,U,M,$))},error:e[u+1],complete:e[u+2]},oy(n._query)}return function(M,U,$,ee){const ie=new Im(ee),de=new Bb(U,ie,$);return M.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return vm(yield Sm(M),de)})),()=>{ie.Dc(),M.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return bm(yield Sm(M),de)}))}}(Nr(b),I,f,_)}function De(n,e){return function(t,r){const i=new ui;return t.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function Pf(n,e,t){return $b.apply(this,arguments)}(yield Z_(t),r,i)})),i.promise}(Nr(n),e)}function $e(n,e,t){const r=t.docs.get(e._key),i=new c(n);return new lu(n,i,e._key,r,new qf(t.hasPendingWrites,t.fromCache),e.converter)}const SP={maxAttempts:5};class BR{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Hf(e)}set(e,t,r){this._verifyNotCommitted();const i=Wf(e,this._firestore),s=uy(i.converter,t,r),u=d0(this._dataReader,"WriteBatch.set",i._key,s,null!==i.converter,r);return this._mutations.push(u.toMutation(i._key,ar.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const s=Wf(e,this._firestore);let u;return u="string"==typeof(t=(0,un.m9)(t))||t instanceof Ga?cD(this._dataReader,"WriteBatch.update",s._key,t,r,i):lD(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(u.toMutation(s._key,ar.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Wf(e,this._firestore);return this._mutations=this._mutations.concat(new hf(t._key,ar.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ke(me.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Wf(n,e){if((n=(0,un.m9)(n)).firestore!==e)throw new ke(me.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class AP extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Hf(e)}get(e){const t=Wf(e,this._firestore),r=new FR(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return ht();const s=i[0];if(s.isFoundDocument())return new Pd(this._firestore,r,s.key,s,t.converter);if(s.isNoDocument())return new Pd(this._firestore,r,t._key,null,t.converter);throw ht()})}set(e,t,r){const i=Wf(e,this._firestore),s=uy(i.converter,t,r),u=d0(this._dataReader,"Transaction.set",i._key,s,null!==i.converter,r);return this._transaction.set(i._key,u),this}update(e,t,r,...i){const s=Wf(e,this._firestore);let u;return u="string"==typeof(t=(0,un.m9)(t))||t instanceof Ga?cD(this._dataReader,"Transaction.update",s._key,t,r,i):lD(this._dataReader,"Transaction.update",s._key,t),this._transaction.update(s._key,u),this}delete(e){const t=Wf(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Wf(e,this._firestore),r=new c(this._firestore);return super.get(e).then(i=>new lu(this._firestore,r,t._key,i._document,new qf(!1,!1),t.converter))}}!function(n,e=!0){nf=Ui.SDK_VERSION,(0,Ui._registerComponent)(new Dc.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const s=t.getProvider("app").getImmediate(),u=new zn(new Uw(t.getProvider("auth-internal")),new Hw(t.getProvider("app-check-internal")),function(f,_){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new ke(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bl(f.options.projectId,_)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),u._setSettings(i),u},"PUBLIC").setMultipleInstances(!0)),(0,Ui.registerVersion)(Lw,"3.13.0",n),(0,Ui.registerVersion)(Lw,"3.13.0","esm2017")}();function TS(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new ke("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function HR(){if(typeof Uint8Array>"u")throw new ke("unimplemented","Uint8Arrays are not available in this environment.")}function jR(){if(!function qI(){return typeof atob<"u"}())throw new ke("unimplemented","Blobs are unavailable in Firestore in this environment.")}class _0{constructor(e){this._delegate=e}static fromBase64String(e){return jR(),new _0(Is.fromBase64String(e))}static fromUint8Array(e){return HR(),new _0(Is.fromUint8Array(e))}toBase64(){return jR(),this._delegate.toBase64()}toUint8Array(){return HR(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function SS(n){return function VP(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class BP{enableIndexedDbPersistence(e,t){return function iD(n,e){sD(n=dn(n,zn));const t=Nr(n);if(t._uninitializedComponentsProvider)throw new ke(me.FAILED_PRECONDITION,"SDK cache is already specified.");Uo("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=n._freezeSettings(),i=new Bf;return dS(t,i,new $_(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function uS(n){sD(n=dn(n,zn));const e=Nr(n);if(e._uninitializedComponentsProvider)throw new ke(me.FAILED_PRECONDITION,"SDK cache is already specified.");Uo("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),r=new Bf;return dS(e,r,new $C(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function hS(n){if(n._initialized&&!n._terminated)throw new ke(me.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ui;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ve.Z)(function*(){try{yield(t=(0,ve.Z)(function*(r){if(!jo.D())return Promise.resolve();const i=r+"main";yield jo.delete(i)}),function(r){return t.apply(this,arguments)})(pb(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class zR{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Bl||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Uo("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){XC(this._delegate,e,t,r)}enableNetwork(){return function pS(n){return function eS(n){return n.asyncQueue.enqueue((0,ve.Z)(function*(){const e=yield o0(n),t=yield W_(n);return e.setNetworkEnabled(!0),function(r){const i=et(r);return i.vu.delete(0),Of(i)}(t)}))}(Nr(n=dn(n,zn)))}(this._delegate)}disableNetwork(){return function mS(n){return function tS(n){return n.asyncQueue.enqueue((0,ve.Z)(function*(){const e=yield o0(n),t=yield W_(n);return e.setNetworkEnabled(!1),(r=(0,ve.Z)(function*(i){const s=et(i);s.vu.add(0),yield Rd(s),s.bu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(Nr(n=dn(n,zn)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,l0("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function fS(n){return function(e){const t=new ui;return e.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function LC(n,e){return Zb.apply(this,arguments)}(yield Z_(e),t)})),t.promise}(Nr(n=dn(n,zn)))}(this._delegate)}onSnapshotsInSync(e){return function se(n,e){return function TR(n,e){const t=new Im(e);return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return r=yield Sm(n),i=t,et(r).ku.add(i),void i.next();var r,i})),()=>{t.Dc(),n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return r=yield Sm(n),i=t,void et(r).ku.delete(i);var r,i}))}}(Nr(n=dn(n,zn)),c0(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new ke("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new hy(this,J_(this._delegate,e))}catch(t){throw Ko(t,"collection()","Firestore.collection()")}}doc(e){try{return new Wa(this,Am(this._delegate,e))}catch(t){throw Ko(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Yo(this,function eD(n,e){if(n=dn(n,$i),Y_("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ke(me.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ki(n,null,(t=e,new _o(En.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Ko(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function MP(n,e,t){n=dn(n,zn);const r=Object.assign(Object.assign({},SP),t);return function(i){if(i.maxAttempts<1)throw new ke(me.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,s,u){const f=new ui;return i.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){const _=yield function KC(n){return Fd(n).then(e=>e.datastore)}(i);new DR(i.asyncQueue,_,u,s,f).run()})),f.promise}(Nr(n),i=>e(new AP(n,i)),r)}(this._delegate,t=>e(new $R(this,t)))}batch(){return Nr(this._delegate),new GR(new BR(this._delegate,e=>De(this._delegate,e)))}loadBundle(e){return function SR(n,e){const t=Nr(n=dn(n,zn)),r=new rD;return function rS(n,e,t,r){const i=function(s,u){let f;return f="string"==typeof s?TE().encode(s):s,_=function(_,b){if(_ instanceof Uint8Array)return XT(_,b);if(_ instanceof ArrayBuffer)return XT(new Uint8Array(_),b);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new ER(_,u);var _}(t,kf(e));n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){!function jC(n,e,t){const r=et(n);var i;(i=(0,ve.Z)(function*(s,u,f){try{const _=yield u.getMetadata();if(yield function(U,$){const ee=et(U),ie=Or($.createTime);return ee.persistence.runTransaction("hasNewerBundle","readonly",de=>ee.qs.getBundleMetadata(de,$.id)).then(de=>!!de&&de.createTime.compareTo(ie)>=0)}(s.localStore,_))return yield u.close(),f._completeWith({taskState:"Success",documentsLoaded:(U=_).totalDocuments,bytesLoaded:U.totalBytes,totalDocuments:U.totalDocuments,totalBytes:U.totalBytes}),Promise.resolve(new Set);f._updateProgress(Ub(_));const b=new $T(_,s.localStore,u.serializer);let I=yield u.bc();for(;I;){const U=yield b.zu(I);U&&f._updateProgress(U),I=yield u.bc()}const M=yield b.complete();return yield iu(s,M.Ju,void 0),yield function(U,$){const ee=et(U);return ee.persistence.runTransaction("Save bundle","readwrite",ie=>ee.qs.saveBundleMetadata(ie,$))}(s.localStore,_),f._completeWith(M.progress),Promise.resolve(M.Hu)}catch(_){return Uo("SyncEngine",`Loading bundle failed with ${_}`),f._failWith(_),Promise.resolve(new Set)}var U}),function(s,u,f){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield Z_(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function oD(n,e){return function iS(n,e){return n.asyncQueue.enqueue((0,ve.Z)(function*(){return function(t,r){const i=et(t);return i.persistence.runTransaction("Get named query","readonly",s=>i.qs.getNamedQuery(s,r))}(yield s0(n),e)}))}(Nr(n=dn(n,zn)),e).then(t=>t?new ki(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Yo(this,t):null)}}class vD extends g0{constructor(e){super(),this.firestore=e}convertBytes(e){return new _0(new Is(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Wa.forKey(t,this.firestore,null)}}class $R{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new vD(e)}get(e){const t=Lm(e);return this._delegate.get(t).then(r=>new y0(this._firestore,new lu(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=Lm(e);return r?(TS("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const s=Lm(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){const t=Lm(e);return this._delegate.delete(t),this}}class GR{constructor(e){this._delegate=e}set(e,t,r){const i=Lm(e);return r?(TS("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const s=Lm(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){const t=Lm(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Pm{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new dy(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new v0(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Pm.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(t);return s||(s=new Pm(e,new vD(e),t),i.set(t,s)),s}}Pm.INSTANCES=new WeakMap;class Wa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new vD(e)}static forPath(e,t,r){if(e.length%2!=0)throw new ke("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Wa(t,new jn(t._delegate,r,new Je(e)))}static forKey(e,t,r){return new Wa(t,new jn(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new hy(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new hy(this.firestore,J_(this._delegate,e))}catch(t){throw Ko(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,un.m9)(e))instanceof jn&&tD(this._delegate,e)}set(e,t){t=TS("DocumentReference.set",t);try{return t?x(this._delegate,e,t):x(this._delegate,e)}catch(r){throw Ko(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?T(this._delegate,e):T(this._delegate,e,t,...r)}catch(i){throw Ko(i,"updateDoc()","DocumentReference.update()")}}delete(){return function O(n){return De(dn(n.firestore,zn),[new hf(n._key,ar.none())])}(this._delegate)}onSnapshot(...e){const t=qR(e),r=WR(e,i=>new y0(this.firestore,new lu(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return Q(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function d(n){n=dn(n,jn);const e=dn(n.firestore,zn),t=Nr(e),r=new c(e);return function K_(n,e){const t=new ui;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return(r=(0,ve.Z)(function*(i,s,u){try{const f=yield function(_,b){const I=et(_);return I.persistence.runTransaction("read document","readonly",M=>I.localDocuments.getDocument(M,b))}(i,s);f.isFoundDocument()?u.resolve(f):f.isNoDocument()?u.resolve(null):u.reject(new ke(me.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const _=Ql(f,`Failed to get document '${s} from cache`);u.reject(_)}}),function(i,s,u){return r.apply(this,arguments)})(yield s0(n),e,t);var r})),t.promise}(t,n._key).then(i=>new lu(e,r,n._key,i,new qf(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function h(n){n=dn(n,jn);const e=dn(n.firestore,zn);return YC(Nr(e),n._key,{source:"server"}).then(t=>$e(e,n,t))}(this._delegate):function a(n){n=dn(n,jn);const e=dn(n.firestore,zn);return YC(Nr(e),n._key).then(t=>$e(e,n,t))}(this._delegate),t.then(r=>new y0(this.firestore,new lu(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Wa(this.firestore,this._delegate.withConverter(e?Pm.getInstance(this.firestore,e):null))}}function Ko(n,e,t){return n.message=n.message.replace(e,t),n}function qR(n){for(const e of n)if("object"==typeof e&&!SS(e))return e;return{}}function WR(n,e){var t,r;let i;return i=SS(n[0])?n[0]:SS(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{i.next&&i.next(e(s))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class y0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Wa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return o(this._delegate,e._delegate)}}class v0 extends y0{data(e){const t=this._delegate.data(e);return function tn(n,e){n||ht()}(void 0!==t),t}}class Yo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new vD(e)}where(e,t,r){try{return new Yo(this.firestore,Ld(this._delegate,function RR(n,e,t){const r=e,i=zf("where",n);return ay._create(i,r,t)}(e,t,r)))}catch(i){throw Ko(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Yo(this.firestore,Ld(this._delegate,function CS(n,e="asc"){const t=e,r=zf("orderBy",n);return m0._create(r,t)}(e,t)))}catch(r){throw Ko(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Yo(this.firestore,Ld(this._delegate,function hD(n){return JC("limit",n),Fm._create("limit",n,"F")}(e)))}catch(t){throw Ko(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Yo(this.firestore,Ld(this._delegate,function fD(n){return JC("limitToLast",n),Fm._create("limitToLast",n,"L")}(e)))}catch(t){throw Ko(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Yo(this.firestore,Ld(this._delegate,function DS(...n){return ly._create("startAt",n,!0)}(...e)))}catch(t){throw Ko(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Yo(this.firestore,Ld(this._delegate,function pD(...n){return ly._create("startAfter",n,!1)}(...e)))}catch(t){throw Ko(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Yo(this.firestore,Ld(this._delegate,function NR(...n){return Gf._create("endBefore",n,!1)}(...e)))}catch(t){throw Ko(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Yo(this.firestore,Ld(this._delegate,function mD(...n){return Gf._create("endAt",n,!0)}(...e)))}catch(t){throw Ko(t,"endAt()","Query.endAt()")}}isEqual(e){return X_(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function y(n){n=dn(n,ki);const e=dn(n.firestore,zn),t=Nr(e),r=new c(e);return function IR(n,e){const t=new ui;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return(r=(0,ve.Z)(function*(i,s,u){try{const f=yield D_(i,s,!0),_=new jb(s,f.ir),b=_.sc(f.documents),I=_.applyChanges(b,!1);u.resolve(I.snapshot)}catch(f){const _=Ql(f,`Failed to execute query '${s} against cache`);u.reject(_)}}),function(i,s,u){return r.apply(this,arguments)})(yield s0(n),e,t);var r})),t.promise}(t,n._query).then(i=>new Bd(e,r,n,i))}(this._delegate):"server"===e?.source?function C(n){n=dn(n,ki);const e=dn(n.firestore,zn),t=Nr(e),r=new c(e);return nS(t,n._query,{source:"server"}).then(i=>new Bd(e,r,n,i))}(this._delegate):function m(n){n=dn(n,ki);const e=dn(n.firestore,zn),t=Nr(e),r=new c(e);return oy(n._query),nS(t,n._query).then(i=>new Bd(e,r,n,i))}(this._delegate),t.then(r=>new AS(this.firestore,new Bd(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=qR(e),r=WR(e,i=>new AS(this.firestore,new Bd(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return Q(this._delegate,t,r)}withConverter(e){return new Yo(this.firestore,this._delegate.withConverter(e?Pm.getInstance(this.firestore,e):null))}}class HP{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new v0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class AS{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Yo(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new v0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new HP(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new v0(this._firestore,r))})}isEqual(e){return o(this._delegate,e._delegate)}}class hy extends Yo{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Wa(this.firestore,e):null}doc(e){try{return new Wa(this.firestore,void 0===e?Am(this._delegate):Am(this._delegate,e))}catch(t){throw Ko(t,"doc()","CollectionReference.doc()")}}add(e){return function H(n,e){const t=dn(n.firestore,zn),r=Am(n),i=uy(n.converter,e);return De(t,[d0(Hf(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,ar.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Wa(this.firestore,t))}isEqual(e){return tD(this._delegate,e._delegate)}withConverter(e){return new hy(this.firestore,this._delegate.withConverter(e?Pm.getInstance(this.firestore,e):null))}}function Lm(n){return dn(n,jn)}class MS{constructor(...e){this._delegate=new Ga(...e)}static documentId(){return new MS(zr.keyField().canonicalString())}isEqual(e){return(e=(0,un.m9)(e))instanceof Ga&&this._delegate._internalPath.isEqual(e._internalPath)}}class Vm{constructor(e){this._delegate=e}static serverTimestamp(){const e=function kP(){return new f0("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Vm(e)}static delete(){const e=function RP(){return new ry("deleteField")}();return e._methodName="FieldValue.delete",new Vm(e)}static arrayUnion(...e){const t=function OP(...n){return new vS("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Vm(t)}static arrayRemove(...e){const t=function NP(...n){return new bS("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Vm(t)}static increment(e){const t=function FP(n){return new MR("increment",n)}(e);return t._methodName="FieldValue.increment",new Vm(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const jP={Firestore:zR,GeoPoint:Mm,Timestamp:br,Blob:_0,Transaction:$R,WriteBatch:GR,DocumentReference:Wa,DocumentSnapshot:y0,Query:Yo,QueryDocumentSnapshot:v0,QuerySnapshot:AS,CollectionReference:hy,FieldPath:MS,FieldValue:Vm,setLogLevel:function UP(n){!function SI(n){Fl.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function $P(n){(function zP(n,e){n.INTERNAL.registerComponent(new Dc.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},jP)))})(n,(e,t)=>new zR(e,t,new BP)),n.registerVersion("@firebase/firestore-compat","0.3.12")}(Oh.Z);var xn=V(7579),b0=V(6451),bD=V(5363),Bm=V(8421);function Gi(n,e){return(0,gr.e)((t,r)=>{let i=null,s=0,u=!1;const f=()=>u&&!i&&r.complete();t.subscribe((0,Dn.x)(r,_=>{i?.unsubscribe();let b=0;const I=s++;(0,Bm.Xf)(n(_,I)).subscribe(i=(0,Dn.x)(r,M=>r.next(e?e(_,M,I,b++):M),()=>{i=null,f()}))},()=>{u=!0,f()}))})}var GP=V(6063);class qP extends xn.x{constructor(e=1/0,t=1/0,r=GP.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:u}=this;t||(r.push(e),!i&&r.push(s.now()+u)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let u=0;u<s.length&&!e.closed;u+=r?1:2)e.next(s[u]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*e;if(e<1/0&&s<r.length&&r.splice(0,r.length-s),!i){const u=t.now();let f=0;for(let _=1;_<r.length&&r[_]<=u;_+=2)f=_;f&&r.splice(0,f+1)}}}var ZR=V(3099);function KR(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,ZR.B)({connector:()=>new qP(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}const wD=(0,V(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Ud=V(515);function cu(n){return n<=0?()=>Ud.E:(0,gr.e)((e,t)=>{let r=0;e.subscribe((0,Dn.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function ED(n){return(0,gr.e)((e,t)=>{let r=!1;e.subscribe((0,Dn.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function YR(n=ZP){return(0,gr.e)((e,t)=>{let r=!1;e.subscribe((0,Dn.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function ZP(){return new wD}function Hd(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Qr((i,s)=>n(i,s,r)):Gs.y,cu(1),t?ED(e):YR(()=>new wD))}var Za=V(576);function QR(n,e){return(0,Za.m)(e)?Gi(()=>n,e):Gi(()=>n)}var RS=V(9468),Zf=V(259);class fy{constructor(e){return e}}class kS{constructor(){return(0,Zf.C6)()}}const OS=new l.OlP("angularfire2._apps"),YP={provide:fy,useFactory:function KP(n){return n&&1===n.length?n[0]:new fy((0,Zf.Mq)())},deps:[[new l.FiY,OS]]},QP={provide:kS,deps:[[new l.FiY,OS]]};function JP(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new fy(r)}}let XP=(()=>{class n{constructor(t){(0,Zf.KN)("angularfire",bn.q4.full,"core"),(0,Zf.KN)("angularfire",bn.q4.full,"app"),(0,Zf.KN)("angular",l.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.Lbi))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[YP,QP]}),n})();function eL(n,...e){return{ngModule:XP,providers:[{provide:OS,useFactory:JP(n),multi:!0,deps:[l.R0b,l.zs3,bn.HU,...e]}]}}const tL=(0,bn.u3)(Zf.ZF,!0),NS=new Map,JR={activated:!1,tokenObservers:[]},nL={initialized:!1,enabled:!1};function ti(n){return NS.get(n)||Object.assign({},JR)}function CD(){return nL}const FS="https://content-firebaseappcheck.googleapis.com/v1",sL="exchangeDebugToken",XR={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class lL{constructor(e,t,r,i,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,ve.Z)(function*(){t.stop();try{t.pending=new un.BH,yield function cL(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new un.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Xi=new un.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function PS(n){if(!ti(n).activated)throw Xi.create("use-before-activation",{appName:n.name})}function ID(n,e){return VS.apply(this,arguments)}function VS(){return VS=(0,ve.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const M=yield i.getHeartbeatsHeader();M&&(r["X-Firebase-Client"]=M)}const s={method:"POST",body:JSON.stringify(e),headers:r};let u,f;try{u=yield fetch(n,s)}catch(M){throw Xi.create("fetch-network-error",{originalErrorMessage:M?.message})}if(200!==u.status)throw Xi.create("fetch-status-error",{httpStatus:u.status});try{f=yield u.json()}catch(M){throw Xi.create("fetch-parse-error",{originalErrorMessage:M?.message})}const _=f.ttl.match(/^([\d.]+)(s)$/);if(!_||!_[2]||isNaN(Number(_[1])))throw Xi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const b=1e3*Number(_[1]),I=Date.now();return{token:f.token,expireTimeMillis:I+b,issuedAtTimeMillis:I}}),VS.apply(this,arguments)}function e1(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${FS}/projects/${t}/apps/${r}:${sL}?key=${i}`,body:{debug_token:e}}}const fL="firebase-app-check-database",pL=1,w0="firebase-app-check-store";let TD=null;function BS(){return BS=(0,ve.Z)(function*(n,e){const r=(yield function n1(){return TD||(TD=new Promise((n,e)=>{try{const t=indexedDB.open(fL,pL);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Xi.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(w0,{keyPath:"compositeKey"})}}catch(t){e(Xi.create("storage-open",{originalErrorMessage:t?.message}))}}),TD)}()).transaction(w0,"readwrite"),s=r.objectStore(w0).put({compositeKey:n,value:e});return new Promise((u,f)=>{s.onsuccess=_=>{u()},r.onerror=_=>{var b;f(Xi.create("storage-set",{originalErrorMessage:null===(b=_.target.error)||void 0===b?void 0:b.message}))}})}),BS.apply(this,arguments)}const E0=new ps.Yd("@firebase/app-check");function jS(n,e){return(0,un.hl)()?function gL(n,e){return function r1(n,e){return BS.apply(this,arguments)}(function s1(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{E0.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function $S(){return CD().enabled}function GS(){return qS.apply(this,arguments)}function qS(){return qS=(0,ve.Z)(function*(){const n=CD();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),qS.apply(this,arguments)}const EL={error:"UNKNOWN_ERROR"};function CL(n){return un.US.encodeString(JSON.stringify(n),!1)}function SD(n){return WS.apply(this,arguments)}function WS(){return WS=(0,ve.Z)(function*(n,e=!1){const t=n.app;PS(t);const r=ti(t);let s,i=r.token;if(i&&!py(i)&&(r.token=void 0,i=void 0),!i){const _=yield r.cachedTokenPromise;_&&(py(_)?i=_:yield jS(t,void 0))}if(!e&&i&&py(i))return{token:i.token};let f,u=!1;if($S()){r.exchangeTokenPromise||(r.exchangeTokenPromise=ID(e1(t,yield GS()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),u=!0);const _=yield r.exchangeTokenPromise;return yield jS(t,_),r.token=_,{token:_.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),u=!0),i=yield ti(t).exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?E0.warn(_.message):E0.error(_),s=_}return i?s?f=py(i)?{token:i.token,internalError:s}:u1(s):(f={token:i.token},r.token=i,yield jS(t,i)):f=u1(s),u&&function c1(n,e){const t=ti(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,f),f}),WS.apply(this,arguments)}function ZS(){return ZS=(0,ve.Z)(function*(n){const e=n.app;PS(e);const{provider:t}=ti(e);if($S()){const r=yield GS(),{token:i}=yield ID(e1(e,r),n.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield t.getToken();return{token:r}}}),ZS.apply(this,arguments)}function YS(n,e){const t=ti(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function l1(n){const{app:e}=n,t=ti(e);let r=t.tokenRefresher;r||(r=function DL(n){const{app:e}=n;return new lL((0,ve.Z)(function*(){let r;if(r=ti(e).token?yield SD(n,!0):yield SD(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=ti(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},XR.RETRIAL_MIN_WAIT,XR.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function py(n){return n.expireTimeMillis-Date.now()>0}function u1(n){return{token:CL(EL),error:n}}class xL{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=ti(this.app);for(const t of e)YS(this.app,t.next);return Promise.resolve()}}const y1="app-check-internal";!function BL(){(0,Ui._registerComponent)(new Dc.wA("app-check",n=>function IL(n,e){return new xL(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(y1).initialize()})),(0,Ui._registerComponent)(new Dc.wA(y1,n=>function TL(n){return{getToken:e=>SD(n,e),getLimitedUseToken:()=>function a1(n){return ZS.apply(this,arguments)}(n),addTokenListener:e=>function KS(n,e,t,r){const{app:i}=n,s=ti(i);if(s.tokenObservers=[...s.tokenObservers,{next:t,error:r,type:e}],s.token&&py(s.token)){const f=s.token;Promise.resolve().then(()=>{t({token:f.token}),l1(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>l1(n))}(n,"INTERNAL",e),removeTokenListener:e=>YS(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ui.registerVersion)("@firebase/app-check","0.8.0")}();class C0{constructor(){return(0,bn.vb)("app-check")}}typeof window<"u"&&window,V(9260);const b1=new l.OlP("angularfire2.auth.use-emulator"),w1=new l.OlP("angularfire2.auth.settings"),E1=new l.OlP("angularfire2.auth.tenant-id"),C1=new l.OlP("angularfire2.auth.langugage-code"),D1=new l.OlP("angularfire2.auth.use-device-language"),x1=new l.OlP("angularfire.auth.persistence"),I1=(n,e,t,r,i,s,u,f)=>(0,Ki.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=e.runOutsideAngular(()=>n.auth());if(t&&_.useEmulator(...t),r&&(_.tenantId=r),_.languageCode=i,s&&_.useDeviceLanguage(),u)for(const[b,I]of Object.entries(u))_.settings[b]=I;return f&&_.setPersistence(f),_},[t,r,i,s,u,f]);let tA=(()=>{class n{constructor(t,r,i,s,u,f,_,b,I,M,U,$){const ee=new xn.x,ie=Ye(void 0).pipe((0,bD.Q)(u.outsideAngular),Gi(()=>s.runOutsideAngular(()=>Promise.resolve().then(V.bind(V,9568)))),(0,ct.U)(()=>(0,Ki.on)(t,s,r)),(0,ct.U)(de=>I1(de,s,f,b,I,M,_,U)),KR({bufferSize:1,refCount:!1}));if(fa(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Ye(null);else{ie.pipe(Hd()).subscribe();const qe=ie.pipe(Gi(gt=>gt.getRedirectResult().then(jt=>jt,()=>null)),bn.iC,KR({bufferSize:1,refCount:!1})),rt=ie.pipe(Gi(gt=>new Un.y(jt=>({unsubscribe:s.runOutsideAngular(()=>gt.onAuthStateChanged(rn=>jt.next(rn),rn=>jt.error(rn),()=>jt.complete()))})))),st=ie.pipe(Gi(gt=>new Un.y(jt=>({unsubscribe:s.runOutsideAngular(()=>gt.onIdTokenChanged(rn=>jt.next(rn),rn=>jt.error(rn),()=>jt.complete()))}))));this.authState=qe.pipe(QR(rt),(0,RS.R)(u.outsideAngular),(0,bD.Q)(u.insideAngular)),this.user=qe.pipe(QR(st),(0,RS.R)(u.outsideAngular),(0,bD.Q)(u.insideAngular)),this.idToken=this.user.pipe(Gi(gt=>gt?(0,pn.D)(gt.getIdToken()):Ye(null))),this.idTokenResult=this.user.pipe(Gi(gt=>gt?(0,pn.D)(gt.getIdTokenResult()):Ye(null))),this.credential=(0,b0.T)(qe,ee,this.authState.pipe(Qr(gt=>!gt))).pipe((0,ct.U)(gt=>gt?.user?gt:null),(0,RS.R)(u.outsideAngular),(0,bD.Q)(u.insideAngular))}return(0,Ki.pX)(this,ie,s,{spy:{apply:(de,qe,rt)=>{(de.startsWith("signIn")||de.startsWith("createUser"))&&rt.then(st=>ee.next(st))}}})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ki.Dh),l.LFG(Ki.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(bn.HU),l.LFG(b1,8),l.LFG(w1,8),l.LFG(E1,8),l.LFG(C1,8),l.LFG(D1,8),l.LFG(x1,8),l.LFG(C0,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function T1(n,e){return function GL(n,e=uo.z){return new Un.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function nA(n,e){return T1(n,e).pipe((0,ct.U)(t=>({payload:t,type:"query"})))}function MD(n,e){return nA(n,e).pipe(Ur(void 0),El(),(0,ct.U)(([t,r])=>{const i=r.payload.docChanges(),s=i.map(u=>({type:u.type,payload:u}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((u,f)=>{const _=i.find(I=>I.doc.ref.isEqual(u.ref)),b=t?.payload.docs.find(I=>I.ref.isEqual(u.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(u.metadata)||!_&&b&&JSON.stringify(b.metadata)===JSON.stringify(u.metadata)||s.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:u}})}),s}))}function S1(n,e,t){return MD(n,t).pipe(ho((r,i)=>function WL(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function ZL(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return rA(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return rA(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return rA(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(s=>s.payload),e),[]),Hu(),(0,ct.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function rA(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function A1(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class M1{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=MD(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,ct.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(Ur(void 0),El(),Qr(([r,i])=>i.length>0||!r),(0,ct.U)(([r,i])=>i),bn.iC)}auditTrail(e){return this.stateChanges(e).pipe(ho((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=A1(e);return S1(this.query,t,this.afs.schedulers.outsideAngular).pipe(bn.iC)}valueChanges(e={}){return nA(this.query,this.afs.schedulers.outsideAngular).pipe((0,ct.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),bn.iC)}get(e){return(0,pn.D)(this.query.get(e)).pipe(bn.iC)}add(e){return this.ref.add(e)}doc(e){return new R1(this.ref.doc(e),this.afs)}}class R1{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:s}=k1(r,t);return new M1(i,s,this.afs)}snapshotChanges(){return function qL(n,e){return T1(n,e).pipe(Ur(void 0),El(),(0,ct.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(bn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,ct.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,pn.D)(this.ref.get(e)).pipe(bn.iC)}}class KL{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?MD(this.query,this.afs.schedulers.outsideAngular).pipe((0,ct.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Qr(t=>t.length>0),bn.iC):MD(this.query,this.afs.schedulers.outsideAngular).pipe(bn.iC)}auditTrail(e){return this.stateChanges(e).pipe(ho((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=A1(e);return S1(this.query,t,this.afs.schedulers.outsideAngular).pipe(bn.iC)}valueChanges(e={}){return nA(this.query,this.afs.schedulers.outsideAngular).pipe((0,ct.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),bn.iC)}get(e){return(0,pn.D)(this.query.get(e)).pipe(bn.iC)}}const YL=new l.OlP("angularfire2.enableFirestorePersistence"),QL=new l.OlP("angularfire2.firestore.persistenceSettings"),JL=new l.OlP("angularfire2.firestore.settings"),XL=new l.OlP("angularfire2.firestore.use-emulator");function k1(n,e=(t=>t)){return{query:e(n),ref:n}}let e2=(()=>{class n{constructor(t,r,i,s,u,f,_,b,I,M,U,$,ee,ie,de,qe,rt){this.schedulers=_;const st=(0,Ki.on)(t,f,r),gt=I;M&&I1(st,f,U,ee,ie,de,$,qe),[this.firestore,this.persistenceEnabled$]=(0,Ki.cc)(`${st.name}.firestore`,"AngularFirestore",st.name,()=>{const jt=f.runOutsideAngular(()=>st.firestore());if(s&&jt.settings(s),gt&&jt.useEmulator(...gt),i&&!fa(u)){const rn=()=>{try{return(0,pn.D)(jt.enablePersistence(b||void 0).then(()=>!0,()=>!1))}catch(Sn){return typeof console<"u"&&console.warn(Sn),Ye(!1)}};return[jt,f.runOutsideAngular(rn)]}return[jt,Ye(!1)]},[s,gt,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:s,query:u}=k1(i,r),f=this.schedulers.ngZone.run(()=>s);return new M1(f,u,this)}collectionGroup(t,r){const i=r||(u=>u),s=this.firestore.collectionGroup(t);return new KL(i(s),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new R1(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ki.Dh),l.LFG(Ki.xv,8),l.LFG(YL,8),l.LFG(JL,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(bn.HU),l.LFG(QL,8),l.LFG(XL,8),l.LFG(tA,8),l.LFG(b1,8),l.LFG(w1,8),l.LFG(E1,8),l.LFG(C1,8),l.LFG(D1,8),l.LFG(x1,8),l.LFG(C0,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),RD=(()=>{class n{constructor(t){this._AngularFirestore=t}getAllUsers(){return this._AngularFirestore.collection("/Users").snapshotChanges()}createUser(t){return t.id=this._AngularFirestore.createId(),this._AngularFirestore.collection("/Users").add(t)}deleteUser(t){return this._AngularFirestore.doc("/Users/"+t).delete()}getUserInfo(t){return this._AngularFirestore.doc("/Users/"+t).get()}updateUserInfo(t,r){return this._AngularFirestore.doc("/Users/"+r).update(t)}static#e=this.\u0275fac=function(r){return new(r||n)(l.LFG(e2))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class vo extends xn.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const{isArray:t2}=Array,{getPrototypeOf:n2,prototype:r2,keys:o2}=Object;function O1(n){if(1===n.length){const e=n[0];if(t2(e))return{args:e,keys:null};if(function s2(n){return n&&"object"==typeof n&&n2(n)===r2}(e)){const t=o2(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:a2}=Array;function iA(n){return(0,ct.U)(e=>function l2(n,e){return a2(e)?n(...e):n(e)}(n,e))}function N1(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var c2=V(9672);function my(...n){const e=(0,Oo.yG)(n),t=(0,Oo.jO)(n),{args:r,keys:i}=O1(n);if(0===r.length)return(0,pn.D)([],e);const s=new Un.y(function u2(n,e,t=Gs.y){return r=>{F1(e,()=>{const{length:i}=n,s=new Array(i);let u=i,f=i;for(let _=0;_<i;_++)F1(e,()=>{const b=(0,pn.D)(n[_],e);let I=!1;b.subscribe((0,Dn.x)(r,M=>{s[_]=M,I||(I=!0,f--),f||r.next(t(s.slice()))},()=>{--u||r.complete()}))},r)},r)}}(r,e,i?u=>N1(i,u):Gs.y));return t?s.pipe(iA(t)):s}function F1(n,e,t){n?(0,c2.f)(t,n,e):e()}function P1(n){return new Un.y(e=>{(0,Bm.Xf)(n()).subscribe(e)})}var d2=V(9635);function gy(n,e){const t=(0,Za.m)(n)?n:()=>n,r=i=>i.error(t());return new Un.y(e?i=>e.schedule(r,0,i):r)}var D0=V(727);function oA(){return(0,gr.e)((n,e)=>{let t=null;n._refCount++;const r=(0,Dn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class sA extends Un.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,gr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new D0.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Dn.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=D0.w0.EMPTY)}return e}refCount(){return oA()(this)}}var bo=V(5577);function Kf(n,e){return(0,Za.m)(e)?(0,bo.z)(n,e,1):(0,bo.z)(n,1)}var Oi=V(8505);function jd(n){return(0,gr.e)((e,t)=>{let s,r=null,i=!1;r=e.subscribe((0,Dn.x)(t,void 0,void 0,u=>{s=(0,Bm.Xf)(n(u,jd(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function aA(n){return n<=0?()=>Ud.E:(0,gr.e)((e,t)=>{let r=[];e.subscribe((0,Dn.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function L1(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Qr((i,s)=>n(i,s,r)):Gs.y,aA(1),t?ED(e):YR(()=>new wD))}function kD(n){return(0,gr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const an="primary",x0=Symbol("RouteTitle");class p2{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function _y(n){return new p2(n)}function m2(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const u=r[s],f=n[s];if(u.startsWith(":"))i[u.substring(1)]=f;else if(u!==f.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function uu(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!V1(n[i],e[i]))return!1;return!0}function V1(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function B1(n){return Array.prototype.concat.apply([],n)}function U1(n){return n.length>0?n[n.length-1]:null}function eo(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Yf(n){return(0,l.CqO)(n)?n:(0,l.QGY)(n)?(0,pn.D)(Promise.resolve(n)):Ye(n)}const OD=!1,_2={exact:function z1(n,e,t){if(!Um(n.segments,e.segments)||!ND(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!z1(n.children[r],e.children[r],t))return!1;return!0},subset:$1},H1={exact:function y2(n,e){return uu(n,e)},subset:function v2(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>V1(n[t],e[t]))},ignored:()=>!0};function j1(n,e,t){return _2[t.paths](n.root,e.root,t.matrixParams)&&H1[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function $1(n,e,t){return G1(n,e,e.segments,t)}function G1(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Um(i,t)||e.hasChildren()||!ND(i,t,r))}if(n.segments.length===t.length){if(!Um(n.segments,t)||!ND(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!$1(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(Um(n.segments,i)&&ND(n.segments,i,r)&&n.children[an])&&G1(n.children[an],e,s,r)}}function ND(n,e,t){return e.every((r,i)=>H1[t](n[i].parameters,r.parameters))}class Qf{constructor(e=new mn([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=_y(this.queryParams)),this._queryParamMap}toString(){return E2.serialize(this)}}class mn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,eo(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return FD(this)}}class I0{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=_y(this.parameters)),this._parameterMap}toString(){return Z1(this)}}function Um(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let T0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return new lA},providedIn:"root"}),n})();class lA{parse(e){const t=new R2(e);return new Qf(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${S0(e.root,!0)}`,r=function x2(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${PD(t)}=${PD(i)}`).join("&"):`${PD(t)}=${PD(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams),i="string"==typeof e.fragment?`#${function C2(n){return encodeURI(n)}(e.fragment)}`:"";return`${t}${r}${i}`}}const E2=new lA;function FD(n){return n.segments.map(e=>Z1(e)).join("/")}function S0(n,e){if(!n.hasChildren())return FD(n);if(e){const t=n.children[an]?S0(n.children[an],!1):"",r=[];return eo(n.children,(i,s)=>{s!==an&&r.push(`${s}:${S0(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function w2(n,e){let t=[];return eo(n.children,(r,i)=>{i===an&&(t=t.concat(e(r,i)))}),eo(n.children,(r,i)=>{i!==an&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===an?[S0(n.children[an],!1)]:[`${i}:${S0(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[an]?`${FD(n)}/${t[0]}`:`${FD(n)}/(${t.join("//")})`}}function q1(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function PD(n){return q1(n).replace(/%3B/gi,";")}function cA(n){return q1(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function LD(n){return decodeURIComponent(n)}function W1(n){return LD(n.replace(/\+/g,"%20"))}function Z1(n){return`${cA(n.path)}${function D2(n){return Object.keys(n).map(e=>`;${cA(e)}=${cA(n[e])}`).join("")}(n.parameters)}`}const I2=/^[^\/()?;=#]+/;function VD(n){const e=n.match(I2);return e?e[0]:""}const T2=/^[^=?&#]+/,A2=/^[^&#]+/;class R2{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new mn([],{}):new mn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[an]=new mn(e,t)),r}parseSegment(){const e=VD(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new l.vHH(4009,OD);return this.capture(e),new I0(LD(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=VD(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=VD(this.remaining);i&&(r=i,this.capture(r))}e[LD(t)]=LD(r)}parseQueryParam(e){const t=function S2(n){const e=n.match(T2);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const u=function M2(n){const e=n.match(A2);return e?e[0]:""}(this.remaining);u&&(r=u,this.capture(r))}const i=W1(t),s=W1(r);if(e.hasOwnProperty(i)){let u=e[i];Array.isArray(u)||(u=[u],e[i]=u),u.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=VD(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new l.vHH(4010,OD);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=an);const u=this.parseChildren();t[s]=1===Object.keys(u).length?u[an]:new mn([],u),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new l.vHH(4011,OD)}}function uA(n){return n.segments.length>0?new mn([],{[an]:n}):n}function BD(n){const e={};for(const r of Object.keys(n.children)){const s=BD(n.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function k2(n){if(1===n.numberOfChildren&&n.children[an]){const e=n.children[an];return new mn(n.segments.concat(e.segments),e.children)}return n}(new mn(n.segments,e))}function Hm(n){return n instanceof Qf}const dA=!1;function O2(n,e,t,r,i){if(0===t.length)return yy(e.root,e.root,e.root,r,i);const s=function X1(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new J1(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,u)=>{if("object"==typeof s&&null!=s){if(s.outlets){const f={};return eo(s.outlets,(_,b)=>{f[b]="string"==typeof _?_.split("/"):_}),[...i,{outlets:f}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===u?(s.split("/").forEach((f,_)=>{0==_&&"."===f||(0==_&&""===f?t=!0:".."===f?e++:""!=f&&i.push(f))}),i):[...i,s]},[]);return new J1(t,e,r)}(t);return s.toRoot()?yy(e.root,e.root,new mn([],{}),r,i):function u(_){const b=function F2(n,e,t,r){if(n.isAbsolute)return new vy(e.root,!0,0);if(-1===r)return new vy(t,t===e.root,0);return function ek(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new l.vHH(4005,dA&&"Invalid number of '../'");i=r.segments.length}return new vy(r,!1,i-s)}(t,r+(A0(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,e,n.snapshot?._urlSegment,_),I=b.processChildren?by(b.segmentGroup,b.index,s.commands):hA(b.segmentGroup,b.index,s.commands);return yy(e.root,b.segmentGroup,I,r,i)}(n.snapshot?._lastPathIndex)}function A0(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function M0(n){return"object"==typeof n&&null!=n&&n.outlets}function yy(n,e,t,r,i){let u,s={};r&&eo(r,(_,b)=>{s[b]=Array.isArray(_)?_.map(I=>`${I}`):`${_}`}),u=n===e?t:Q1(n,e,t);const f=uA(BD(u));return new Qf(f,s,i)}function Q1(n,e,t){const r={};return eo(n.children,(i,s)=>{r[s]=i===e?t:Q1(i,e,t)}),new mn(n.segments,r)}class J1{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&A0(r[0]))throw new l.vHH(4003,dA&&"Root segment cannot have matrix parameters");const i=r.find(M0);if(i&&i!==U1(r))throw new l.vHH(4004,dA&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class vy{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function hA(n,e,t){if(n||(n=new mn([],{})),0===n.segments.length&&n.hasChildren())return by(n,e,t);const r=function L2(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const u=n.segments[i],f=t[r];if(M0(f))break;const _=`${f}`,b=r<t.length-1?t[r+1]:null;if(i>0&&void 0===_)break;if(_&&b&&"object"==typeof b&&void 0===b.outlets){if(!nk(_,b,u))return s;r+=2}else{if(!nk(_,{},u))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new mn(n.segments.slice(0,r.pathIndex),{});return s.children[an]=new mn(n.segments.slice(r.pathIndex),n.children),by(s,0,i)}return r.match&&0===i.length?new mn(n.segments,{}):r.match&&!n.hasChildren()?fA(n,e,t):r.match?by(n,0,i):fA(n,e,t)}function by(n,e,t){if(0===t.length)return new mn(n.segments,{});{const r=function P2(n){return M0(n[0])?n[0].outlets:{[an]:n}}(t),i={};if(!r[an]&&n.children[an]&&1===n.numberOfChildren&&0===n.children[an].segments.length){const s=by(n.children[an],e,t);return new mn(n.segments,s.children)}return eo(r,(s,u)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[u]=hA(n.children[u],e,s))}),eo(n.children,(s,u)=>{void 0===r[u]&&(i[u]=s)}),new mn(n.segments,i)}}function fA(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(M0(s)){const _=V2(s.outlets);return new mn(r,_)}if(0===i&&A0(t[0])){r.push(new I0(n.segments[e].path,tk(t[0]))),i++;continue}const u=M0(s)?s.outlets[an]:`${s}`,f=i<t.length-1?t[i+1]:null;u&&f&&A0(f)?(r.push(new I0(u,tk(f))),i+=2):(r.push(new I0(u,{})),i++)}return new mn(r,{})}function V2(n){const e={};return eo(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=fA(new mn([],{}),0,t))}),e}function tk(n){const e={};return eo(n,(t,r)=>e[r]=`${t}`),e}function nk(n,e,t){return n==t.path&&uu(e,t.parameters)}const R0="imperative";class du{constructor(e,t){this.id=e,this.url=t}}class pA extends du{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class jm extends du{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class UD extends du{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class HD extends du{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class mA extends du{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class B2 extends du{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class U2 extends du{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class H2 extends du{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class j2 extends du{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class z2 extends du{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $2{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class G2{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class q2{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class W2{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Z2{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class K2{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rk{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let J2=(()=>{class n{createUrlTree(t,r,i,s,u,f){return O2(t||r.root,i,s,u,f)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),eV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(e){return J2.\u0275fac(e)},providedIn:"root"}),n})();class ik{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=gA(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=gA(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=_A(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return _A(e,this._root).map(t=>t.value)}}function gA(n,e){if(n===e.value)return e;for(const t of e.children){const r=gA(n,t);if(r)return r}return null}function _A(n,e){if(n===e.value)return[e];for(const t of e.children){const r=_A(n,t);if(r.length)return r.unshift(e),r}return[]}class zd{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function wy(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class ok extends ik{constructor(e,t){super(e),this.snapshot=t,yA(this,e)}toString(){return this.snapshot.toString()}}function sk(n,e){const t=function tV(n,e){const u=new jD([],{},{},"",{},an,e,null,n.root,-1,{});return new lk("",new zd(u,[]))}(n,e),r=new vo([new I0("",{})]),i=new vo({}),s=new vo({}),u=new vo({}),f=new vo(""),_=new Jf(r,i,u,f,s,an,e,t.root);return _.snapshot=t.root,new ok(new zd(_,[]),t)}class Jf{constructor(e,t,r,i,s,u,f,_){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=u,this.component=f,this.title=this.data?.pipe((0,ct.U)(b=>b[x0]))??Ye(void 0),this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ct.U)(e=>_y(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ct.U)(e=>_y(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ak(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function nV(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class jD{get title(){return this.data?.[x0]}constructor(e,t,r,i,s,u,f,_,b,I,M){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=u,this.component=f,this.routeConfig=_,this._urlSegment=b,this._lastPathIndex=I,this._resolve=M}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=_y(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=_y(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class lk extends ik{constructor(e,t){super(t),this.url=e,yA(this,t)}toString(){return ck(this._root)}}function yA(n,e){e.value._routerState=n,e.children.forEach(t=>yA(n,t))}function ck(n){const e=n.children.length>0?` { ${n.children.map(ck).join(", ")} } `:"";return`${n.value}${e}`}function vA(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,uu(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),uu(e.params,t.params)||n.params.next(t.params),function g2(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!uu(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),uu(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function bA(n,e){const t=uu(n.params,e.params)&&function b2(n,e){return Um(n,e)&&n.every((t,r)=>uu(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||bA(n.parent,e.parent))}function k0(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function iV(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return k0(n,r,i);return k0(n,r)})}(n,e,t);return new zd(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const u=s.route;return u.value._futureSnapshot=e.value,u.children=e.children.map(f=>k0(n,f)),u}}const r=function oV(n){return new Jf(new vo(n.url),new vo(n.params),new vo(n.queryParams),new vo(n.fragment),new vo(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>k0(n,s));return new zd(r,i)}}const wA="ngNavigationCancelingError";function uk(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Hm(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=dk(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function dk(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[wA]=!0,r.cancellationCode=e,t&&(r.url=t),r}function hk(n){return fk(n)&&Hm(n.url)}function fk(n){return n&&n[wA]}class sV{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new O0,this.attachRef=null}}let O0=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new sV,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const zD=!1;let EA=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=an,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.parentContexts=(0,l.f3M)(O0),this.location=(0,l.f3M)(l.s_b),this.changeDetector=(0,l.f3M)(l.sBO),this.environmentInjector=(0,l.f3M)(l.lqb)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l.vHH(4012,zD);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l.vHH(4012,zD);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l.vHH(4012,zD);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new l.vHH(4013,zD);this._activatedRoute=t;const i=this.location,u=t.snapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,_=new aV(t,f,i.injector);if(r&&function lV(n){return!!n.resolveComponentFactory}(r)){const b=r.resolveComponentFactory(u);this.activated=i.createComponent(b,i.length,_)}else this.activated=i.createComponent(u,{index:i.length,injector:_,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[l.TTD]}),n})();class aV{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Jf?this.route:e===O0?this.childContexts:this.parent.get(e,t)}}let CA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[l.jDz],decls:1,vars:0,template:function(t,r){1&t&&l._UZ(0,"router-outlet")},dependencies:[EA],encapsulation:2}),n})();function pk(n,e){return n.providers&&!n._injector&&(n._injector=(0,l.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function xA(n){const e=n.children&&n.children.map(xA),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==an&&(t.component=CA),t}function Ka(n){return n.outlet||an}function mk(n,e){const t=n.filter(r=>Ka(r)===e);return t.push(...n.filter(r=>Ka(r)!==e)),t}function N0(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class fV{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),vA(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=wy(t);e.children.forEach(s=>{const u=s.value.outlet;this.deactivateRoutes(s,i[u],r),delete i[u]}),eo(i,(s,u)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const u=r.getContext(i.outlet);u&&this.deactivateChildRoutes(e,t,u.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=wy(e);for(const u of Object.keys(s))this.deactivateRouteAndItsChildren(s[u],i);if(r&&r.outlet){const u=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:u,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=wy(e);for(const u of Object.keys(s))this.deactivateRouteAndItsChildren(s[u],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=wy(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new K2(s.value.snapshot))}),e.children.length&&this.forwardEvent(new W2(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(vA(i),i===s)if(i.component){const u=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,u.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const u=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const f=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),u.children.onOutletReAttached(f.contexts),u.attachRef=f.componentRef,u.route=f.route.value,u.outlet&&u.outlet.attach(f.componentRef,f.route.value),vA(f.route.value),this.activateChildRoutes(e,null,u.children)}else{const f=N0(i.snapshot),_=f?.get(l._Vd)??null;u.attachRef=null,u.route=i,u.resolver=_,u.injector=f,u.outlet&&u.outlet.activateWith(i,u.injector),this.activateChildRoutes(e,null,u.children)}}else this.activateChildRoutes(e,null,r)}}class gk{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class $D{constructor(e,t){this.component=e,this.route=t}}function pV(n,e,t){const r=n._root;return F0(r,e?e._root:null,t,[r.value])}function Ey(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,l.Z0I)(n)?e.get(n):n:r}function F0(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=wy(e);return n.children.forEach(u=>{(function gV(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,u=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(u&&s.routeConfig===u.routeConfig){const _=function _V(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Um(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Um(n.url,e.url)||!uu(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!bA(n,e)||!uu(n.queryParams,e.queryParams);default:return!bA(n,e)}}(u,s,s.routeConfig.runGuardsAndResolvers);_?i.canActivateChecks.push(new gk(r)):(s.data=u.data,s._resolvedData=u._resolvedData),F0(n,e,s.component?f?f.children:null:t,r,i),_&&f&&f.outlet&&f.outlet.isActivated&&i.canDeactivateChecks.push(new $D(f.outlet.component,u))}else u&&P0(e,f,i),i.canActivateChecks.push(new gk(r)),F0(n,null,s.component?f?f.children:null:t,r,i)})(u,s[u.value.outlet],t,r.concat([u.value]),i),delete s[u.value.outlet]}),eo(s,(u,f)=>P0(u,t.getContext(f),i)),i}function P0(n,e,t){const r=wy(n),i=n.value;eo(r,(s,u)=>{P0(s,i.component?e?e.children.getContext(u):null:e,t)}),t.canDeactivateChecks.push(new $D(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function L0(n){return"function"==typeof n}function IA(n){return n instanceof wD||"EmptyError"===n?.name}const GD=Symbol("INITIAL_VALUE");function Cy(){return Gi(n=>my(n.map(e=>e.pipe(cu(1),Ur(GD)))).pipe((0,ct.U)(e=>{for(const t of e)if(!0!==t){if(t===GD)return GD;if(!1===t||t instanceof Qf)return t}return!0}),Qr(e=>e!==GD),cu(1)))}function _k(n){return(0,d2.z)((0,Oi.b)(e=>{if(Hm(e))throw uk(0,e)}),(0,ct.U)(e=>!0===e))}const TA={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function yk(n,e,t,r,i){const s=SA(n,e,t);return s.matched?function NV(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?Ye(i.map(u=>{const f=Ey(u,n);return Yf(function CV(n){return n&&L0(n.canMatch)}(f)?f.canMatch(e,t):n.runInContext(()=>f(e,t)))})).pipe(Cy(),_k()):Ye(!0)}(r=pk(e,r),e,t).pipe((0,ct.U)(u=>!0===u?s:{...TA})):Ye(s)}function SA(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...TA}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||m2)(t,n,e);if(!i)return{...TA};const s={};eo(i.posParams,(f,_)=>{s[_]=f.path});const u=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:u,positionalParamSegments:i.posParams??{}}}function qD(n,e,t,r){if(t.length>0&&function LV(n,e,t){return t.some(r=>WD(n,e,r)&&Ka(r)!==an)}(n,t,r)){const s=new mn(e,function PV(n,e,t,r){const i={};i[an]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&Ka(s)!==an){const u=new mn([],{});u._sourceSegment=n,u._segmentIndexShift=e.length,i[Ka(s)]=u}return i}(n,e,r,new mn(t,n.children)));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===t.length&&function VV(n,e,t){return t.some(r=>WD(n,e,r))}(n,t,r)){const s=new mn(n.segments,function FV(n,e,t,r,i){const s={};for(const u of r)if(WD(n,t,u)&&!i[Ka(u)]){const f=new mn([],{});f._sourceSegment=n,f._segmentIndexShift=e.length,s[Ka(u)]=f}return{...i,...s}}(n,e,t,r,n.children));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}const i=new mn(n.segments,n.children);return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}function WD(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function vk(n,e,t,r){return!!(Ka(n)===r||r!==an&&WD(e,t,n))&&("**"===n.path||SA(e,n,t).matched)}function bk(n,e,t){return 0===e.length&&!n.children[t]}const ZD=!1;class KD{constructor(e){this.segmentGroup=e||null}}class wk{constructor(e){this.urlTree=e}}function V0(n){return gy(new KD(n))}function Ek(n){return gy(new wk(n))}function BV(n){return gy(new l.vHH(4e3,ZD&&`Only absolute redirects can have named outlets. redirectTo: '${n}'`))}class jV{constructor(e,t,r,i,s){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0}apply(){const e=qD(this.urlTree.root,[],[],this.config).segmentGroup,t=new mn(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,an).pipe((0,ct.U)(s=>this.createUrlTree(BD(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(jd(s=>{if(s instanceof wk)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof KD?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,an).pipe((0,ct.U)(i=>this.createUrlTree(BD(i),e.queryParams,e.fragment))).pipe(jd(i=>{throw i instanceof KD?this.noMatchError(i):i}))}noMatchError(e){return new l.vHH(4002,ZD&&`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=uA(e);return new Qf(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,ct.U)(s=>new mn([],s))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return(0,pn.D)(i).pipe(Kf(s=>{const u=r.children[s],f=mk(t,s);return this.expandSegmentGroup(e,f,u,s).pipe((0,ct.U)(_=>({segment:_,outlet:s})))}),ho((s,u)=>(s[u.outlet]=u.segment,s),{}),L1())}expandSegment(e,t,r,i,s,u){return(0,pn.D)(r).pipe(Kf(f=>this.expandSegmentAgainstRoute(e,t,r,f,i,s,u).pipe(jd(b=>{if(b instanceof KD)return Ye(null);throw b}))),Hd(f=>!!f),jd((f,_)=>{if(IA(f))return bk(t,i,s)?Ye(new mn([],{})):V0(t);throw f}))}expandSegmentAgainstRoute(e,t,r,i,s,u,f){return vk(i,t,s,u)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,s,u):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,u):V0(t):V0(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,u){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,u):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Ek(s):this.lineralizeSegments(r,s).pipe((0,bo.z)(u=>{const f=new mn(u,{});return this.expandSegment(e,f,t,u,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,u){const{matched:f,consumedSegments:_,remainingSegments:b,positionalParamSegments:I}=SA(t,i,s);if(!f)return V0(t);const M=this.applyRedirectCommands(_,i.redirectTo,I);return i.redirectTo.startsWith("/")?Ek(M):this.lineralizeSegments(i,M).pipe((0,bo.z)(U=>this.expandSegment(e,t,r,U.concat(b),u,!1)))}matchSegmentAgainstRoute(e,t,r,i,s){return"**"===r.path?(e=pk(r,e),r.loadChildren?(r._loadedRoutes?Ye({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,ct.U)(f=>(r._loadedRoutes=f.routes,r._loadedInjector=f.injector,new mn(i,{})))):Ye(new mn(i,{}))):yk(t,r,i,e).pipe(Gi(({matched:u,consumedSegments:f,remainingSegments:_})=>u?this.getChildConfig(e=r._injector??e,r,i).pipe((0,bo.z)(I=>{const M=I.injector??e,U=I.routes,{segmentGroup:$,slicedSegments:ee}=qD(t,f,_,U),ie=new mn($.segments,$.children);if(0===ee.length&&ie.hasChildren())return this.expandChildren(M,U,ie).pipe((0,ct.U)(st=>new mn(f,st)));if(0===U.length&&0===ee.length)return Ye(new mn(f,{}));const de=Ka(r)===s;return this.expandSegment(M,ie,U,ee,de?an:s,!0).pipe((0,ct.U)(rt=>new mn(f.concat(rt.segments),rt.children)))})):V0(t)))}getChildConfig(e,t,r){return t.children?Ye({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?Ye({routes:t._loadedRoutes,injector:t._loadedInjector}):function OV(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?Ye(!0):Ye(i.map(u=>{const f=Ey(u,n);return Yf(function vV(n){return n&&L0(n.canLoad)}(f)?f.canLoad(e,t):n.runInContext(()=>f(e,t)))})).pipe(Cy(),_k())}(e,t,r).pipe((0,bo.z)(i=>i?this.configLoader.loadChildren(e,t).pipe((0,Oi.b)(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function UV(n){return gy(dk(ZD&&`Cannot load children because the guard of the route "path: '${n.path}'" returned false`,3))}(t))):Ye({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Ye(r);if(i.numberOfChildren>1||!i.children[an])return BV(e.redirectTo);i=i.children[an]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new Qf(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return eo(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const f=i.substring(1);r[s]=t[f]}else r[s]=i}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let u={};return eo(t.children,(f,_)=>{u[_]=this.createSegmentGroup(e,f,r,i)}),new mn(s,u)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new l.vHH(4001,ZD&&`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class $V{}class WV{constructor(e,t,r,i,s,u,f){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=u,this.urlSerializer=f}recognize(){const e=qD(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,an).pipe((0,ct.U)(t=>{if(null===t)return null;const r=new jD([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},an,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new zd(r,t),s=new lk(this.url,i);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const t=e.value,r=ak(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,pn.D)(Object.keys(r.children)).pipe(Kf(i=>{const s=r.children[i],u=mk(t,i);return this.processSegmentGroup(e,u,s,i)}),ho((i,s)=>i&&s?(i.push(...s),i):null),function h2(n,e=!1){return(0,gr.e)((t,r)=>{let i=0;t.subscribe((0,Dn.x)(r,s=>{const u=n(s,i++);(u||e)&&r.next(s),!u&&r.complete()}))})}(i=>null!==i),ED(null),L1(),(0,ct.U)(i=>{if(null===i)return null;const s=Dk(i);return function ZV(n){n.sort((e,t)=>e.value.outlet===an?-1:t.value.outlet===an?1:e.value.outlet.localeCompare(t.value.outlet))}(s),s}))}processSegment(e,t,r,i,s){return(0,pn.D)(t).pipe(Kf(u=>this.processSegmentAgainstRoute(u._injector??e,u,r,i,s)),Hd(u=>!!u),jd(u=>{if(IA(u))return bk(r,i,s)?Ye([]):Ye(null);throw u}))}processSegmentAgainstRoute(e,t,r,i,s){if(t.redirectTo||!vk(t,r,i,s))return Ye(null);let u;if("**"===t.path){const f=i.length>0?U1(i).parameters:{},_=Ik(r)+i.length;u=Ye({snapshot:new jD(i,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Tk(t),Ka(t),t.component??t._loadedComponent??null,t,xk(r),_,Sk(t)),consumedSegments:[],remainingSegments:[]})}else u=yk(r,t,i,e).pipe((0,ct.U)(({matched:f,consumedSegments:_,remainingSegments:b,parameters:I})=>{if(!f)return null;const M=Ik(r)+_.length;return{snapshot:new jD(_,I,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Tk(t),Ka(t),t.component??t._loadedComponent??null,t,xk(r),M,Sk(t)),consumedSegments:_,remainingSegments:b}}));return u.pipe(Gi(f=>{if(null===f)return Ye(null);const{snapshot:_,consumedSegments:b,remainingSegments:I}=f;e=t._injector??e;const M=t._loadedInjector??e,U=function KV(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:$,slicedSegments:ee}=qD(r,b,I,U.filter(de=>void 0===de.redirectTo));if(0===ee.length&&$.hasChildren())return this.processChildren(M,U,$).pipe((0,ct.U)(de=>null===de?null:[new zd(_,de)]));if(0===U.length&&0===ee.length)return Ye([new zd(_,[])]);const ie=Ka(t)===s;return this.processSegment(M,U,$,ee,ie?an:s).pipe((0,ct.U)(de=>null===de?null:[new zd(_,de)]))}))}}function YV(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Dk(n){const e=[],t=new Set;for(const r of n){if(!YV(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=Dk(r.children);e.push(new zd(r.value,i))}return e.filter(r=>!t.has(r))}function xk(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Ik(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function Tk(n){return n.data||{}}function Sk(n){return n.resolve||{}}function Ak(n){return"string"==typeof n.title||null===n.title}function AA(n){return Gi(e=>{const t=n(e);return t?(0,pn.D)(t).pipe((0,ct.U)(()=>e)):Ye(e)})}const Dy=new l.OlP("ROUTES");let MA=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,l.f3M)(l.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Ye(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Yf(t.loadComponent()).pipe((0,ct.U)(Rk),(0,Oi.b)(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),kD(()=>{this.componentLoaders.delete(t)})),i=new sA(r,()=>new xn.x).pipe(oA());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Ye({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,ct.U)(f=>{this.onLoadEndListener&&this.onLoadEndListener(r);let _,b,I=!1;Array.isArray(f)?b=f:(_=f.create(t).injector,b=B1(_.get(Dy,[],l.XFs.Self|l.XFs.Optional)));return{routes:b.map(xA),injector:_}}),kD(()=>{this.childrenLoaders.delete(r)})),u=new sA(s,()=>new xn.x).pipe(oA());return this.childrenLoaders.set(r,u),u}loadModuleFactoryOrRoutes(t){return Yf(t()).pipe((0,ct.U)(Rk),(0,bo.z)(r=>r instanceof l.YKP||Array.isArray(r)?Ye(r):(0,pn.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Rk(n){return function iB(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let QD=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new xn.x,this.configLoader=(0,l.f3M)(MA),this.environmentInjector=(0,l.f3M)(l.lqb),this.urlSerializer=(0,l.f3M)(T0),this.rootContexts=(0,l.f3M)(O0),this.navigationId=0,this.afterPreactivation=()=>Ye(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new G2(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new $2(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new vo({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:R0,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Qr(r=>0!==r.id),(0,ct.U)(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),Gi(r=>{let i=!1,s=!1;return Ye(r).pipe((0,Oi.b)(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Gi(u=>{const f=t.browserUrlTree.toString(),_=!t.navigated||u.extractedUrl.toString()!==f||f!==t.currentUrlTree.toString();if(!_&&"reload"!==(u.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const I="";return this.events.next(new HD(u.id,t.serializeUrl(r.rawUrl),I,0)),t.rawUrlTree=u.rawUrl,u.resolve(null),Ud.E}if(t.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return kk(u.source)&&(t.browserUrlTree=u.extractedUrl),Ye(u).pipe(Gi(I=>{const M=this.transitions?.getValue();return this.events.next(new pA(I.id,this.urlSerializer.serialize(I.extractedUrl),I.source,I.restoredState)),M!==this.transitions?.getValue()?Ud.E:Promise.resolve(I)}),function zV(n,e,t,r){return Gi(i=>function HV(n,e,t,r,i){return new jV(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,ct.U)(s=>({...i,urlAfterRedirects:s}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),(0,Oi.b)(I=>{this.currentNavigation={...this.currentNavigation,finalUrl:I.urlAfterRedirects},r.urlAfterRedirects=I.urlAfterRedirects}),function JV(n,e,t,r,i){return(0,bo.z)(s=>function qV(n,e,t,r,i,s,u="emptyOnly"){return new WV(n,e,t,r,i,u,s).recognize().pipe(Gi(f=>null===f?function GV(n){return new Un.y(e=>e.error(n))}(new $V):Ye(f)))}(n,e,t,s.urlAfterRedirects,r.serialize(s.urlAfterRedirects),r,i).pipe((0,ct.U)(u=>({...s,targetSnapshot:u}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,Oi.b)(I=>{if(r.targetSnapshot=I.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!I.extras.skipLocationChange){const U=t.urlHandlingStrategy.merge(I.urlAfterRedirects,I.rawUrl);t.setBrowserUrl(U,I)}t.browserUrlTree=I.urlAfterRedirects}const M=new B2(I.id,this.urlSerializer.serialize(I.extractedUrl),this.urlSerializer.serialize(I.urlAfterRedirects),I.targetSnapshot);this.events.next(M)}));if(_&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:I,extractedUrl:M,source:U,restoredState:$,extras:ee}=u,ie=new pA(I,this.urlSerializer.serialize(M),U,$);this.events.next(ie);const de=sk(M,this.rootComponentType).snapshot;return Ye(r={...u,targetSnapshot:de,urlAfterRedirects:M,extras:{...ee,skipLocationChange:!1,replaceUrl:!1}})}{const I="";return this.events.next(new HD(u.id,t.serializeUrl(r.extractedUrl),I,1)),t.rawUrlTree=u.rawUrl,u.resolve(null),Ud.E}}),(0,Oi.b)(u=>{const f=new U2(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(f)}),(0,ct.U)(u=>r={...u,guards:pV(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),function xV(n,e){return(0,bo.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:u}}=t;return 0===u.length&&0===s.length?Ye({...t,guardsResult:!0}):function IV(n,e,t,r){return(0,pn.D)(n).pipe((0,bo.z)(i=>function kV(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?Ye(s.map(f=>{const _=N0(e)??i,b=Ey(f,_);return Yf(function EV(n){return n&&L0(n.canDeactivate)}(b)?b.canDeactivate(n,e,t,r):_.runInContext(()=>b(n,e,t,r))).pipe(Hd())})).pipe(Cy()):Ye(!0)}(i.component,i.route,t,e,r)),Hd(i=>!0!==i,!0))}(u,r,i,n).pipe((0,bo.z)(f=>f&&function yV(n){return"boolean"==typeof n}(f)?function TV(n,e,t,r){return(0,pn.D)(e).pipe(Kf(i=>Aa(function AV(n,e){return null!==n&&e&&e(new q2(n)),Ye(!0)}(i.route.parent,r),function SV(n,e){return null!==n&&e&&e(new Z2(n)),Ye(!0)}(i.route,r),function RV(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(u=>function mV(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(u)).filter(u=>null!==u).map(u=>P1(()=>Ye(u.guards.map(_=>{const b=N0(u.node)??t,I=Ey(_,b);return Yf(function wV(n){return n&&L0(n.canActivateChild)}(I)?I.canActivateChild(r,n):b.runInContext(()=>I(r,n))).pipe(Hd())})).pipe(Cy())));return Ye(s).pipe(Cy())}(n,i.path,t),function MV(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Ye(!0);const i=r.map(s=>P1(()=>{const u=N0(e)??t,f=Ey(s,u);return Yf(function bV(n){return n&&L0(n.canActivate)}(f)?f.canActivate(e,n):u.runInContext(()=>f(e,n))).pipe(Hd())}));return Ye(i).pipe(Cy())}(n,i.route,t))),Hd(i=>!0!==i,!0))}(r,s,n,e):Ye(f)),(0,ct.U)(f=>({...t,guardsResult:f})))})}(this.environmentInjector,u=>this.events.next(u)),(0,Oi.b)(u=>{if(r.guardsResult=u.guardsResult,Hm(u.guardsResult))throw uk(0,u.guardsResult);const f=new H2(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(f)}),Qr(u=>!!u.guardsResult||(t.restoreHistory(u),this.cancelNavigationTransition(u,"",3),!1)),AA(u=>{if(u.guards.canActivateChecks.length)return Ye(u).pipe((0,Oi.b)(f=>{const _=new j2(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(_)}),Gi(f=>{let _=!1;return Ye(f).pipe(function XV(n,e){return(0,bo.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Ye(t);let s=0;return(0,pn.D)(i).pipe(Kf(u=>function eB(n,e,t,r){const i=n.routeConfig,s=n._resolve;return void 0!==i?.title&&!Ak(i)&&(s[x0]=i.title),function tB(n,e,t,r){const i=function nB(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return Ye({});const s={};return(0,pn.D)(i).pipe((0,bo.z)(u=>function rB(n,e,t,r){const i=N0(e)??r,s=Ey(n,i);return Yf(s.resolve?s.resolve(e,t):i.runInContext(()=>s(e,t)))}(n[u],e,t,r).pipe(Hd(),(0,Oi.b)(f=>{s[u]=f}))),aA(1),function f2(n){return(0,ct.U)(()=>n)}(s),jd(u=>IA(u)?Ud.E:gy(u)))}(s,n,e,r).pipe((0,ct.U)(u=>(n._resolvedData=u,n.data=ak(n,t).resolve,i&&Ak(i)&&(n.data[x0]=i.title),null)))}(u.route,r,n,e)),(0,Oi.b)(()=>s++),aA(1),(0,bo.z)(u=>s===i.length?Ye(t):Ud.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,Oi.b)({next:()=>_=!0,complete:()=>{_||(t.restoreHistory(f),this.cancelNavigationTransition(f,"",2))}}))}),(0,Oi.b)(f=>{const _=new z2(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(_)}))}),AA(u=>{const f=_=>{const b=[];_.routeConfig?.loadComponent&&!_.routeConfig._loadedComponent&&b.push(this.configLoader.loadComponent(_.routeConfig).pipe((0,Oi.b)(I=>{_.component=I}),(0,ct.U)(()=>{})));for(const I of _.children)b.push(...f(I));return b};return my(f(u.targetSnapshot.root)).pipe(ED(),cu(1))}),AA(()=>this.afterPreactivation()),(0,ct.U)(u=>{const f=function rV(n,e,t){const r=k0(n,e._root,t?t._root:void 0);return new ok(r,e)}(t.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return r={...u,targetRouterState:f}}),(0,Oi.b)(u=>{t.currentUrlTree=u.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(u.urlAfterRedirects,u.rawUrl),t.routerState=u.targetRouterState,"deferred"===t.urlUpdateStrategy&&(u.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,u),t.browserUrlTree=u.urlAfterRedirects)}),((n,e,t)=>(0,ct.U)(r=>(new fV(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,u=>this.events.next(u)),cu(1),(0,Oi.b)({next:u=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new jm(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{i=!0}}),kD(()=>{i||s||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),jd(u=>{if(s=!0,fk(u)){hk(u)||(t.navigated=!0,t.restoreHistory(r,!0));const f=new UD(r.id,this.urlSerializer.serialize(r.extractedUrl),u.message,u.cancellationCode);if(this.events.next(f),hk(u)){const _=t.urlHandlingStrategy.merge(u.url,t.rawUrlTree),b={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||kk(r.source)};t.scheduleNavigation(_,R0,null,b,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const f=new mA(r.id,this.urlSerializer.serialize(r.extractedUrl),u,r.targetSnapshot??void 0);this.events.next(f);try{r.resolve(t.errorHandler(u))}catch(_){r.reject(_)}}return Ud.E}))}))}cancelNavigationTransition(t,r,i){const s=new UD(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function kk(n){return n!==R0}let Ok=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===an);return r}getResolvedTitleForRoute(t){return t.data[x0]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(oB)},providedIn:"root"}),n})(),oB=(()=>{class n extends Ok{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ep))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),sB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(lB)},providedIn:"root"}),n})();class aB{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let lB=(()=>{class n extends aB{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const JD=new l.OlP("",{providedIn:"root",factory:()=>({})});let uB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(dB)},providedIn:"root"}),n})(),dB=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function hB(n){throw n}function fB(n,e,t){return e.parse("/")}const pB={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},mB={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ni=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,l.f3M)(l.c2e),this.isNgZoneEnabled=!1,this.options=(0,l.f3M)(JD,{optional:!0})||{},this.errorHandler=this.options.errorHandler||hB,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||fB,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,l.f3M)(uB),this.routeReuseStrategy=(0,l.f3M)(sB),this.urlCreationStrategy=(0,l.f3M)(eV),this.titleStrategy=(0,l.f3M)(Ok),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=B1((0,l.f3M)(Dy,{optional:!0})??[]),this.navigationTransitions=(0,l.f3M)(QD),this.urlSerializer=(0,l.f3M)(T0),this.location=(0,l.f3M)(He),this.isNgZoneEnabled=(0,l.f3M)(l.R0b)instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Qf,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=sk(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),R0,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const s={replaceUrl:!0},u=i?.navigationId?i:null;if(i){const _={...i};delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(s.state=_)}const f=this.parseUrl(t);this.scheduleNavigation(f,r,u,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(xA),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:u,queryParamsHandling:f,preserveFragment:_}=r,b=_?this.currentUrlTree.fragment:u;let I=null;switch(f){case"merge":I={...this.currentUrlTree.queryParams,...s};break;case"preserve":I=this.currentUrlTree.queryParams;break;default:I=s||null}return null!==I&&(I=this.removeEmptyProps(I)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,t,I,b??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Hm(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,R0,null,r)}navigate(t,r={skipLocationChange:!1}){return function gB(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new l.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...pB}:!1===r?{...mB}:r,Hm(t))return j1(this.currentUrlTree,t,i);const s=this.parseUrl(t);return j1(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(t,r,i,s,u){if(this.disposed)return Promise.resolve(!1);let f,_,b,I;return u?(f=u.resolve,_=u.reject,b=u.promise):b=new Promise((M,U)=>{f=M,_=U}),I="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:I,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:f,reject:_,promise:b,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),b.catch(M=>Promise.reject(M))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const u={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",u)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.go(i,"",s)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-(this.browserPageId??this.currentPageId);0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),hu=(()=>{class n{constructor(t,r,i,s,u,f){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=u,this.locationStrategy=f,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new xn.x;const _=u.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===_||"area"===_,this.isAnchorElement?this.subscription=t.events.subscribe(b=>{b instanceof jm&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,l.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,l.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,l.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,s,u){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||s||u||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,l.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,s=this.el.nativeElement;null!==r?i.setAttribute(s,t,r):i.removeAttribute(s,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Ni),l.Y36(Jf),l.$8M("tabindex"),l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(at))},n.\u0275dir=l.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){1&t&&l.NdJ("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&t&&l.uIk("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[l.TTD]}),n})();class Nk{}let vB=(()=>{class n{constructor(t,r,i,s,u){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=u}setUpPreloading(){this.subscription=this.router.events.pipe(Qr(t=>t instanceof jm),Kf(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=(0,l.MMx)(s.providers,t,`Route: ${s.path}`));const u=s._injector??t,f=s._loadedInjector??u;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(u,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(f,s.children??s._loadedRoutes))}return(0,pn.D)(i).pipe((0,Ta.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):Ye(null);const s=i.pipe((0,bo.z)(u=>null===u?Ye(void 0):(r._loadedRoutes=u.routes,r._loadedInjector=u.injector,this.processRoutes(u.injector??t,u.routes))));if(r.loadComponent&&!r._loadedComponent){const u=this.loader.loadComponent(r);return(0,pn.D)([s,u]).pipe((0,Ta.J)())}return s})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ni),l.LFG(l.Sil),l.LFG(l.lqb),l.LFG(Nk),l.LFG(MA))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const kA=new l.OlP("");let Fk=(()=>{class n{constructor(t,r,i,s,u={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=u,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},u.scrollPositionRestoration=u.scrollPositionRestoration||"disabled",u.anchorScrolling=u.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof pA?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof jm&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof rk&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new rk(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();var ia=(()=>((ia=ia||{})[ia.COMPLETE=0]="COMPLETE",ia[ia.FAILED=1]="FAILED",ia[ia.REDIRECTING=2]="REDIRECTING",ia))();const xy=!1;function Xf(n,e){return{\u0275kind:n,\u0275providers:e}}const OA=new l.OlP("",{providedIn:"root",factory:()=>!1});function Lk(){const n=(0,l.f3M)(l.zs3);return e=>{const t=n.get(l.z2F);if(e!==t.components[0])return;const r=n.get(Ni),i=n.get(Vk);1===n.get(NA)&&r.initialNavigation(),n.get(Bk,null,l.XFs.Optional)?.setUpPreloading(),n.get(kA,null,l.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const Vk=new l.OlP(xy?"bootstrap done indicator":"",{factory:()=>new xn.x}),NA=new l.OlP(xy?"initial navigation":"",{providedIn:"root",factory:()=>1});function DB(){let n=[];return n=xy?[{provide:l.Xts,multi:!0,useFactory:()=>{const e=(0,l.f3M)(Ni);return()=>e.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function Y2(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],Xf(1,n)}const Bk=new l.OlP(xy?"router preloader":"");function xB(n){return Xf(0,[{provide:Bk,useExisting:vB},{provide:Nk,useExisting:n}])}const B0=!1,Uk=new l.OlP(B0?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),IB=[He,{provide:T0,useClass:lA},Ni,O0,{provide:Jf,useFactory:function Pk(n){return n.routerState.root},deps:[Ni]},MA,B0?{provide:OA,useValue:!0}:[]];function TB(){return new l.PXZ("Router",Ni)}let Hk=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[IB,B0&&r?.enableTracing?DB().\u0275providers:[],{provide:Dy,multi:!0,useValue:t},{provide:Uk,useFactory:RB,deps:[[Ni,new l.FiY,new l.tp0]]},{provide:JD,useValue:r||{}},r?.useHash?{provide:at,useClass:Fe}:{provide:at,useClass:Oe},{provide:kA,useFactory:()=>{const n=(0,l.f3M)(nc),e=(0,l.f3M)(l.R0b),t=(0,l.f3M)(JD),r=(0,l.f3M)(QD),i=(0,l.f3M)(T0);return t.scrollOffset&&n.setOffset(t.scrollOffset),new Fk(i,r,n,e,t)}},r?.preloadingStrategy?xB(r.preloadingStrategy).\u0275providers:[],{provide:l.PXZ,multi:!0,useFactory:TB},r?.initialNavigation?kB(r):[],[{provide:jk,useFactory:Lk},{provide:l.tb,multi:!0,useExisting:jk}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Dy,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Uk,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[CA]}),n})();function RB(n){if(B0&&n)throw new l.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function kB(n){return["disabled"===n.initialNavigation?Xf(3,[{provide:l.ip1,multi:!0,useFactory:()=>{const e=(0,l.f3M)(Ni);return()=>{e.setUpLocationChangeListener()}}},{provide:NA,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Xf(2,[{provide:NA,useValue:0},{provide:l.ip1,multi:!0,deps:[l.zs3],useFactory:e=>{const t=e.get(Ce,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(Ni),s=e.get(Vk);(function bB(n,e){n.events.pipe(Qr(t=>t instanceof jm||t instanceof UD||t instanceof mA||t instanceof HD),(0,ct.U)(t=>t instanceof jm||t instanceof HD?ia.COMPLETE:t instanceof UD&&(0===t.code||1===t.code)?ia.REDIRECTING:ia.FAILED),Qr(t=>t!==ia.REDIRECTING),cu(1)).subscribe(()=>{e()})})(i,()=>{r(!0)}),e.get(QD).afterPreactivation=()=>(r(!0),s.closed?Ye(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const jk=new l.OlP(B0?"Router Initializer":"");let FA;try{FA=typeof Intl<"u"&&Intl.v8BreakIterator}catch{FA=!1}let Iy,Qo=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function is(n){return n===hp}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!FA)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.Lbi))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const zk=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function $k(){if(Iy)return Iy;if("object"!=typeof document||!document)return Iy=new Set(zk),Iy;let n=document.createElement("input");return Iy=new Set(zk.filter(e=>(n.setAttribute("type",e),n.type===e))),Iy}let U0,XD,zm,PA;function H0(n){return function NB(){if(null==U0&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>U0=!0}))}finally{U0=U0||!1}return U0}()?n:!!n.capture}function j0(){if("object"!=typeof document||!document)return 0;if(null==XD){const n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const t=document.createElement("div"),r=t.style;r.width="2px",r.height="1px",n.appendChild(t),document.body.appendChild(n),XD=0,0===n.scrollLeft&&(n.scrollLeft=1,XD=0===n.scrollLeft?1:2),n.remove()}return XD}function Ty(n){return n.composedPath?n.composedPath()[0]:n.target}function Gk(n){return Qr((e,t)=>n<=t)}var qB=V(5032);function Ya(n){return(0,gr.e)((e,t)=>{(0,Bm.Xf)(n).subscribe((0,Dn.x)(t,()=>t.complete(),qB.Z)),!t.closed&&e.subscribe(t)})}function Jo(n){return null!=n&&"false"!=`${n}`}function qk(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function Wk(n){return Array.isArray(n)?n:[n]}function $d(n){return n instanceof l.SBq?n.nativeElement:n}function Zk(n,e=uo.z){return(0,gr.e)((t,r)=>{let i=null,s=null,u=null;const f=()=>{if(i){i.unsubscribe(),i=null;const b=s;s=null,r.next(b)}};function _(){const b=u+n,I=e.now();if(I<b)return i=this.schedule(void 0,b-I),void r.add(i);f()}t.subscribe((0,Dn.x)(r,b=>{s=b,u=e.now(),i||(i=e.schedule(_,n),r.add(i))},()=>{f(),r.complete()},void 0,()=>{s=i=null}))})}const Kk=new Set;let Sy,ZB=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):YB}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function KB(n){if(!Kk.has(n))try{Sy||(Sy=document.createElement("style"),Sy.setAttribute("type","text/css"),document.head.appendChild(Sy)),Sy.sheet&&(Sy.sheet.insertRule(`@media ${n} {body{ }}`,0),Kk.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Qo))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function YB(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let QB=(()=>{class n{constructor(t,r){this._mediaMatcher=t,this._zone=r,this._queries=new Map,this._destroySubject=new xn.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return Yk(Wk(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let s=my(Yk(Wk(t)).map(u=>this._registerQuery(u).observable));return s=Aa(s.pipe(cu(1)),s.pipe(Gk(1),Zk(0))),s.pipe((0,ct.U)(u=>{const f={matches:!1,breakpoints:{}};return u.forEach(({matches:_,query:b})=>{f.matches=f.matches||_,f.breakpoints[b]=_}),f}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const r=this._mediaMatcher.matchMedia(t),s={observable:new Un.y(u=>{const f=_=>this._zone.run(()=>u.next(_));return r.addListener(f),()=>{r.removeListener(f)}}).pipe(Ur(r),(0,ct.U)(({matches:u})=>({query:t,matches:u})),Ya(this._destroySubject)),mql:r};return this._queries.set(t,s),s}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ZB),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Yk(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}function ex(n,e){return(n.getAttribute(e)||"").match(/\S+/g)||[]}const Jk="cdk-describedby-message",tx="cdk-describedby-host";let LA=0,eU=(()=>{class n{constructor(t,r){this._platform=r,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+LA++,this._document=t,this._id=(0,l.f3M)(l.AFp)+"-"+LA++}describe(t,r,i){if(!this._canBeDescribed(t,r))return;const s=VA(r,i);"string"!=typeof r?(Xk(r,this._id),this._messageRegistry.set(s,{messageElement:r,referenceCount:0})):this._messageRegistry.has(s)||this._createMessageElement(r,i),this._isElementDescribedByMessage(t,s)||this._addMessageReference(t,s)}removeDescription(t,r,i){if(!r||!this._isElementNode(t))return;const s=VA(r,i);if(this._isElementDescribedByMessage(t,s)&&this._removeMessageReference(t,s),"string"==typeof r){const u=this._messageRegistry.get(s);u&&0===u.referenceCount&&this._deleteMessageElement(s)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const t=this._document.querySelectorAll(`[${tx}="${this._id}"]`);for(let r=0;r<t.length;r++)this._removeCdkDescribedByReferenceIds(t[r]),t[r].removeAttribute(tx);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(t,r){const i=this._document.createElement("div");Xk(i,this._id),i.textContent=t,r&&i.setAttribute("role",r),this._createMessagesContainer(),this._messagesContainer.appendChild(i),this._messageRegistry.set(VA(t,r),{messageElement:i,referenceCount:0})}_deleteMessageElement(t){this._messageRegistry.get(t)?.messageElement?.remove(),this._messageRegistry.delete(t)}_createMessagesContainer(){if(this._messagesContainer)return;const t="cdk-describedby-message-container",r=this._document.querySelectorAll(`.${t}[platform="server"]`);for(let s=0;s<r.length;s++)r[s].remove();const i=this._document.createElement("div");i.style.visibility="hidden",i.classList.add(t),i.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&i.setAttribute("platform","server"),this._document.body.appendChild(i),this._messagesContainer=i}_removeCdkDescribedByReferenceIds(t){const r=ex(t,"aria-describedby").filter(i=>0!=i.indexOf(Jk));t.setAttribute("aria-describedby",r.join(" "))}_addMessageReference(t,r){const i=this._messageRegistry.get(r);(function JB(n,e,t){const r=ex(n,e);r.some(i=>i.trim()==t.trim())||(r.push(t.trim()),n.setAttribute(e,r.join(" ")))})(t,"aria-describedby",i.messageElement.id),t.setAttribute(tx,this._id),i.referenceCount++}_removeMessageReference(t,r){const i=this._messageRegistry.get(r);i.referenceCount--,function XB(n,e,t){const i=ex(n,e).filter(s=>s!=t.trim());i.length?n.setAttribute(e,i.join(" ")):n.removeAttribute(e)}(t,"aria-describedby",i.messageElement.id),t.removeAttribute(tx)}_isElementDescribedByMessage(t,r){const i=ex(t,"aria-describedby"),s=this._messageRegistry.get(r),u=s&&s.messageElement.id;return!!u&&-1!=i.indexOf(u)}_canBeDescribed(t,r){if(!this._isElementNode(t))return!1;if(r&&"object"==typeof r)return!0;const i=null==r?"":`${r}`.trim(),s=t.getAttribute("aria-label");return!(!i||s&&s.trim()===i)}_isElementNode(t){return t.nodeType===this._document.ELEMENT_NODE}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(re),l.LFG(Qo))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function VA(n,e){return"string"==typeof n?`${e||""}/${n}`:n}function Xk(n,e){n.id||(n.id=`${Jk}-${e}-${LA++}`)}function tO(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function nO(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const sU=new l.OlP("cdk-input-modality-detector-options"),aU={ignoreKeys:[18,17,224,91,16]},Ay=H0({passive:!0,capture:!0});let lU=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,r,i,s){this._platform=t,this._mostRecentTarget=null,this._modality=new vo(null),this._lastTouchMs=0,this._onKeydown=u=>{this._options?.ignoreKeys?.some(f=>f===u.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Ty(u))},this._onMousedown=u=>{Date.now()-this._lastTouchMs<650||(this._modality.next(tO(u)?"keyboard":"mouse"),this._mostRecentTarget=Ty(u))},this._onTouchstart=u=>{nO(u)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Ty(u))},this._options={...aU,...s},this.modalityDetected=this._modality.pipe(Gk(1)),this.modalityChanged=this.modalityDetected.pipe(Hu()),t.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,Ay),i.addEventListener("mousedown",this._onMousedown,Ay),i.addEventListener("touchstart",this._onTouchstart,Ay)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Ay),document.removeEventListener("mousedown",this._onMousedown,Ay),document.removeEventListener("touchstart",this._onTouchstart,Ay))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Qo),l.LFG(l.R0b),l.LFG(re),l.LFG(sU,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const uU=new l.OlP("cdk-focus-monitor-default-options"),nx=H0({passive:!0,capture:!0});let iO=(()=>{class n{constructor(t,r,i,s,u){this._ngZone=t,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new xn.x,this._rootNodeFocusAndBlurListener=f=>{for(let b=Ty(f);b;b=b.parentElement)"focus"===f.type?this._onFocus(f,b):this._onBlur(f,b)},this._document=s,this._detectionMode=u?.detectionMode||0}monitor(t,r=!1){const i=$d(t);if(!this._platform.isBrowser||1!==i.nodeType)return Ye(null);const s=function LB(n){if(function PB(){if(null==PA){const n=typeof document<"u"?document.head:null;PA=!(!n||!n.createShadowRoot&&!n.attachShadow)}return PA}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(i)||this._getDocument(),u=this._elementInfo.get(i);if(u)return r&&(u.checkChildren=!0),u.subject;const f={checkChildren:r,subject:new xn.x,rootNode:s};return this._elementInfo.set(i,f),this._registerGlobalListeners(f),f.subject}stopMonitoring(t){const r=$d(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){const s=$d(t);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([f,_])=>this._originChanged(f,r,_)):(this._setOrigin(r),"function"==typeof s.focus&&s.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused","touch"===r),t.classList.toggle("cdk-keyboard-focused","keyboard"===r),t.classList.toggle("cdk-mouse-focused","mouse"===r),t.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const i=this._elementInfo.get(r),s=Ty(t);!i||!i.checkChildren&&r!==s||this._originChanged(r,this._getFocusOrigin(s),i)}_onBlur(t,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(t,r){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,nx),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,nx)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Ya(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,nx),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,nx),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((i,s)=>{(s===t||i.checkChildren&&s.contains(t))&&r.push([s,i])}),r}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if("mouse"!==i||!r||r===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const s=t.labels;if(s)for(let u=0;u<s.length;u++)if(s[u].contains(r))return!0;return!1}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.R0b),l.LFG(Qo),l.LFG(lU),l.LFG(re,8),l.LFG(uU,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const oO="cdk-high-contrast-black-on-white",sO="cdk-high-contrast-white-on-black",BA="cdk-high-contrast-active";let dU=(()=>{class n{constructor(t,r){this._platform=t,this._document=r,this._breakpointSubscription=(0,l.f3M)(QB).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,s=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(BA,oO,sO),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?t.add(BA,oO):2===r&&t.add(BA,sO)}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Qo),l.LFG(re))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const hU=new l.OlP("cdk-dir-doc",{providedIn:"root",factory:function fU(){return(0,l.f3M)(re)}}),pU=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let z0=(()=>{class n{constructor(t){this.value="ltr",this.change=new l.vpe,t&&(this.value=function mU(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?pU.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(hU,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),gU=(()=>{class n{}return n.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",n.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",n.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",n.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)",n})(),_U=(()=>{class n{}return n.COMPLEX="375ms",n.ENTERING="225ms",n.EXITING="195ms",n})();const vU=new l.OlP("mat-sanity-checks",{providedIn:"root",factory:function yU(){return!0}});let oa=(()=>{class n{constructor(t,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!function VB(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(dU),l.LFG(vU,8),l.LFG(re))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[rx,rx]}),n})();function UA(n){return class extends n{get disabled(){return this._disabled}set disabled(e){this._disabled=Jo(e)}constructor(...e){super(...e),this._disabled=!1}}}function cO(n,e){return class extends n{get color(){return this._color}set color(t){const r=t||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}constructor(...t){super(...t),this.defaultColor=e,this.color=e}}}function bU(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Jo(e)}constructor(...e){super(...e),this._disableRipple=!1}}}function wU(n){return class extends n{updateErrorState(){const e=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==e&&(this.errorState=s,this.stateChanges.next())}constructor(...e){super(...e),this.errorState=!1}}}function EU(n){return class extends n{constructor(...e){super(...e),this._isInitialized=!1,this._pendingSubscribers=[],this.initialized=new Un.y(t=>{this._isInitialized?this._notifySubscriber(t):this._pendingSubscribers.push(t)})}_markInitialized(){this._isInitialized=!0,this._pendingSubscribers.forEach(this._notifySubscriber),this._pendingSubscribers=null}_notifySubscriber(e){e.next(),e.complete()}}}let DU=(()=>{class n{isErrorState(t,r){return!!(t&&t.invalid&&(t.touched||r&&r.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class xU{constructor(e,t,r,i=!1){this._renderer=e,this.element=t,this.config=r,this._animationForciblyDisabledThroughCss=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const uO=H0({passive:!0,capture:!0});class IU{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=Ty(e);t&&this._events.get(e.type)?.forEach((r,i)=>{(i===t||i.contains(t))&&r.forEach(s=>s.handleEvent(e))})}}addHandler(e,t,r,i){const s=this._events.get(t);if(s){const u=s.get(r);u?u.add(i):s.set(r,new Set([i]))}else this._events.set(t,new Map([[r,new Set([i])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,uO)})}removeHandler(e,t,r){const i=this._events.get(e);if(!i)return;const s=i.get(t);s&&(s.delete(r),0===s.size&&i.delete(t),0===i.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,uO)))}}const dO={enterDuration:225,exitDuration:150},hO=H0({passive:!0,capture:!0}),fO=["mousedown","touchstart"],pO=["mouseup","mouseleave","touchend","touchcancel"];class G0{constructor(e,t,r,i){this._target=e,this._ngZone=t,this._platform=i,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=$d(r))}fadeInRipple(e,t,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...dO,...r.animation};r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);const u=r.radius||function SU(n,e,t){const r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}(e,t,i),f=e-i.left,_=t-i.top,b=s.enterDuration,I=document.createElement("div");I.classList.add("mat-ripple-element"),I.style.left=f-u+"px",I.style.top=_-u+"px",I.style.height=2*u+"px",I.style.width=2*u+"px",null!=r.color&&(I.style.backgroundColor=r.color),I.style.transitionDuration=`${b}ms`,this._containerElement.appendChild(I);const M=window.getComputedStyle(I),$=M.transitionDuration,ee="none"===M.transitionProperty||"0s"===$||"0s, 0s"===$||0===i.width&&0===i.height,ie=new xU(this,I,r,ee);I.style.transform="scale3d(1, 1, 1)",ie.state=0,r.persistent||(this._mostRecentTransientRipple=ie);let de=null;return!ee&&(b||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const qe=()=>this._finishRippleTransition(ie),rt=()=>this._destroyRipple(ie);I.addEventListener("transitionend",qe),I.addEventListener("transitioncancel",rt),de={onTransitionEnd:qe,onTransitionCancel:rt}}),this._activeRipples.set(ie,de),(ee||!b)&&this._finishRippleTransition(ie),ie}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,r={...dO,...e.config.animation};t.style.transitionDuration=`${r.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=$d(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,fO.forEach(r=>{G0._eventManager.addHandler(this._ngZone,r,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{pO.forEach(t=>{this._triggerElement.addEventListener(t,this,hO)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:r}=e.config;e.state=1,!r&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=tO(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!nO(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(fO.forEach(t=>G0._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&pO.forEach(t=>e.removeEventListener(t,this,hO)))}}G0._eventManager=new IU;const AU=new l.OlP("mat-ripple-global-options");let HA=(()=>{class n{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,r,i,s,u){this._elementRef=t,this._animationMode=u,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new G0(this,r,t,i)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,r=0,i){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,r,{...this.rippleConfig,...i}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(Qo),l.Y36(AU,8),l.Y36(l.QbO,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,r){2&t&&l.ekj("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),MU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[oa,oa]}),n})();const RU=["mat-button",""],kU=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],OU=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],FU=["mat-icon-button",""],PU=["*"],LU=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],VU=cO(UA(bU(class{constructor(n){this._elementRef=n}})));let mO=(()=>{class n extends VU{constructor(t,r,i,s){super(t),this._platform=r,this._ngZone=i,this._animationMode=s,this._focusMonitor=(0,l.f3M)(iO),this._isFab=!1;const u=t.nativeElement.classList;for(const f of LU)this._hasHostAttributes(f.selector)&&f.mdcClasses.forEach(_=>{u.add(_)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t="program",r){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,r):this._elementRef.nativeElement.focus(r)}_hasHostAttributes(...t){return t.some(r=>this._elementRef.nativeElement.hasAttribute(r))}_isRippleDisabled(){return this.disableRipple||this.disabled}}return n.\u0275fac=function(t){l.$Z()},n.\u0275dir=l.lG2({type:n,viewQuery:function(t,r){if(1&t&&l.Gf(HA,5),2&t){let i;l.iGM(i=l.CRH())&&(r.ripple=i.first)}},features:[l.qOj]}),n})(),q0=(()=>{class n extends mO{constructor(t,r,i,s){super(t,r,i,s)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(Qo),l.Y36(l.R0b),l.Y36(l.QbO,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(t,r){2&t&&(l.uIk("disabled",r.disabled||null),l.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[l.qOj],attrs:RU,ngContentSelectors:OU,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(t,r){1&t&&(l.F$t(kU),l._UZ(0,"span",0),l.Hsn(1),l.TgZ(2,"span",1),l.Hsn(3,1),l.qZA(),l.Hsn(4,2),l._UZ(5,"span",2)(6,"span",3)(7,"span",4)),2&t&&(l.ekj("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab),l.xp6(6),l.Q6J("matRippleDisabled",r._isRippleDisabled())("matRippleTrigger",r._elementRef.nativeElement))},dependencies:[HA],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),gO=(()=>{class n extends mO{constructor(t,r,i,s){super(t,r,i,s)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(Qo),l.Y36(l.R0b),l.Y36(l.QbO,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["button","mat-icon-button",""]],hostVars:7,hostBindings:function(t,r){2&t&&(l.uIk("disabled",r.disabled||null),l.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[l.qOj],attrs:FU,ngContentSelectors:PU,decls:5,vars:3,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(t,r){1&t&&(l.F$t(),l._UZ(0,"span",0),l.Hsn(1),l._UZ(2,"span",1)(3,"span",2)(4,"span",3)),2&t&&(l.xp6(3),l.Q6J("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",!0)("matRippleTrigger",r._elementRef.nativeElement))},dependencies:[HA],styles:['.mdc-icon-button{font-size:24px;width:48px;height:48px;padding:12px}.mdc-icon-button .mdc-icon-button__focus-ring{max-height:48px;max-width:48px}.mdc-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:40px;height:40px;margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:40px;max-width:40px}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-icon-button svg,.mdc-icon-button img{width:24px;height:24px}.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size, 48px);width:var(--mdc-icon-button-state-layer-size, 48px);color:var(--mdc-icon-button-icon-color, inherit);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size, 24px)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size, 24px);height:var(--mdc-icon-button-icon-size, 24px)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity, 0.38)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color, #000)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),_O=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[oa,MU,oa]}),n})();function yO(...n){const e=(0,Oo.jO)(n),{args:t,keys:r}=O1(n),i=new Un.y(s=>{const{length:u}=t;if(!u)return void s.complete();const f=new Array(u);let _=u,b=u;for(let I=0;I<u;I++){let M=!1;(0,Bm.Xf)(t[I]).subscribe((0,Dn.x)(s,U=>{M||(M=!0,b--),f[I]=U},()=>_--,void 0,()=>{(!_||!M)&&(b||s.next(r?N1(r,f):f),s.complete())}))}});return e?i.pipe(iA(e)):i}class jA{}class ep{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),s=i.toLowerCase(),u=t.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(u):this.headers.set(s,[u])}})}:()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{let i;if(i="string"==typeof r?[r]:"number"==typeof r?[r.toString()]:r.map(s=>s.toString()),i.length>0){const s=t.toLowerCase();this.headers.set(s,i),this.maybeSetNormalizedName(t,s)}})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof ep?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new ep;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof ep?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const s=e.value;if(s){let u=this.headers.get(t);if(!u)return;u=u.filter(f=>-1===s.indexOf(f)),0===u.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,u)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class HU{encodeKey(e){return bO(e)}encodeValue(e){return bO(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const zU=/%(\d[a-f0-9])/gi,$U={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function bO(n){return encodeURIComponent(n).replace(zU,(e,t)=>$U[t]??e)}function ix(n){return`${n}`}class tp{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new HU,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function jU(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[u,f]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],_=t.get(u)||[];_.push(f),t.set(u,_)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(ix):[ix(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new tp({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(ix(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(ix(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class GU{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function wO(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function EO(n){return typeof Blob<"u"&&n instanceof Blob}function CO(n){return typeof FormData<"u"&&n instanceof FormData}class W0{constructor(e,t,r,i){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function qU(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new ep),this.context||(this.context=new GU),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=t;else{const f=t.indexOf("?");this.urlWithParams=t+(-1===f?"?":f<t.length-1?"&":"")+u}}else this.params=new tp,this.urlWithParams=t}serializeBody(){return null===this.body?null:wO(this.body)||EO(this.body)||CO(this.body)||function WU(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof tp?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||CO(this.body)?null:EO(this.body)?this.body.type||null:wO(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof tp?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,u=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,f=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let _=e.headers||this.headers,b=e.params||this.params;const I=e.context??this.context;return void 0!==e.setHeaders&&(_=Object.keys(e.setHeaders).reduce((M,U)=>M.set(U,e.setHeaders[U]),_)),e.setParams&&(b=Object.keys(e.setParams).reduce((M,U)=>M.set(U,e.setParams[U]),b)),new W0(t,r,s,{params:b,headers:_,context:I,reportProgress:f,responseType:i,withCredentials:u})}}var to=(()=>((to=to||{})[to.Sent=0]="Sent",to[to.UploadProgress=1]="UploadProgress",to[to.ResponseHeader=2]="ResponseHeader",to[to.DownloadProgress=3]="DownloadProgress",to[to.Response=4]="Response",to[to.User=5]="User",to))();class ZU{constructor(e,t=200,r="OK"){this.headers=e.headers||new ep,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class zA extends ZU{constructor(e={}){super(e),this.type=to.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new zA({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function $A(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let GA=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let s;if(t instanceof W0)s=t;else{let _,b;_=i.headers instanceof ep?i.headers:new ep(i.headers),i.params&&(b=i.params instanceof tp?i.params:new tp({fromObject:i.params})),s=new W0(t,r,void 0!==i.body?i.body:null,{headers:_,context:i.context,params:b,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const u=Ye(s).pipe(Kf(_=>this.handler.handle(_)));if(t instanceof W0||"events"===i.observe)return u;const f=u.pipe(Qr(_=>_ instanceof zA));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return f.pipe((0,ct.U)(_=>{if(null!==_.body&&!(_.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _.body}));case"blob":return f.pipe((0,ct.U)(_=>{if(null!==_.body&&!(_.body instanceof Blob))throw new Error("Response is not a Blob.");return _.body}));case"text":return f.pipe((0,ct.U)(_=>{if(null!==_.body&&"string"!=typeof _.body)throw new Error("Response is not a string.");return _.body}));default:return f.pipe((0,ct.U)(_=>_.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new tp).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,$A(i,r))}post(t,r,i={}){return this.request("POST",t,$A(i,r))}put(t,r,i={}){return this.request("PUT",t,$A(i,r))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(jA))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const aH=["*"];let sx;function Z0(n){return function lH(){if(void 0===sx&&(sx=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(sx=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return sx}()?.createHTML(n)||n}function RO(n){return Error(`Unable to find icon with the name "${n}"`)}function kO(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function OO(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class $m{constructor(e,t,r){this.url=e,this.svgText=t,this.options=r}}let ax=(()=>{class n{constructor(t,r,i,s){this._httpClient=t,this._sanitizer=r,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=i}addSvgIcon(t,r,i){return this.addSvgIconInNamespace("",t,r,i)}addSvgIconLiteral(t,r,i){return this.addSvgIconLiteralInNamespace("",t,r,i)}addSvgIconInNamespace(t,r,i,s){return this._addSvgIconConfig(t,r,new $m(i,null,s))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,r,i,s){const u=this._sanitizer.sanitize(l.q3G.HTML,i);if(!u)throw OO(i);const f=Z0(u);return this._addSvgIconConfig(t,r,new $m("",f,s))}addSvgIconSet(t,r){return this.addSvgIconSetInNamespace("",t,r)}addSvgIconSetLiteral(t,r){return this.addSvgIconSetLiteralInNamespace("",t,r)}addSvgIconSetInNamespace(t,r,i){return this._addSvgIconSetConfig(t,new $m(r,null,i))}addSvgIconSetLiteralInNamespace(t,r,i){const s=this._sanitizer.sanitize(l.q3G.HTML,r);if(!s)throw OO(r);const u=Z0(s);return this._addSvgIconSetConfig(t,new $m("",u,i))}registerFontClassAlias(t,r=t){return this._fontCssClassesByAlias.set(t,r),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const r=this._sanitizer.sanitize(l.q3G.RESOURCE_URL,t);if(!r)throw kO(t);const i=this._cachedIconsByUrl.get(r);return i?Ye(lx(i)):this._loadSvgIconFromConfig(new $m(t,null)).pipe((0,Oi.b)(s=>this._cachedIconsByUrl.set(r,s)),(0,ct.U)(s=>lx(s)))}getNamedSvgIcon(t,r=""){const i=NO(r,t);let s=this._svgIconConfigs.get(i);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(r,t),s)return this._svgIconConfigs.set(i,s),this._getSvgFromConfig(s);const u=this._iconSetConfigs.get(r);return u?this._getSvgFromIconSetConfigs(t,u):gy(RO(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?Ye(lx(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,ct.U)(r=>lx(r)))}_getSvgFromIconSetConfigs(t,r){const i=this._extractIconWithNameFromAnySet(t,r);return i?Ye(i):yO(r.filter(u=>!u.svgText).map(u=>this._loadSvgIconSetFromConfig(u).pipe(jd(f=>{const b=`Loading icon set URL: ${this._sanitizer.sanitize(l.q3G.RESOURCE_URL,u.url)} failed: ${f.message}`;return this._errorHandler.handleError(new Error(b)),Ye(null)})))).pipe((0,ct.U)(()=>{const u=this._extractIconWithNameFromAnySet(t,r);if(!u)throw RO(t);return u}))}_extractIconWithNameFromAnySet(t,r){for(let i=r.length-1;i>=0;i--){const s=r[i];if(s.svgText&&s.svgText.toString().indexOf(t)>-1){const u=this._svgElementFromConfig(s),f=this._extractSvgIconFromSet(u,t,s.options);if(f)return f}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe((0,Oi.b)(r=>t.svgText=r),(0,ct.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?Ye(null):this._fetchIcon(t).pipe((0,Oi.b)(r=>t.svgText=r))}_extractSvgIconFromSet(t,r,i){const s=t.querySelector(`[id="${r}"]`);if(!s)return null;const u=s.cloneNode(!0);if(u.removeAttribute("id"),"svg"===u.nodeName.toLowerCase())return this._setSvgAttributes(u,i);if("symbol"===u.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(u),i);const f=this._svgElementFromString(Z0("<svg></svg>"));return f.appendChild(u),this._setSvgAttributes(f,i)}_svgElementFromString(t){const r=this._document.createElement("DIV");r.innerHTML=t;const i=r.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(t){const r=this._svgElementFromString(Z0("<svg></svg>")),i=t.attributes;for(let s=0;s<i.length;s++){const{name:u,value:f}=i[s];"id"!==u&&r.setAttribute(u,f)}for(let s=0;s<t.childNodes.length;s++)t.childNodes[s].nodeType===this._document.ELEMENT_NODE&&r.appendChild(t.childNodes[s].cloneNode(!0));return r}_setSvgAttributes(t,r){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),r&&r.viewBox&&t.setAttribute("viewBox",r.viewBox),t}_fetchIcon(t){const{url:r,options:i}=t,s=i?.withCredentials??!1;if(!this._httpClient)throw function cH(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const u=this._sanitizer.sanitize(l.q3G.RESOURCE_URL,r);if(!u)throw kO(r);const f=this._inProgressUrlFetches.get(u);if(f)return f;const _=this._httpClient.get(u,{responseType:"text",withCredentials:s}).pipe((0,ct.U)(b=>Z0(b)),kD(()=>this._inProgressUrlFetches.delete(u)),(0,ZR.B)());return this._inProgressUrlFetches.set(u,_),_}_addSvgIconConfig(t,r,i){return this._svgIconConfigs.set(NO(t,r),i),this}_addSvgIconSetConfig(t,r){const i=this._iconSetConfigs.get(t);return i?i.push(r):this._iconSetConfigs.set(t,[r]),this}_svgElementFromConfig(t){if(!t.svgElement){const r=this._svgElementFromString(t.svgText);this._setSvgAttributes(r,t.options),t.svgElement=r}return t.svgElement}_getIconConfigFromResolvers(t,r){for(let i=0;i<this._resolvers.length;i++){const s=this._resolvers[i](r,t);if(s)return dH(s)?new $m(s.url,null,s.options):new $m(s,null)}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(GA,8),l.LFG($s),l.LFG(re,8),l.LFG(l.qLn))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function lx(n){return n.cloneNode(!0)}function NO(n,e){return n+":"+e}function dH(n){return!(!n.url||!n.options)}const hH=cO(class{constructor(n){this._elementRef=n}}),fH=new l.OlP("MAT_ICON_DEFAULT_OPTIONS"),pH=new l.OlP("mat-icon-location",{providedIn:"root",factory:function mH(){const n=(0,l.f3M)(re),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),FO=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],gH=FO.map(n=>`[${n}]`).join(", "),_H=/^url\(['"]?#(.*?)['"]?\)$/;let Gm=(()=>{class n extends hH{get inline(){return this._inline}set inline(t){this._inline=Jo(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const r=this._cleanupFontValue(t);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const r=this._cleanupFontValue(t);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}constructor(t,r,i,s,u,f){super(t),this._iconRegistry=r,this._location=s,this._errorHandler=u,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=D0.w0.EMPTY,f&&(f.color&&(this.color=this.defaultColor=f.color),f.fontSet&&(this.fontSet=f.fontSet)),i||t.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(t){if(!t)return["",""];const r=t.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let r=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const i=t.childNodes[r];(1!==i.nodeType||"svg"===i.nodeName.toLowerCase())&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(i=>i.length>0);this._previousFontSetClass.forEach(i=>t.classList.remove(i)),r.forEach(i=>t.classList.add(i)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const r=this._elementsWithExternalReferences;r&&r.forEach((i,s)=>{i.forEach(u=>{s.setAttribute(u.name,`url('${t}#${u.value}')`)})})}_cacheChildrenWithExternalReferences(t){const r=t.querySelectorAll(gH),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<r.length;s++)FO.forEach(u=>{const f=r[s],_=f.getAttribute(u),b=_?_.match(_H):null;if(b){let I=i.get(f);I||(I=[],i.set(f,I)),I.push({name:u,value:b[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[r,i]=this._splitIconName(t);r&&(this._svgNamespace=r),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,r).pipe(cu(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${i}! ${s.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(ax),l.$8M("aria-hidden"),l.Y36(pH),l.Y36(l.qLn),l.Y36(fH,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(t,r){2&t&&(l.uIk("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),l.ekj("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[l.qOj],ngContentSelectors:aH,decls:1,vars:0,template:function(t,r){1&t&&(l.F$t(),l.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),PO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[oa,oa]}),n})(),yH=(()=>{class n{constructor(t,r){this._UsersService=t,this._ActivatedRoute=r,this.userId=""}ngOnInit(){this.userId=this._ActivatedRoute.snapshot.params.id,this._UsersService.getUserInfo(this.userId).subscribe(t=>{this.user=t.data()})}static#e=this.\u0275fac=function(r){return new(r||n)(l.Y36(RD),l.Y36(Jf))};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["app-user-info"]],decls:22,vars:3,consts:[[1,"card","p-5","m-5","text-center","text-md-start"],[1,"row","align-items-center"],[1,"col-md-4"],[1,"person"],[1,"col-md-8"],[1,"mt-3"],["mat-button","","color","primary"],["routerLink","/dashboard",1,"d-flex","align-items-center"],[1,"mat-18","me-2"]],template:function(r,i){1&r&&(l.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-icon",3),l._uU(4,"person"),l.qZA()(),l.TgZ(5,"div",4)(6,"h3"),l._uU(7),l.qZA(),l.TgZ(8,"p")(9,"strong"),l._uU(10,"Email:"),l.qZA(),l._uU(11),l.qZA(),l.TgZ(12,"p")(13,"strong"),l._uU(14,"Phone:"),l.qZA(),l._uU(15),l.qZA()()()(),l.TgZ(16,"div",5)(17,"button",6)(18,"a",7)(19,"mat-icon",8),l._uU(20,"arrow_back"),l.qZA(),l._uU(21," Back to dashboard"),l.qZA()()()),2&r&&(l.xp6(7),l.Oqu(null==i.user?null:i.user.name),l.xp6(4),l.hij(" ",null==i.user?null:i.user.email,""),l.xp6(4),l.hij(" ",null==i.user?null:i.user.phone,""))},dependencies:[hu,q0,Gm],styles:[".person[_ngcontent-%COMP%]{width:unset;height:unset;font-size:150px}"]})}return n})(),LO=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n}),n})(),qm=(()=>{class n extends LO{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})();const fu=new l.OlP("NgValueAccessor"),bH={provide:fu,useExisting:(0,l.Gpc)(()=>ky),multi:!0},EH=new l.OlP("CompositionEventMode");let ky=(()=>{class n extends LO{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function wH(){const n=F()?F().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(EH,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&l.NdJ("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[l._Bn([bH]),l.qOj]}),n})();const CH=!1;function np(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function BO(n){return null!=n&&"number"==typeof n.length}const wo=new l.OlP("NgValidators"),rp=new l.OlP("NgAsyncValidators"),DH=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class no{static min(e){return function UO(n){return e=>{if(np(e.value)||np(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function HO(n){return e=>{if(np(e.value)||np(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return jO(e)}static requiredTrue(e){return function zO(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function $O(n){return np(n.value)||DH.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function GO(n){return e=>np(e.value)||!BO(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function qO(n){return e=>BO(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function WO(n){if(!n)return cx;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(np(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return XO(e)}static composeAsync(e){return eN(e)}}function jO(n){return np(n.value)?{required:!0}:null}function cx(n){return null}function ZO(n){return null!=n}function KO(n){const e=(0,l.QGY)(n)?(0,pn.D)(n):n;if(CH&&!(0,l.CqO)(e)){let t="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(t+=" Are you using a synchronous validator where an async validator is expected?"),new l.vHH(-1101,t)}return e}function YO(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function QO(n,e){return e.map(t=>t(n))}function JO(n){return n.map(e=>function xH(n){return!n.validate}(e)?e:t=>e.validate(t))}function XO(n){if(!n)return null;const e=n.filter(ZO);return 0==e.length?null:function(t){return YO(QO(t,e))}}function WA(n){return null!=n?XO(JO(n)):null}function eN(n){if(!n)return null;const e=n.filter(ZO);return 0==e.length?null:function(t){return yO(QO(t,e).map(KO)).pipe((0,ct.U)(YO))}}function ZA(n){return null!=n?eN(JO(n)):null}function tN(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function nN(n){return n._rawValidators}function rN(n){return n._rawAsyncValidators}function KA(n){return n?Array.isArray(n)?n:[n]:[]}function ux(n,e){return Array.isArray(n)?n.includes(e):n===e}function iN(n,e){const t=KA(e);return KA(n).forEach(i=>{ux(t,i)||t.push(i)}),t}function oN(n,e){return KA(e).filter(t=>!ux(n,t))}class sN{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=WA(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=ZA(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Xo extends sN{get formDirective(){return null}get path(){return null}}class Gd extends sN{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class aN{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let dx=(()=>{class n extends aN{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Gd,2))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&l.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[l.qOj]}),n})(),hx=(()=>{class n extends aN{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Xo,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&l.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[l.qOj]}),n})();function lN(n,e){return n?`with name: '${e}'`:`at index: ${e}`}const JA=!1,K0="VALID",px="INVALID",Oy="PENDING",Y0="DISABLED";function XA(n){return(mx(n)?n.validators:n)||null}function eM(n,e){return(mx(e)?e.asyncValidators:n)||null}function mx(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class dN{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===K0}get invalid(){return this.status===px}get pending(){return this.status==Oy}get disabled(){return this.status===Y0}get enabled(){return this.status!==Y0}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(iN(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(iN(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(oN(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(oN(e,this._rawAsyncValidators))}hasValidator(e){return ux(this._rawValidators,e)}hasAsyncValidator(e){return ux(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Oy,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Y0,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=K0,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===K0||this.status===Oy)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Y0:K0}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Oy,this._hasOwnPendingAsyncValidator=!0;const t=KO(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?Y0:this.errors?px:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Oy)?Oy:this._anyControlsHaveStatus(px)?px:K0}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){mx(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function kH(n){return Array.isArray(n)?WA(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function OH(n){return Array.isArray(n)?ZA(n):n||null}(this._rawAsyncValidators)}}class Ny extends dN{constructor(e,t,r){super(XA(t),eM(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function uN(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new l.vHH(1002,JA?function RH(n,e){return`Must supply a value for form control ${lN(n,e)}`}(e,i):"")})})(this,!0,e),Object.keys(e).forEach(r=>{(function cN(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new l.vHH(1e3,JA?function AH(n){return`\n    There are no form controls registered with this ${n?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(e):"");if(!r[t])throw new l.vHH(1001,JA?function MH(n,e){return`Cannot find form control ${lN(n,e)}`}(e,t):"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const Fy=new l.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>gx}),gx="always";function Q0(n,e,t=gx){tM(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function PH(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&hN(n,e)})}(n,e),function VH(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function LH(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&hN(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function FH(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function yx(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),bx(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function vx(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function tM(n,e){const t=nN(n);null!==e.validator?n.setValidators(tN(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=rN(n);null!==e.asyncValidator?n.setAsyncValidators(tN(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();vx(e._rawValidators,i),vx(e._rawAsyncValidators,i)}function bx(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=nN(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(u=>u!==e.validator);s.length!==i.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const i=rN(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(u=>u!==e.asyncValidator);s.length!==i.length&&(t=!0,n.setAsyncValidators(s))}}}const r=()=>{};return vx(e._rawValidators,r),vx(e._rawAsyncValidators,r),t}function hN(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function fN(n,e){tM(n,e)}function pN(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}const zH={provide:Xo,useExisting:(0,l.Gpc)(()=>wx)},J0=(()=>Promise.resolve())();let wx=(()=>{class n extends Xo{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new l.vpe,this.form=new Ny({},WA(t),ZA(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){J0.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Q0(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){J0.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){J0.then(()=>{const r=this._findContainer(t.path),i=new Ny({});fN(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){J0.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){J0.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,pN(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(wo,10),l.Y36(rp,10),l.Y36(Fy,8))},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&l.NdJ("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([zH]),l.qOj]}),n})();function mN(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function gN(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const pu=class extends dN{constructor(e=null,t,r){super(XA(t),eM(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),mx(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=gN(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){mN(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){mN(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){gN(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let Ex=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const WH={provide:fu,useExisting:(0,l.Gpc)(()=>Cx),multi:!0};let Cx=(()=>{class n extends qm{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&l.NdJ("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},features:[l._Bn([WH]),l.qOj]}),n})(),wN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const oM=new l.OlP("NgModelWithFormControlWarning"),JH={provide:Xo,useExisting:(0,l.Gpc)(()=>Wm)};let Wm=(()=>{class n extends Xo{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(bx(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Q0(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){yx(t.control||null,t,!1),function jH(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,pN(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(yx(r||null,t),(n=>n instanceof pu)(i)&&(Q0(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);fN(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function BH(n,e){return bx(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){tM(this.form,this),this._oldForm&&bx(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(wo,10),l.Y36(rp,10),l.Y36(Fy,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&l.NdJ("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([JH]),l.qOj,l.TTD]}),n})();const tj={provide:Gd,useExisting:(0,l.Gpc)(()=>X0)};let X0=(()=>{class n extends Gd{set isDisabled(t){}constructor(t,r,i,s,u){super(),this._ngModelWarningConfig=u,this._added=!1,this.update=new l.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function iM(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===ky?t=s:function HH(n){return Object.getPrototypeOf(n.constructor)===qm}(s)?r=s:i=s}),i||r||t||null}(0,s)}ngOnChanges(t){this._added||this._setUpControl(),function rM(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function _x(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(l.Y36(Xo,13),l.Y36(wo,10),l.Y36(rp,10),l.Y36(fu,10),l.Y36(oM,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[l._Bn([tj]),l.qOj,l.TTD]}),n})(),Zm=(()=>{class n{constructor(){this._validator=cx}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):cx,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,features:[l.TTD]}),n})();const uj={provide:wo,useExisting:(0,l.Gpc)(()=>Py),multi:!0};let Py=(()=>{class n extends Zm{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=l.D6c,this.createValidator=t=>jO}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&l.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[l._Bn([uj]),l.qOj]}),n})(),gj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[wN]}),n})(),yj=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:oM,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Fy,useValue:t.callSetDisabledState??gx}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[gj]}),n})(),uM=(()=>{class n{constructor(t){this._AngularFireAuth=t}signIn(t,r){return this._AngularFireAuth.signInWithEmailAndPassword(t,r)}signUp(t,r){return this._AngularFireAuth.createUserWithEmailAndPassword(t,r)}logOut(){return this._AngularFireAuth.signOut()}static#e=this.\u0275fac=function(r){return new(r||n)(l.LFG(tA))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class LN{}class vj{}const qd="*";function ip(n,e){return{type:7,name:n,definitions:e,options:{}}}function Qa(n,e=null){return{type:4,styles:e,timings:n}}function VN(n,e=null){return{type:2,steps:n,options:e}}function lr(n){return{type:6,styles:n,offset:null}}function Eo(n,e,t){return{type:0,name:n,styles:e,options:t}}function Dx(n){return{type:5,steps:n}}function sa(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function bj(n=null){return{type:9,options:n}}function wj(n,e,t=null){return{type:11,selector:n,animation:e,options:t}}function BN(n){Promise.resolve().then(n)}class ew{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){BN(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class UN{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const s=this.players.length;0==s?BN(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++t==s&&this._onFinish()}),u.onDestroy(()=>{++r==s&&this._onDestroy()}),u.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((u,f)=>Math.max(u,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const dM="!",HN=["toast-component",""];function Ej(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",5),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.remove())}),l.TgZ(1,"span",6),l._uU(2,"\xd7"),l.qZA()()}}function Cj(n,e){if(1&n&&(l.ynx(0),l._uU(1),l.BQk()),2&n){const t=l.oxw(2);l.xp6(1),l.hij("[",t.duplicatesCount+1,"]")}}function Dj(n,e){if(1&n&&(l.TgZ(0,"div"),l._uU(1),l.YNc(2,Cj,2,1,"ng-container",4),l.qZA()),2&n){const t=l.oxw();l.Tol(t.options.titleClass),l.uIk("aria-label",t.title),l.xp6(1),l.hij(" ",t.title," "),l.xp6(1),l.Q6J("ngIf",t.duplicatesCount)}}function xj(n,e){if(1&n&&l._UZ(0,"div",7),2&n){const t=l.oxw();l.Tol(t.options.messageClass),l.Q6J("innerHTML",t.message,l.oJD)}}function Ij(n,e){if(1&n&&(l.TgZ(0,"div",8),l._uU(1),l.qZA()),2&n){const t=l.oxw();l.Tol(t.options.messageClass),l.uIk("aria-label",t.message),l.xp6(1),l.hij(" ",t.message," ")}}function Tj(n,e){if(1&n&&(l.TgZ(0,"div"),l._UZ(1,"div",9),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Udp("width",t.width+"%")}}class Nj{_attachedHost;component;viewContainerRef;injector;constructor(e,t){this.component=e,this.injector=t}attach(e,t){return this._attachedHost=e,e.attach(this,t)}detach(){const e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class Fj{_attachedPortal;_disposeFn;attach(e,t){return this._attachedPortal=e,this.attachComponentPortal(e,t)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}}class Pj{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new xn.x;_activate=new xn.x;_manualClose=new xn.x;_resetTimeout=new xn.x;_countDuplicate=new xn.x;constructor(e){this._overlayRef=e}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,t){e&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}}class xx{toastId;config;message;title;toastType;toastRef;_onTap=new xn.x;_onAction=new xn.x;constructor(e,t,r,i,s,u){this.toastId=e,this.config=t,this.message=r,this.title=i,this.toastType=s,this.toastRef=u,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}}const zN=new l.OlP("ToastConfig");class Lj extends Fj{_hostDomElement;_componentFactoryResolver;_appRef;constructor(e,t,r){super(),this._hostDomElement=e,this._componentFactoryResolver=t,this._appRef=r}attachComponentPortal(e,t){const r=this._componentFactoryResolver.resolveComponentFactory(e.component);let i;return i=r.create(e.injector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(i),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(i)),i}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let Vj=(()=>{class n{_document=(0,l.f3M)(re);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),t.setAttribute("aria-live","polite"),this._document.body.appendChild(t),this._containerElement=t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class Bj{_portalHost;constructor(e){this._portalHost=e}attach(e,t=!0){return this._portalHost.attach(e,t)}detach(){return this._portalHost.detach()}}let Uj=(()=>{class n{_overlayContainer=(0,l.f3M)(Vj);_componentFactoryResolver=(0,l.f3M)(l._Vd);_appRef=(0,l.f3M)(l.z2F);_document=(0,l.f3M)(re);_paneElements=new Map;create(t,r){return this._createOverlayRef(this.getPaneElement(t,r))}getPaneElement(t="",r){return this._paneElements.get(r)||this._paneElements.set(r,{}),this._paneElements.get(r)[t]||(this._paneElements.get(r)[t]=this._createPaneElement(t,r)),this._paneElements.get(r)[t]}_createPaneElement(t,r){const i=this._document.createElement("div");return i.id="toast-container",i.classList.add(t),i.classList.add("toast-container"),r?r.getContainerElement().appendChild(i):this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalHost(t){return new Lj(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new Bj(this._createPortalHost(t))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ix=(()=>{class n{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(t,r,i,s,u){this.overlay=r,this._injector=i,this.sanitizer=s,this.ngZone=u,this.toastrConfig={...t.default,...t.config},t.config.iconClasses&&(this.toastrConfig.iconClasses={...t.default.iconClasses,...t.config.iconClasses})}show(t,r,i={},s=""){return this._preBuildNotification(s,t,r,this.applyConfig(i))}success(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,r,this.applyConfig(i))}error(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,r,this.applyConfig(i))}info(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,r,this.applyConfig(i))}warning(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,r,this.applyConfig(i))}clear(t){for(const r of this.toasts)if(void 0!==t){if(r.toastId===t)return void r.toastRef.manualClose()}else r.toastRef.manualClose()}remove(t){const r=this._findToast(t);if(!r||(r.activeToast.toastRef.close(),this.toasts.splice(r.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const i=this.toasts[this.currentlyActive].toastRef;i.isInactive()||(this.currentlyActive=this.currentlyActive+1,i.activate())}return!0}findDuplicate(t="",r="",i,s){const{includeTitleDuplicates:u}=this.toastrConfig;for(const f of this.toasts)if((!u||u&&f.title===t)&&f.message===r)return f.toastRef.onDuplicate(i,s),f;return null}applyConfig(t={}){return{...this.toastrConfig,...t}}_findToast(t){for(let r=0;r<this.toasts.length;r++)if(this.toasts[r].toastId===t)return{index:r,activeToast:this.toasts[r]};return null}_preBuildNotification(t,r,i,s){return s.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,r,i,s)):this._buildNotification(t,r,i,s)}_buildNotification(t,r,i,s){if(!s.toastComponent)throw new Error("toastComponent required");const u=this.findDuplicate(i,r,this.toastrConfig.resetTimeoutOnDuplicate&&s.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&i||r)&&this.toastrConfig.preventDuplicates&&null!==u)return u;this.previousToastMessage=r;let f=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(f=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const _=this.overlay.create(s.positionClass,this.overlayContainer);this.index=this.index+1;let b=r;r&&s.enableHtml&&(b=this.sanitizer.sanitize(l.q3G.HTML,r));const I=new Pj(_),M=new xx(this.index,s,b,i,t,I),$=l.zs3.create({providers:[{provide:xx,useValue:M}],parent:this._injector}),ee=new Nj(s.toastComponent,$),ie=_.attach(ee,s.newestOnTop);I.componentInstance=ie.instance;const de={toastId:this.index,title:i||"",message:r||"",toastRef:I,onShown:I.afterActivate(),onHidden:I.afterClosed(),onTap:M.onTap(),onAction:M.onAction(),portal:ie};return f||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{de.toastRef.activate()})),this.toasts.push(de),de}static \u0275fac=function(r){return new(r||n)(l.LFG(zN),l.LFG(Uj),l.LFG(l.zs3),l.LFG($s),l.LFG(l.R0b))};static \u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Hj={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",toastComponent:(()=>{class n{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=-1;toastClasses="";state;get displayStyle(){if("inactive"===this.state.value)return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(t,r,i){this.toastrService=t,this.toastPackage=r,this.ngZone=i,this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s}),this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}}}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),r)):this.timeout=setTimeout(()=>t(),r)}outsideInterval(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),r)):this.intervalId=setInterval(()=>t(),r)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}static \u0275fac=function(r){return new(r||n)(l.Y36(Ix),l.Y36(xx),l.Y36(l.R0b))};static \u0275cmp=l.Xpm({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(r,i){1&r&&l.NdJ("click",function(){return i.tapToast()})("mouseenter",function(){return i.stickAround()})("mouseleave",function(){return i.delayedHideToast()}),2&r&&(l.d8E("@flyInOut",i.state),l.Tol(i.toastClasses),l.Udp("display",i.displayStyle))},standalone:!0,features:[l.jDz],attrs:HN,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(r,i){1&r&&(l.YNc(0,Ej,3,0,"button",0),l.YNc(1,Dj,3,5,"div",1),l.YNc(2,xj,1,3,"div",2),l.YNc(3,Ij,2,4,"div",3),l.YNc(4,Tj,2,2,"div",4)),2&r&&(l.Q6J("ngIf",i.options.closeButton),l.xp6(1),l.Q6J("ngIf",i.title),l.xp6(1),l.Q6J("ngIf",i.message&&i.options.enableHtml),l.xp6(1),l.Q6J("ngIf",i.message&&!i.options.enableHtml),l.xp6(1),l.Q6J("ngIf",i.options.progressBar))},dependencies:[mi],encapsulation:2,data:{animation:[ip("flyInOut",[Eo("inactive",lr({opacity:0})),Eo("active",lr({opacity:1})),Eo("removed",lr({opacity:0})),sa("inactive => active",Qa("{{ easeTime }}ms {{ easing }}")),sa("active => removed",Qa("{{ easeTime }}ms {{ easing }}"))])]}})}return n})()},jj=(n={})=>(0,l.MR2)([{provide:zN,useValue:{default:Hj,config:n}}]);let zj=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[jj(t)]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=l.oAB({type:n});static \u0275inj=l.cJS({})}return n})(),$N=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$j=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,r)=>this._cleanupObserver(r))}observe(t){const r=$d(t);return new Un.y(i=>{const u=this._observeElement(r).subscribe(i);return()=>{u.unsubscribe(),this._unobserveElement(r)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const r=new xn.x,i=this._mutationObserverFactory.create(s=>r.next(s));i&&i.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:i,stream:r,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:r,stream:i}=this._observedElements.get(t);r&&r.disconnect(),i.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG($N))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Gj=(()=>{class n{get disabled(){return this._disabled}set disabled(t){this._disabled=Jo(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=function WB(n,e=0){return qk(n)?Number(n):e}(t),this._subscribe()}constructor(t,r,i){this._contentObserver=t,this._elementRef=r,this._ngZone=i,this.event=new l.vpe,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(Zk(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36($j),l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),qj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[$N]}),n})();const Wj=["matFormFieldNotchedOutline",""],Zj=["*"],Kj=["textField"],Yj=["iconPrefixContainer"],Qj=["textPrefixContainer"];function Jj(n,e){1&n&&l._UZ(0,"span",19)}function Xj(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"label",17),l.NdJ("cdkObserveContent",function(){l.CHM(t);const i=l.oxw(2);return l.KtG(i._refreshOutlineNotchWidth())}),l.Hsn(1,1),l.YNc(2,Jj,1,0,"span",18),l.qZA()}if(2&n){const t=l.oxw(2);l.Q6J("floating",t._shouldLabelFloat())("cdkObserveContentDisabled",!t._hasOutline())("id",t._labelId),l.uIk("for",t._control.id)("aria-owns",t._control.id),l.xp6(2),l.Q6J("ngIf",!t.hideRequiredMarker&&t._control.required)}}function e3(n,e){if(1&n&&l.YNc(0,Xj,3,6,"label",16),2&n){const t=l.oxw();l.Q6J("ngIf",t._hasFloatingLabel())}}function t3(n,e){1&n&&l._UZ(0,"div",20)}function n3(n,e){}function r3(n,e){if(1&n&&l.YNc(0,n3,0,0,"ng-template",22),2&n){l.oxw(2);const t=l.MAs(1);l.Q6J("ngTemplateOutlet",t)}}function o3(n,e){if(1&n&&(l.TgZ(0,"div",21),l.YNc(1,r3,1,1,"ng-template",9),l.qZA()),2&n){const t=l.oxw();l.Q6J("matFormFieldNotchedOutlineOpen",t._shouldLabelFloat())("matFormFieldNotchedOutlineLabelWidth",t._labelWidth),l.xp6(1),l.Q6J("ngIf",!t._forceDisplayInfixLabel())}}function s3(n,e){1&n&&(l.TgZ(0,"div",23,24),l.Hsn(2,2),l.qZA())}function a3(n,e){1&n&&(l.TgZ(0,"div",25,26),l.Hsn(2,3),l.qZA())}function l3(n,e){}function c3(n,e){if(1&n&&l.YNc(0,l3,0,0,"ng-template",22),2&n){l.oxw();const t=l.MAs(1);l.Q6J("ngTemplateOutlet",t)}}function u3(n,e){1&n&&(l.TgZ(0,"div",27),l.Hsn(1,4),l.qZA())}function d3(n,e){1&n&&(l.TgZ(0,"div",28),l.Hsn(1,5),l.qZA())}function h3(n,e){1&n&&l._UZ(0,"div",29)}function f3(n,e){if(1&n&&(l.TgZ(0,"div",30),l.Hsn(1,6),l.qZA()),2&n){const t=l.oxw();l.Q6J("@transitionMessages",t._subscriptAnimationState)}}function p3(n,e){if(1&n&&(l.TgZ(0,"mat-hint",34),l._uU(1),l.qZA()),2&n){const t=l.oxw(2);l.Q6J("id",t._hintLabelId),l.xp6(1),l.Oqu(t.hintLabel)}}function m3(n,e){if(1&n&&(l.TgZ(0,"div",31),l.YNc(1,p3,2,2,"mat-hint",32),l.Hsn(2,7),l._UZ(3,"div",33),l.Hsn(4,8),l.qZA()),2&n){const t=l.oxw();l.Q6J("@transitionMessages",t._subscriptAnimationState),l.xp6(1),l.Q6J("ngIf",t.hintLabel)}}const g3=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],_3=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let Ly=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-label"]]}),n})(),y3=0;const GN=new l.OlP("MatError");let hM=(()=>{class n{constructor(t,r){this.id="mat-mdc-error-"+y3++,t||r.nativeElement.setAttribute("aria-live","polite")}}return n.\u0275fac=function(t){return new(t||n)(l.$8M("aria-live"),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(t,r){2&t&&l.Ikx("id",r.id)},inputs:{id:"id"},features:[l._Bn([{provide:GN,useExisting:n}])]}),n})(),v3=0,fM=(()=>{class n{constructor(){this.align="start",this.id="mat-mdc-hint-"+v3++}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(t,r){2&t&&(l.Ikx("id",r.id),l.uIk("align",null),l.ekj("mat-mdc-form-field-hint-end","end"===r.align))},inputs:{align:"align",id:"id"}}),n})();const b3=new l.OlP("MatPrefix"),qN=new l.OlP("MatSuffix");let pM=(()=>{class n{constructor(){this._isText=!1}set _isTextSelector(t){this._isText=!0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:["matTextSuffix","_isTextSelector"]},features:[l._Bn([{provide:qN,useExisting:n}])]}),n})(),WN=(()=>{class n{constructor(t){this._elementRef=t,this.floating=!1}getWidth(){return function w3(n){if(null!==n.offsetParent)return n.scrollWidth;const t=n.cloneNode(!0);t.style.setProperty("position","absolute"),t.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(t);const r=t.scrollWidth;return t.remove(),r}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(t,r){2&t&&l.ekj("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating"}}),n})();const ZN="mdc-line-ripple--active",Tx="mdc-line-ripple--deactivating";let KN=(()=>{class n{constructor(t,r){this._elementRef=t,this._handleTransitionEnd=i=>{const s=this._elementRef.nativeElement.classList,u=s.contains(Tx);"opacity"===i.propertyName&&u&&s.remove(ZN,Tx)},r.runOutsideAngular(()=>{t.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const t=this._elementRef.nativeElement.classList;t.remove(Tx),t.add(ZN)}deactivate(){this._elementRef.nativeElement.classList.add(Tx)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275dir=l.lG2({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]}),n})(),YN=(()=>{class n{constructor(t,r){this._elementRef=t,this._ngZone=r,this.labelWidth=0,this.open=!1}ngAfterViewInit(){const t=this._elementRef.nativeElement.querySelector(".mdc-floating-label");t?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(t.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>t.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_getNotchWidth(){return this.open?this.labelWidth>0?`calc(${this.labelWidth}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:"0px":null}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(t,r){2&t&&l.ekj("mdc-notched-outline--notched",r.open)},inputs:{labelWidth:["matFormFieldNotchedOutlineLabelWidth","labelWidth"],open:["matFormFieldNotchedOutlineOpen","open"]},attrs:Wj,ngContentSelectors:Zj,decls:4,vars:2,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],[1,"mdc-notched-outline__trailing"]],template:function(t,r){1&t&&(l.F$t(),l._UZ(0,"div",0),l.TgZ(1,"div",1),l.Hsn(2),l.qZA(),l._UZ(3,"div",2)),2&t&&(l.xp6(1),l.Udp("width",r._getNotchWidth()))},encapsulation:2,changeDetection:0}),n})();const E3={transitionMessages:ip("transitionMessages",[Eo("enter",lr({opacity:1,transform:"translateY(0%)"})),sa("void => enter",[lr({opacity:0,transform:"translateY(-5px)"}),Qa("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let QN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n}),n})();const JN=new l.OlP("MatFormField"),C3=new l.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS");let XN=0,Sx=(()=>{class n{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=Jo(t)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(t){const r=this._appearance;this._appearance=t||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==r&&(this._refreshOutlineNotchWidth(),this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(t){this._subscriptSizing=t||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(t){this._explicitFormFieldControl=t}constructor(t,r,i,s,u,f,_,b){this._elementRef=t,this._changeDetectorRef=r,this._ngZone=i,this._dir=s,this._platform=u,this._defaults=f,this._animationMode=_,this._document=b,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+XN++,this._hintLabelId="mat-mdc-hint-"+XN++,this._subscriptAnimationState="",this._labelWidth=0,this._destroyed=new xn.x,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,f&&(f.appearance&&(this.appearance=f.appearance),this._hideRequiredMarker=Boolean(f?.hideRequiredMarker),f.color&&(this.color=f.color))}ngAfterViewInit(){this._updateFocusState(),this._refreshOutlineNotchWidth(),this._document?.fonts?.ready?this._document.fonts.ready.then(()=>{this._refreshOutlineNotchWidth(),this._changeDetectorRef.markForCheck()}):setTimeout(()=>this._refreshOutlineNotchWidth(),100),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${t.controlType}`),t.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(Ya(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(t=>!t._isText),this._hasTextPrefix=!!this._prefixChildren.find(t=>t._isText),this._hasIconSuffix=!!this._suffixChildren.find(t=>!t._isText),this._hasTextSuffix=!!this._suffixChildren.find(t=>t._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,b0.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Ya(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(Ya(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(t){const r=this._control?this._control.ngControl:null;return r&&r[t]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||(this._labelWidth=this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const r=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,i=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;r?t.push(r.id):this._hintLabel&&t.push(this._hintLabelId),i&&t.push(i.id)}else this._errorChildren&&t.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(t)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const t=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(t.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const r=this._iconPrefixContainer?.nativeElement,i=this._textPrefixContainer?.nativeElement,s=r?.getBoundingClientRect().width??0,u=i?.getBoundingClientRect().width??0;t.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${s+u}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const t=this._elementRef.nativeElement;if(t.getRootNode){const r=t.getRootNode();return r&&r!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(l.R0b),l.Y36(z0),l.Y36(Qo),l.Y36(C3,8),l.Y36(l.QbO,8),l.Y36(re))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,r,i){if(1&t&&(l.Suo(i,Ly,5),l.Suo(i,Ly,7),l.Suo(i,QN,5),l.Suo(i,b3,5),l.Suo(i,qN,5),l.Suo(i,GN,5),l.Suo(i,fM,5)),2&t){let s;l.iGM(s=l.CRH())&&(r._labelChildNonStatic=s.first),l.iGM(s=l.CRH())&&(r._labelChildStatic=s.first),l.iGM(s=l.CRH())&&(r._formFieldControl=s.first),l.iGM(s=l.CRH())&&(r._prefixChildren=s),l.iGM(s=l.CRH())&&(r._suffixChildren=s),l.iGM(s=l.CRH())&&(r._errorChildren=s),l.iGM(s=l.CRH())&&(r._hintChildren=s)}},viewQuery:function(t,r){if(1&t&&(l.Gf(Kj,5),l.Gf(Yj,5),l.Gf(Qj,5),l.Gf(WN,5),l.Gf(YN,5),l.Gf(KN,5)),2&t){let i;l.iGM(i=l.CRH())&&(r._textField=i.first),l.iGM(i=l.CRH())&&(r._iconPrefixContainer=i.first),l.iGM(i=l.CRH())&&(r._textPrefixContainer=i.first),l.iGM(i=l.CRH())&&(r._floatingLabel=i.first),l.iGM(i=l.CRH())&&(r._notchedOutline=i.first),l.iGM(i=l.CRH())&&(r._lineRipple=i.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(t,r){2&t&&l.ekj("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===r._animationMode)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-focused",r._control.focused)("mat-primary","accent"!==r.color&&"warn"!==r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[l._Bn([{provide:JN,useExisting:n}])],ngContentSelectors:_3,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(t,r){1&t&&(l.F$t(g3),l.YNc(0,e3,1,1,"ng-template",null,0,l.W1O),l.TgZ(2,"div",1,2),l.NdJ("click",function(s){return r._control.onContainerClick&&r._control.onContainerClick(s)}),l.YNc(4,t3,1,0,"div",3),l.TgZ(5,"div",4),l.YNc(6,o3,2,3,"div",5),l.YNc(7,s3,3,0,"div",6),l.YNc(8,a3,3,0,"div",7),l.TgZ(9,"div",8),l.YNc(10,c3,1,1,"ng-template",9),l.Hsn(11),l.qZA(),l.YNc(12,u3,2,0,"div",10),l.YNc(13,d3,2,0,"div",11),l.qZA(),l.YNc(14,h3,1,0,"div",12),l.qZA(),l.TgZ(15,"div",13),l.YNc(16,f3,2,1,"div",14),l.YNc(17,m3,5,2,"div",15),l.qZA()),2&t&&(l.xp6(2),l.ekj("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),l.xp6(2),l.Q6J("ngIf",!r._hasOutline()&&!r._control.disabled),l.xp6(2),l.Q6J("ngIf",r._hasOutline()),l.xp6(1),l.Q6J("ngIf",r._hasIconPrefix),l.xp6(1),l.Q6J("ngIf",r._hasTextPrefix),l.xp6(2),l.Q6J("ngIf",!r._hasOutline()||r._forceDisplayInfixLabel()),l.xp6(2),l.Q6J("ngIf",r._hasTextSuffix),l.xp6(1),l.Q6J("ngIf",r._hasIconSuffix),l.xp6(1),l.Q6J("ngIf",!r._hasOutline()),l.xp6(1),l.ekj("mat-mdc-form-field-subscript-dynamic-size","dynamic"===r.subscriptSizing),l.Q6J("ngSwitch",r._getDisplayedMessages()),l.xp6(1),l.Q6J("ngSwitchCase","error"),l.xp6(1),l.Q6J("ngSwitchCase","hint"))},dependencies:[mi,Sr,ua,Io,Gj,fM,WN,YN,KN],styles:['.mdc-text-field{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;border-top:1px solid;border-bottom:1px solid;pointer-events:none}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid;flex-grow:1}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{flex:0 0 auto;width:auto;max-width:calc(100% - 12px * 2)}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{line-height:normal;pointer-events:all}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-10.25px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-10.25px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-24.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-24.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-106%) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-106%) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}'],encapsulation:2,data:{animation:[E3.transitionMessages]},changeDetection:0}),n})(),Ax=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[oa,To,qj,oa]}),n})();const nF=H0({passive:!0});let I3=(()=>{class n{constructor(t,r){this._platform=t,this._ngZone=r,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return Ud.E;const r=$d(t),i=this._monitoredElements.get(r);if(i)return i.subject;const s=new xn.x,u="cdk-text-field-autofilled",f=_=>{"cdk-text-field-autofill-start"!==_.animationName||r.classList.contains(u)?"cdk-text-field-autofill-end"===_.animationName&&r.classList.contains(u)&&(r.classList.remove(u),this._ngZone.run(()=>s.next({target:_.target,isAutofilled:!1}))):(r.classList.add(u),this._ngZone.run(()=>s.next({target:_.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",f,nF),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:s,unlisten:()=>{r.removeEventListener("animationstart",f,nF)}}),s}stopMonitoring(t){const r=$d(t),i=this._monitoredElements.get(r);i&&(i.unlisten(),i.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((t,r)=>this.stopMonitoring(r))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Qo),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),T3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const S3=new l.OlP("MAT_INPUT_VALUE_ACCESSOR"),A3=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let M3=0;const R3=wU(class{constructor(n,e,t,r){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=r,this.stateChanges=new xn.x}});let Mx=(()=>{class n extends R3{get disabled(){return this._disabled}set disabled(t){this._disabled=Jo(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(no.required)??!1}set required(t){this._required=Jo(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&$k().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=Jo(t)}constructor(t,r,i,s,u,f,_,b,I,M){super(f,s,u,i),this._elementRef=t,this._platform=r,this._autofillMonitor=b,this._formField=M,this._uid="mat-input-"+M3++,this.focused=!1,this.stateChanges=new xn.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(ee=>$k().has(ee)),this._iOSKeyupListener=ee=>{const ie=ee.target;!ie.value&&0===ie.selectionStart&&0===ie.selectionEnd&&(ie.setSelectionRange(1,1),ie.setSelectionRange(0,0))};const U=this._elementRef.nativeElement,$=U.nodeName.toLowerCase();this._inputValueAccessor=_||U,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&I.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===$,this._isTextarea="textarea"===$,this._isInFormField=!!M,this._isNativeSelect&&(this.controlType=U.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_dirtyCheckPlaceholder(){const t=this._getPlaceholder();if(t!==this._previousPlaceholder){const r=this._elementRef.nativeElement;this._previousPlaceholder=t,t?r.setAttribute("placeholder",t):r.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){A3.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,r=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&r&&r.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(Qo),l.Y36(Gd,10),l.Y36(wx,8),l.Y36(Wm,8),l.Y36(DU),l.Y36(S3,10),l.Y36(I3),l.Y36(l.R0b),l.Y36(JN,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(t,r){1&t&&l.NdJ("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&t&&(l.Ikx("id",r.id)("disabled",r.disabled)("required",r.required),l.uIk("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("id",r.id),l.ekj("mat-input-server",r._isServer)("mat-mdc-form-field-textarea-control",r._isInFormField&&r._isTextarea)("mat-mdc-form-field-input-control",r._isInFormField)("mdc-text-field__input",r._isInFormField)("mat-mdc-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[l._Bn([{provide:QN,useExisting:n}]),l.qOj,l.TTD]}),n})(),rF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[oa,Ax,Ax,T3,oa]}),n})();function k3(n,e){if(1&n&&(l.TgZ(0,"mat-error"),l._uU(1),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Oqu(t.getUserNameErrorMessage())}}function O3(n,e){if(1&n&&(l.TgZ(0,"mat-error"),l._uU(1),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Oqu(t.getEmailErrorMessage())}}function N3(n,e){if(1&n&&(l.TgZ(0,"mat-error"),l._uU(1),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Oqu(t.getUserPhoneErrorMessage())}}function F3(n,e){if(1&n&&(l.TgZ(0,"mat-error"),l._uU(1),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Oqu(t.getPasswordErrorMessage())}}let iF=(()=>{class n{constructor(t,r,i,s){this._UsersService=t,this._AuthService=r,this._ToastrService=i,this._Router=s,this.hide=!0,this.newUserForm=new Ny({name:new pu(null,[no.required]),email:new pu(null,[no.required,no.email]),phone:new pu(null,[no.required,no.pattern(/^201[0-2,5]{1}[0-9]{8}$/g),no.maxLength(11)]),password:new pu(null,[no.required,no.minLength(6)])})}getUserNameErrorMessage(){if(this.newUserForm.controls.name.hasError("required"))return"You must enter a value"}getEmailErrorMessage(){return this.newUserForm.controls.email.hasError("required")?"You must enter a value":this.newUserForm.controls.email.hasError("email")?"Not a valid email":""}getUserPhoneErrorMessage(){return this.newUserForm.controls.phone.hasError("required")?"You must enter a value":this.newUserForm.controls.phone.hasError("pattern")?"ex. 201xxxxxxxxx":void 0}getPasswordErrorMessage(){if(this.newUserForm.controls.password.hasError("required"))return"You must enter a value"}signUp(t){t.valid&&this._AuthService.signUp(t.controls.email.value,t.controls.password.value).then(()=>{this.cretaeUser(t.value),localStorage.getItem("userToken")?(this._ToastrService.success("New User Created !"),this._Router.navigate(["/dashboard"])):(this._ToastrService.success("Success Sign Up !"),this._Router.navigate(["/sign-in"]))}).catch(s=>{this._ToastrService.error(s.message),t.reset()})}cretaeUser(t){this._UsersService.createUser(t)}static#e=this.\u0275fac=function(r){return new(r||n)(l.Y36(RD),l.Y36(uM),l.Y36(Ix),l.Y36(Ni))};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["app-create-user"]],decls:39,vars:10,consts:[[1,"px-lg-5",3,"formGroup","ngSubmit"],[1,"mb-3"],[1,"w-100"],["matInput","","placeholder","Jhon Smith","formControlName","name","required",""],["matSuffix","",1,"fs-4"],[4,"ngIf"],["matInput","","placeholder","pat@example.com","formControlName","email","required",""],["matInput","","formControlName","phone","type","number","required",""],["matInput","","formControlName","password","required","",3,"type"],["mat-icon-button","","type","button","matSuffix","",3,"click"],[1,"fs-4"],[1,"text-center"],["type","submit","matRipple","",1,"btn","submit","mt-3","w-100",3,"disabled"]],template:function(r,i){1&r&&(l.TgZ(0,"form",0),l.NdJ("ngSubmit",function(){return i.signUp(i.newUserForm)}),l.TgZ(1,"div",1)(2,"mat-form-field",2)(3,"mat-label"),l._uU(4,"Name"),l.qZA(),l._UZ(5,"input",3),l.TgZ(6,"mat-icon",4),l._uU(7,"person"),l.qZA(),l.YNc(8,k3,2,1,"mat-error",5),l.qZA()(),l.TgZ(9,"div",1)(10,"mat-form-field",2)(11,"mat-label"),l._uU(12,"Email"),l.qZA(),l._UZ(13,"input",6),l.TgZ(14,"mat-icon",4),l._uU(15,"email"),l.qZA(),l.YNc(16,O3,2,1,"mat-error",5),l.qZA()(),l.TgZ(17,"div",1)(18,"mat-form-field",2)(19,"mat-label"),l._uU(20,"Phone"),l.qZA(),l._UZ(21,"input",7),l.TgZ(22,"mat-icon",4),l._uU(23,"phone"),l.qZA(),l.YNc(24,N3,2,1,"mat-error",5),l.qZA()(),l.TgZ(25,"div",1)(26,"mat-form-field",2)(27,"mat-label"),l._uU(28,"Password"),l.qZA(),l._UZ(29,"input",8),l.TgZ(30,"button",9),l.NdJ("click",function(){return i.hide=!i.hide}),l.TgZ(31,"mat-icon",10),l._uU(32),l.qZA()(),l.TgZ(33,"mat-hint"),l._uU(34,"Password should be at least 6 characters"),l.qZA(),l.YNc(35,F3,2,1,"mat-error",5),l.qZA()(),l.TgZ(36,"div",11)(37,"button",12),l._uU(38,"Create "),l.qZA()()()),2&r&&(l.Q6J("formGroup",i.newUserForm),l.xp6(8),l.Q6J("ngIf",i.newUserForm.controls.name),l.xp6(8),l.Q6J("ngIf",i.newUserForm.controls.email),l.xp6(8),l.Q6J("ngIf",i.newUserForm.controls.phone),l.xp6(5),l.Q6J("type",i.hide?"password":"text"),l.xp6(1),l.uIk("aria-label","Hide password")("aria-pressed",i.hide),l.xp6(2),l.Oqu(i.hide?"visibility_off":"visibility"),l.xp6(3),l.Q6J("ngIf",i.newUserForm.controls.password.invalid),l.xp6(2),l.Q6J("disabled",!i.newUserForm.valid))},dependencies:[mi,Ex,ky,Cx,dx,hx,Py,Wm,X0,gO,Sx,Ly,fM,hM,pM,Mx,Gm],styles:[".submit[_ngcontent-%COMP%]{background-color:#4758b8;color:#fff;border:none;letter-spacing:1px;padding:6px 15px;border:2px solid #4758B8;transition:all .5s;-webkit-transition:all .5s;-moz-transition:all .5s;-ms-transition:all .5s;-o-transition:all .5s}.submit[_ngcontent-%COMP%]:hover{color:#fff!important;background-color:#4758b8;border-color:#4758b8}"]})}return n})(),P3=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["app-sign-up"]],decls:11,vars:0,consts:[[1,"sign-up","p-0"],[1,"form-container","col-lg-5","h-100","col-md-7","ms-auto"],[1,"form","h-100"],[1,"card","rounded-0","h-100","justify-content-center","align-item-center","p-5"],[1,"mx-auto","mb-4"],[1,"sign-in","text-center","mt-5"],["routerLink","/sign-in"]],template:function(r,i){1&r&&(l.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),l._uU(5,"Create an account"),l.qZA(),l._UZ(6,"app-create-user"),l.TgZ(7,"div",5),l._uU(8," Already have an account? "),l.TgZ(9,"a",6),l._uU(10,"Sign in"),l.qZA()()()()()())},dependencies:[hu,iF],styles:[".submit[_ngcontent-%COMP%]{background-color:#4758b8;color:#fff;border:none;letter-spacing:1px;padding:6px 15px;border:2px solid #4758B8;transition:all .5s;-webkit-transition:all .5s;-moz-transition:all .5s;-ms-transition:all .5s;-o-transition:all .5s}.submit[_ngcontent-%COMP%]:hover{color:#fff!important;background-color:#4758b8;border-color:#4758b8}.sign-up[_ngcontent-%COMP%]{height:100vh;background-image:url(hero.d8133ce5a21d658b.png);background-size:cover;display:flex}.sign-up[_ngcontent-%COMP%]   .sign-in[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#4758b8}.card[_ngcontent-%COMP%]{background-color:#fff;border:0;height:600px}@media only screen and (max-width: 992px){.sign-up[_ngcontent-%COMP%]{align-items:center!important}.sign-up[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{margin:auto;height:600px!important}.sign-up[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px!important;-webkit-border-radius:5px!important;-moz-border-radius:5px!important;-ms-border-radius:5px!important;-o-border-radius:5px!important}}"]})}return n})();function L3(n,e){if(1&n&&(l.TgZ(0,"mat-error"),l._uU(1),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Oqu(t.getEmailErrorMessage())}}function V3(n,e){if(1&n&&(l.TgZ(0,"mat-error"),l._uU(1),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Oqu(t.getPasswordErrorMessage())}}let B3=(()=>{class n{constructor(t,r,i){this._AuthService=t,this._Router=r,this._ToastrService=i,this.hide=!0,this.signInForm=new Ny({email:new pu(null,[no.required,no.email]),password:new pu(null,[no.required,no.minLength(6)])})}getEmailErrorMessage(){return this.signInForm.controls.email.hasError("required")?"You must enter a value":this.signInForm.controls.email.hasError("email")?"Not a valid email":""}getPasswordErrorMessage(){if(this.signInForm.controls.password.hasError("required"))return"You must enter a value"}signIn(t){t.valid&&this._AuthService.signIn(t.controls.email.value,t.controls.password.value).then(()=>{localStorage.setItem("userToken","true"),this._ToastrService.success("Success Sign in !"),this._Router.navigate(["/dashboard"])}).catch(s=>{this._ToastrService.error(s.message),t.reset()})}static#e=this.\u0275fac=function(r){return new(r||n)(l.Y36(uM),l.Y36(Ni),l.Y36(Ix))};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["app-sign-in"]],decls:31,vars:8,consts:[[1,"sign-in","p-0"],[1,"form-container","col-lg-5","h-100","col-md-7","ms-auto"],[1,"form","h-100"],[1,"card","rounded-0","h-100","justify-content-center","align-item-center","p-5"],[1,"mx-auto","mb-4"],[1,"px-lg-5",3,"formGroup","ngSubmit"],[1,"mb-3"],[1,"w-100"],["matInput","","placeholder","pat@example.com","formControlName","email","required",""],["matSuffix","",1,"fs-4"],[4,"ngIf"],["matInput","","formControlName","password","required","",3,"type"],["mat-icon-button","","type","button","matSuffix","",3,"click"],[1,"fs-4"],[1,"text-center"],["type","submit","matRipple","",1,"btn","submit","mt-3","w-100",3,"disabled"],[1,"sign-up","text-center","mt-5"],["routerLink","/sign-up"]],template:function(r,i){1&r&&(l.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),l._uU(5,"Welcome Back!"),l.qZA(),l.TgZ(6,"form",5),l.NdJ("ngSubmit",function(){return i.signIn(i.signInForm)}),l.TgZ(7,"div",6)(8,"mat-form-field",7)(9,"mat-label"),l._uU(10,"Enter your email"),l.qZA(),l._UZ(11,"input",8),l.TgZ(12,"mat-icon",9),l._uU(13,"person"),l.qZA(),l.YNc(14,L3,2,1,"mat-error",10),l.qZA()(),l.TgZ(15,"div",6)(16,"mat-form-field",7)(17,"mat-label"),l._uU(18,"Enter your password"),l.qZA(),l._UZ(19,"input",11),l.TgZ(20,"button",12),l.NdJ("click",function(){return i.hide=!i.hide}),l.TgZ(21,"mat-icon",13),l._uU(22),l.qZA()(),l.YNc(23,V3,2,1,"mat-error",10),l.qZA()(),l.TgZ(24,"div",14)(25,"button",15),l._uU(26,"Sign in"),l.qZA()()(),l.TgZ(27,"div",16),l._uU(28," Don't have an account? "),l.TgZ(29,"a",17),l._uU(30,"Sign up"),l.qZA()()()()()()),2&r&&(l.xp6(6),l.Q6J("formGroup",i.signInForm),l.xp6(8),l.Q6J("ngIf",i.signInForm.controls.email),l.xp6(5),l.Q6J("type",i.hide?"password":"text"),l.xp6(1),l.uIk("aria-label","Hide password")("aria-pressed",i.hide),l.xp6(2),l.Oqu(i.hide?"visibility_off":"visibility"),l.xp6(1),l.Q6J("ngIf",i.signInForm.controls.password.invalid),l.xp6(2),l.Q6J("disabled",!i.signInForm.valid))},dependencies:[mi,hu,Ex,ky,dx,hx,Py,Wm,X0,gO,Sx,Ly,hM,pM,Mx,Gm],styles:[".submit[_ngcontent-%COMP%]{background-color:#4758b8;color:#fff;border:none;letter-spacing:1px;padding:6px 15px;border:2px solid #4758B8;transition:all .5s;-webkit-transition:all .5s;-moz-transition:all .5s;-ms-transition:all .5s;-o-transition:all .5s}.submit[_ngcontent-%COMP%]:hover{color:#fff!important;background-color:#4758b8;border-color:#4758b8}.sign-in[_ngcontent-%COMP%]{height:100vh;background-image:url(hero.d8133ce5a21d658b.png);background-size:cover;display:flex}.sign-in[_ngcontent-%COMP%]   .sign-up[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#4758b8}.card[_ngcontent-%COMP%]{background-color:#fff;border:0;height:600px}@media only screen and (max-width: 992px){.sign-in[_ngcontent-%COMP%]{align-items:center!important}.sign-in[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{margin:auto;height:600px!important}.sign-in[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px!important;-webkit-border-radius:5px!important;-moz-border-radius:5px!important;-ms-border-radius:5px!important;-o-border-radius:5px!important}}"]})}return n})();const U3=["mat-sort-header",""];function H3(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",3),l.NdJ("@arrowPosition.start",function(){l.CHM(t);const i=l.oxw();return l.KtG(i._disableViewStateAnimation=!0)})("@arrowPosition.done",function(){l.CHM(t);const i=l.oxw();return l.KtG(i._disableViewStateAnimation=!1)}),l._UZ(1,"div",4),l.TgZ(2,"div",5),l._UZ(3,"div",6)(4,"div",7)(5,"div",8),l.qZA()()}if(2&n){const t=l.oxw();l.Q6J("@arrowOpacity",t._getArrowViewState())("@arrowPosition",t._getArrowViewState())("@allowChildren",t._getArrowDirectionState()),l.xp6(2),l.Q6J("@indicator",t._getArrowDirectionState()),l.xp6(1),l.Q6J("@leftPointer",t._getArrowDirectionState()),l.xp6(1),l.Q6J("@rightPointer",t._getArrowDirectionState())}}const j3=["*"],oF=new l.OlP("MAT_SORT_DEFAULT_OPTIONS"),z3=EU(UA(class{}));let mM=(()=>{class n extends z3{get direction(){return this._direction}set direction(t){this._direction=t}get disableClear(){return this._disableClear}set disableClear(t){this._disableClear=Jo(t)}constructor(t){super(),this._defaultOptions=t,this.sortables=new Map,this._stateChanges=new xn.x,this.start="asc",this._direction="",this.sortChange=new l.vpe}register(t){this.sortables.set(t.id,t)}deregister(t){this.sortables.delete(t.id)}sort(t){this.active!=t.id?(this.active=t.id,this.direction=t.start?t.start:this.start):this.direction=this.getNextSortDirection(t),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(t){if(!t)return"";let i=function $3(n,e){let t=["asc","desc"];return"desc"==n&&t.reverse(),e||t.push(""),t}(t.start||this.start,t?.disableClear??this.disableClear??!!this._defaultOptions?.disableClear),s=i.indexOf(this.direction)+1;return s>=i.length&&(s=0),i[s]}ngOnInit(){this._markInitialized()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(oF,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{disabled:["matSortDisabled","disabled"],active:["matSortActive","active"],start:["matSortStart","start"],direction:["matSortDirection","direction"],disableClear:["matSortDisableClear","disableClear"]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],features:[l.qOj,l.TTD]}),n})();const op=_U.ENTERING+" "+gU.STANDARD_CURVE,Vy={indicator:ip("indicator",[Eo("active-asc, asc",lr({transform:"translateY(0px)"})),Eo("active-desc, desc",lr({transform:"translateY(10px)"})),sa("active-asc <=> active-desc",Qa(op))]),leftPointer:ip("leftPointer",[Eo("active-asc, asc",lr({transform:"rotate(-45deg)"})),Eo("active-desc, desc",lr({transform:"rotate(45deg)"})),sa("active-asc <=> active-desc",Qa(op))]),rightPointer:ip("rightPointer",[Eo("active-asc, asc",lr({transform:"rotate(45deg)"})),Eo("active-desc, desc",lr({transform:"rotate(-45deg)"})),sa("active-asc <=> active-desc",Qa(op))]),arrowOpacity:ip("arrowOpacity",[Eo("desc-to-active, asc-to-active, active",lr({opacity:1})),Eo("desc-to-hint, asc-to-hint, hint",lr({opacity:.54})),Eo("hint-to-desc, active-to-desc, desc, hint-to-asc, active-to-asc, asc, void",lr({opacity:0})),sa("* => asc, * => desc, * => active, * => hint, * => void",Qa("0ms")),sa("* <=> *",Qa(op))]),arrowPosition:ip("arrowPosition",[sa("* => desc-to-hint, * => desc-to-active",Qa(op,Dx([lr({transform:"translateY(-25%)"}),lr({transform:"translateY(0)"})]))),sa("* => hint-to-desc, * => active-to-desc",Qa(op,Dx([lr({transform:"translateY(0)"}),lr({transform:"translateY(25%)"})]))),sa("* => asc-to-hint, * => asc-to-active",Qa(op,Dx([lr({transform:"translateY(25%)"}),lr({transform:"translateY(0)"})]))),sa("* => hint-to-asc, * => active-to-asc",Qa(op,Dx([lr({transform:"translateY(0)"}),lr({transform:"translateY(-25%)"})]))),Eo("desc-to-hint, asc-to-hint, hint, desc-to-active, asc-to-active, active",lr({transform:"translateY(0)"})),Eo("hint-to-desc, active-to-desc, desc",lr({transform:"translateY(-25%)"})),Eo("hint-to-asc, active-to-asc, asc",lr({transform:"translateY(25%)"}))]),allowChildren:ip("allowChildren",[sa("* <=> *",[wj("@*",bj(),{optional:!0})])])};let Rx=(()=>{class n{constructor(){this.changes=new xn.x}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const q3={provide:Rx,deps:[[new l.FiY,new l.tp0,Rx]],useFactory:function G3(n){return n||new Rx}},W3=UA(class{});let Z3=(()=>{class n extends W3{get sortActionDescription(){return this._sortActionDescription}set sortActionDescription(t){this._updateSortActionDescription(t)}get disableClear(){return this._disableClear}set disableClear(t){this._disableClear=Jo(t)}constructor(t,r,i,s,u,f,_,b){super(),this._intl=t,this._changeDetectorRef=r,this._sort=i,this._columnDef=s,this._focusMonitor=u,this._elementRef=f,this._ariaDescriber=_,this._showIndicatorHint=!1,this._viewState={},this._arrowDirection="",this._disableViewStateAnimation=!1,this.arrowPosition="after",this._sortActionDescription="Sort",b?.arrowPosition&&(this.arrowPosition=b?.arrowPosition),this._handleStateChanges()}ngOnInit(){!this.id&&this._columnDef&&(this.id=this._columnDef.name),this._updateArrowDirection(),this._setAnimationTransitionState({toState:this._isSorted()?"active":this._arrowDirection}),this._sort.register(this),this._sortButton=this._elementRef.nativeElement.querySelector(".mat-sort-header-container"),this._updateSortActionDescription(this._sortActionDescription)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{const r=!!t;r!==this._showIndicatorHint&&(this._setIndicatorHintVisible(r),this._changeDetectorRef.markForCheck())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._sort.deregister(this),this._rerenderSubscription.unsubscribe()}_setIndicatorHintVisible(t){this._isDisabled()&&t||(this._showIndicatorHint=t,this._isSorted()||(this._updateArrowDirection(),this._setAnimationTransitionState(this._showIndicatorHint?{fromState:this._arrowDirection,toState:"hint"}:{fromState:"hint",toState:this._arrowDirection})))}_setAnimationTransitionState(t){this._viewState=t||{},this._disableViewStateAnimation&&(this._viewState={toState:t.toState})}_toggleOnInteraction(){this._sort.sort(this),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0)}_handleClick(){this._isDisabled()||this._sort.sort(this)}_handleKeydown(t){!this._isDisabled()&&(32===t.keyCode||13===t.keyCode)&&(t.preventDefault(),this._toggleOnInteraction())}_isSorted(){return this._sort.active==this.id&&("asc"===this._sort.direction||"desc"===this._sort.direction)}_getArrowDirectionState(){return`${this._isSorted()?"active-":""}${this._arrowDirection}`}_getArrowViewState(){const t=this._viewState.fromState;return(t?`${t}-to-`:"")+this._viewState.toState}_updateArrowDirection(){this._arrowDirection=this._isSorted()?this._sort.direction:this.start||this._sort.start}_isDisabled(){return this._sort.disabled||this.disabled}_getAriaSortAttribute(){return this._isSorted()?"asc"==this._sort.direction?"ascending":"descending":"none"}_renderArrow(){return!this._isDisabled()||this._isSorted()}_updateSortActionDescription(t){this._sortButton&&(this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription),this._ariaDescriber?.describe(this._sortButton,t)),this._sortActionDescription=t}_handleStateChanges(){this._rerenderSubscription=(0,b0.T)(this._sort.sortChange,this._sort._stateChanges,this._intl.changes).subscribe(()=>{this._isSorted()&&(this._updateArrowDirection(),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0),this._setAnimationTransitionState({fromState:this._arrowDirection,toState:"active"}),this._showIndicatorHint=!1),!this._isSorted()&&this._viewState&&"active"===this._viewState.toState&&(this._disableViewStateAnimation=!1,this._setAnimationTransitionState({fromState:"active",toState:this._arrowDirection})),this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Rx),l.Y36(l.sBO),l.Y36(mM,8),l.Y36("MAT_SORT_HEADER_COLUMN_DEF",8),l.Y36(iO),l.Y36(l.SBq),l.Y36(eU,8),l.Y36(oF,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["","mat-sort-header",""]],hostAttrs:[1,"mat-sort-header"],hostVars:3,hostBindings:function(t,r){1&t&&l.NdJ("click",function(){return r._handleClick()})("keydown",function(s){return r._handleKeydown(s)})("mouseenter",function(){return r._setIndicatorHintVisible(!0)})("mouseleave",function(){return r._setIndicatorHintVisible(!1)}),2&t&&(l.uIk("aria-sort",r._getAriaSortAttribute()),l.ekj("mat-sort-header-disabled",r._isDisabled()))},inputs:{disabled:"disabled",id:["mat-sort-header","id"],arrowPosition:"arrowPosition",start:"start",sortActionDescription:"sortActionDescription",disableClear:"disableClear"},exportAs:["matSortHeader"],features:[l.qOj],attrs:U3,ngContentSelectors:j3,decls:4,vars:7,consts:[[1,"mat-sort-header-container","mat-focus-indicator"],[1,"mat-sort-header-content"],["class","mat-sort-header-arrow",4,"ngIf"],[1,"mat-sort-header-arrow"],[1,"mat-sort-header-stem"],[1,"mat-sort-header-indicator"],[1,"mat-sort-header-pointer-left"],[1,"mat-sort-header-pointer-right"],[1,"mat-sort-header-pointer-middle"]],template:function(t,r){1&t&&(l.F$t(),l.TgZ(0,"div",0)(1,"div",1),l.Hsn(2),l.qZA(),l.YNc(3,H3,6,6,"div",2),l.qZA()),2&t&&(l.ekj("mat-sort-header-sorted",r._isSorted())("mat-sort-header-position-before","before"===r.arrowPosition),l.uIk("tabindex",r._isDisabled()?null:0)("role",r._isDisabled()?null:"button"),l.xp6(3),l.Q6J("ngIf",r._renderArrow()))},dependencies:[mi],styles:[".mat-sort-header-container{display:flex;cursor:pointer;align-items:center;letter-spacing:normal;outline:0}[mat-sort-header].cdk-keyboard-focused .mat-sort-header-container,[mat-sort-header].cdk-program-focused .mat-sort-header-container{border-bottom:solid 1px currentColor}.mat-sort-header-disabled .mat-sort-header-container{cursor:default}.mat-sort-header-container::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-sort-header-content{text-align:center;display:flex;align-items:center}.mat-sort-header-position-before{flex-direction:row-reverse}.mat-sort-header-arrow{height:12px;width:12px;min-width:12px;position:relative;display:flex;opacity:0}.mat-sort-header-arrow,[dir=rtl] .mat-sort-header-position-before .mat-sort-header-arrow{margin:0 0 0 6px}.mat-sort-header-position-before .mat-sort-header-arrow,[dir=rtl] .mat-sort-header-arrow{margin:0 6px 0 0}.mat-sort-header-stem{background:currentColor;height:10px;width:2px;margin:auto;display:flex;align-items:center}.cdk-high-contrast-active .mat-sort-header-stem{width:0;border-left:solid 2px}.mat-sort-header-indicator{width:100%;height:2px;display:flex;align-items:center;position:absolute;top:0;left:0}.mat-sort-header-pointer-middle{margin:auto;height:2px;width:2px;background:currentColor;transform:rotate(45deg)}.cdk-high-contrast-active .mat-sort-header-pointer-middle{width:0;height:0;border-top:solid 2px;border-left:solid 2px}.mat-sort-header-pointer-left,.mat-sort-header-pointer-right{background:currentColor;width:6px;height:2px;position:absolute;top:0}.cdk-high-contrast-active .mat-sort-header-pointer-left,.cdk-high-contrast-active .mat-sort-header-pointer-right{width:0;height:0;border-left:solid 6px;border-top:solid 2px}.mat-sort-header-pointer-left{transform-origin:right;left:0}.mat-sort-header-pointer-right{transform-origin:left;right:0}"],encapsulation:2,data:{animation:[Vy.indicator,Vy.leftPointer,Vy.rightPointer,Vy.arrowOpacity,Vy.arrowPosition,Vy.allowChildren]},changeDetection:0}),n})(),sF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[q3],imports:[To,oa]}),n})();class K3{}function gM(n){return n&&"function"==typeof n.connect&&!(n instanceof sA)}class aF{applyChanges(e,t,r,i,s){e.forEachOperation((u,f,_)=>{let b,I;if(null==u.previousIndex){const M=r(u,f,_);b=t.createEmbeddedView(M.templateRef,M.context,M.index),I=1}else null==_?(t.remove(f),I=3):(b=t.get(f),t.move(b,_),I=2);s&&s({context:b?.context,operation:I,record:u})})}detach(){}}const tw=new l.OlP("_ViewRepeater");var Y3=V(1144);const Q3=["addListener","removeListener"],J3=["addEventListener","removeEventListener"],X3=["on","off"];function kx(n,e,t,r){if((0,Za.m)(t)&&(r=t,t=void 0),r)return kx(n,e,t).pipe(iA(r));const[i,s]=function nz(n){return(0,Za.m)(n.addEventListener)&&(0,Za.m)(n.removeEventListener)}(n)?J3.map(u=>f=>n[u](e,f,t)):function ez(n){return(0,Za.m)(n.addListener)&&(0,Za.m)(n.removeListener)}(n)?Q3.map(cF(n,e)):function tz(n){return(0,Za.m)(n.on)&&(0,Za.m)(n.off)}(n)?X3.map(cF(n,e)):[];if(!i&&(0,Y3.z)(n))return(0,bo.z)(u=>kx(u,e,t))((0,Bm.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new Un.y(u=>{const f=(..._)=>u.next(1<_.length?_:_[0]);return i(f),()=>s(f)})}function cF(n,e){return t=>r=>n[t](e,r)}var uF=V(4408);const nw={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=nw;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(s=>{t=void 0,n(s)});return new D0.w0(()=>t?.(i))},requestAnimationFrame(...n){const{delegate:e}=nw;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=nw;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var dF=V(7565);const oz=new class iz extends dF.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class rz extends uF.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=nw.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:s}=e;null!=t&&(null===(i=s[s.length-1])||void 0===i?void 0:i.id)!==t&&(nw.cancelAnimationFrame(t),e._scheduled=void 0)}});let _M,sz=1;const Ox={};function hF(n){return n in Ox&&(delete Ox[n],!0)}const az={setImmediate(n){const e=sz++;return Ox[e]=!0,_M||(_M=Promise.resolve()),_M.then(()=>hF(e)&&n()),e},clearImmediate(n){hF(n)}},{setImmediate:lz,clearImmediate:cz}=az,Nx={setImmediate(...n){const{delegate:e}=Nx;return(e?.setImmediate||lz)(...n)},clearImmediate(n){const{delegate:e}=Nx;return(e?.clearImmediate||cz)(n)},delegate:void 0},hz=new class dz extends dF.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class uz extends uF.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=Nx.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:s}=e;null!=t&&(null===(i=s[s.length-1])||void 0===i?void 0:i.id)!==t&&(Nx.clearImmediate(t),e._scheduled=void 0)}});var pz=V(3532);function yM(n,e=uo.z){return function fz(n){return(0,gr.e)((e,t)=>{let r=!1,i=null,s=null,u=!1;const f=()=>{if(s?.unsubscribe(),s=null,r){r=!1;const b=i;i=null,t.next(b)}u&&t.complete()},_=()=>{s=null,u&&t.complete()};e.subscribe((0,Dn.x)(t,b=>{r=!0,i=b,s||(0,Bm.Xf)(n(b)).subscribe(s=(0,Dn.x)(t,f,_))},()=>{u=!0,(!r||!s||s.closed)&&t.complete()}))})}(()=>function gz(n=0,e,t=uo.P){let r=-1;return null!=e&&((0,pz.K)(e)?t=e:r=e),new Un.y(i=>{let s=function mz(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let u=0;return t.schedule(function(){i.closed||(i.next(u++),0<=r?this.schedule(void 0,r):i.complete())},s)})}(n,e))}const _z=["contentWrapper"],yz=["*"],vz=new l.OlP("VIRTUAL_SCROLL_STRATEGY");let vM=(()=>{class n{constructor(t,r,i){this._ngZone=t,this._platform=r,this._scrolled=new xn.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Un.y(r=>{this._globalSubscription||this._addGlobalListener();const i=t>0?this._scrolled.pipe(yM(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Ye()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){const i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(Qr(s=>!s||i.indexOf(s)>-1))}getAncestorScrollContainers(t){const r=[];return this.scrollContainers.forEach((i,s)=>{this._scrollableContainsElement(s,t)&&r.push(s)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let i=$d(r),s=t.getElementRef().nativeElement;do{if(i==s)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>kx(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.R0b),l.LFG(Qo),l.LFG(re,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fF=(()=>{class n{constructor(t,r,i,s){this.elementRef=t,this.scrollDispatcher=r,this.ngZone=i,this.dir=s,this._destroyed=new xn.x,this._elementScrolled=new Un.y(u=>this.ngZone.runOutsideAngular(()=>kx(this.elementRef.nativeElement,"scroll").pipe(Ya(this._destroyed)).subscribe(u)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const r=this.elementRef.nativeElement,i=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=i?t.end:t.start),null==t.right&&(t.right=i?t.start:t.end),null!=t.bottom&&(t.top=r.scrollHeight-r.clientHeight-t.bottom),i&&0!=j0()?(null!=t.left&&(t.right=r.scrollWidth-r.clientWidth-t.left),2==j0()?t.left=t.right:1==j0()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=r.scrollWidth-r.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const r=this.elementRef.nativeElement;!function FB(){if(null==zm){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return zm=!1,zm;if("scrollBehavior"in document.documentElement.style)zm=!0;else{const n=Element.prototype.scrollTo;zm=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return zm}()?(null!=t.top&&(r.scrollTop=t.top),null!=t.left&&(r.scrollLeft=t.left)):r.scrollTo(t)}measureScrollOffset(t){const r="left",i="right",s=this.elementRef.nativeElement;if("top"==t)return s.scrollTop;if("bottom"==t)return s.scrollHeight-s.clientHeight-s.scrollTop;const u=this.dir&&"rtl"==this.dir.value;return"start"==t?t=u?i:r:"end"==t&&(t=u?r:i),u&&2==j0()?t==r?s.scrollWidth-s.clientWidth-s.scrollLeft:s.scrollLeft:u&&1==j0()?t==r?s.scrollLeft+s.scrollWidth-s.clientWidth:-s.scrollLeft:t==r?s.scrollLeft:s.scrollWidth-s.clientWidth-s.scrollLeft}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(vM),l.Y36(l.R0b),l.Y36(z0,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),n})(),pF=(()=>{class n{constructor(t,r,i){this._platform=t,this._change=new xn.x,this._changeListener=s=>{this._change.next(s)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),i=t.documentElement,s=i.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,left:-s.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(yM(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Qo),l.LFG(l.R0b),l.LFG(re,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const mF=new l.OlP("VIRTUAL_SCROLLABLE");let Ez=(()=>{class n extends fF{constructor(t,r,i,s){super(t,r,i,s)}measureViewportSize(t){const r=this.elementRef.nativeElement;return"horizontal"===t?r.clientWidth:r.clientHeight}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(vM),l.Y36(l.R0b),l.Y36(z0,8))},n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})();const Dz=typeof requestAnimationFrame<"u"?oz:hz;let xz=(()=>{class n extends Ez{get orientation(){return this._orientation}set orientation(t){this._orientation!==t&&(this._orientation=t,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(t){this._appendOnly=Jo(t)}constructor(t,r,i,s,u,f,_,b){super(t,f,i,u),this.elementRef=t,this._changeDetectorRef=r,this._scrollStrategy=s,this.scrollable=b,this._platform=(0,l.f3M)(Qo),this._detachedSubject=new xn.x,this._renderedRangeSubject=new xn.x,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new Un.y(I=>this._scrollStrategy.scrolledIndexChange.subscribe(M=>Promise.resolve().then(()=>this.ngZone.run(()=>I.next(M))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=D0.w0.EMPTY,this._viewportChanges=_.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe(Ur(null),yM(0,Dz)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(t){this.ngZone.runOutsideAngular(()=>{this._forOf=t,this._forOf.dataStream.pipe(Ya(this._detachedSubject)).subscribe(r=>{const i=r.length;i!==this._dataLength&&(this._dataLength=i,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(t){return this.getElementRef().nativeElement.getBoundingClientRect()[t]}setTotalContentSize(t){this._totalContentSize!==t&&(this._totalContentSize=t,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(t){(function Cz(n,e){return n.start==e.start&&n.end==e.end})(this._renderedRange,t)||(this.appendOnly&&(t={start:0,end:Math.max(this._renderedRange.end,t.end)}),this._renderedRangeSubject.next(this._renderedRange=t),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(t,r="to-start"){t=this.appendOnly&&"to-start"===r?0:t;const s="horizontal"==this.orientation,u=s?"X":"Y";let _=`translate${u}(${Number((s&&this.dir&&"rtl"==this.dir.value?-1:1)*t)}px)`;this._renderedContentOffset=t,"to-end"===r&&(_+=` translate${u}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=_&&(this._renderedContentTransform=_,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(t,r="auto"){const i={behavior:r};"horizontal"===this.orientation?i.start=t:i.top=t,this.scrollable.scrollTo(i)}scrollToIndex(t,r="auto"){this._scrollStrategy.scrollToIndex(t,r)}measureScrollOffset(t){let r;return r=this.scrollable==this?i=>super.measureScrollOffset(i):i=>this.scrollable.measureScrollOffset(i),Math.max(0,r(t??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(t){let r;const i="left",s="right",u="rtl"==this.dir?.value;r="start"==t?u?s:i:"end"==t?u?i:s:t||("horizontal"===this.orientation?"left":"top");const f=this.scrollable.measureBoundingClientRectWithScrollOffset(r);return this.elementRef.nativeElement.getBoundingClientRect()[r]-f}measureRenderedContentSize(){const t=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?t.offsetWidth:t.offsetHeight}measureRangeSize(t){return this._forOf?this._forOf.measureRangeSize(t,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(t){t&&this._runAfterChangeDetection.push(t),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const t=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const r of t)r()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(l.R0b),l.Y36(vz,8),l.Y36(z0,8),l.Y36(vM),l.Y36(pF),l.Y36(mF,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(t,r){if(1&t&&l.Gf(_z,7),2&t){let i;l.iGM(i=l.CRH())&&(r._contentWrapper=i.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(t,r){2&t&&l.ekj("cdk-virtual-scroll-orientation-horizontal","horizontal"===r.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==r.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[l._Bn([{provide:fF,useFactory:(e,t)=>e||t,deps:[[new l.FiY,new l.tBr(mF)],n]}]),l.qOj,l.jDz],ngContentSelectors:yz,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(t,r){1&t&&(l.F$t(),l.TgZ(0,"div",0,1),l.Hsn(2),l.qZA(),l._UZ(3,"div",2)),2&t&&(l.xp6(3),l.Udp("width",r._totalContentWidth)("height",r._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),n})(),gF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),Iz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[rx,gF,xz,rx,gF]}),n})();const Sz=[[["caption"]],[["colgroup"],["col"]]],Az=["caption","colgroup, col"];function bM(n){return class extends n{get sticky(){return this._sticky}set sticky(e){const t=this._sticky;this._sticky=Jo(e),this._hasStickyChanged=t!==this._sticky}hasStickyChanged(){const e=this._hasStickyChanged;return this._hasStickyChanged=!1,e}resetStickyChanged(){this._hasStickyChanged=!1}constructor(...e){super(...e),this._sticky=!1,this._hasStickyChanged=!1}}}const By=new l.OlP("CDK_TABLE");let Uy=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkCellDef",""]]}),n})(),Hy=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkHeaderCellDef",""]]}),n})(),Fx=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkFooterCellDef",""]]}),n})();class Oz{}const Nz=bM(Oz);let Wd=(()=>{class n extends Nz{get name(){return this._name}set name(t){this._setNameInput(t)}get stickyEnd(){return this._stickyEnd}set stickyEnd(t){const r=this._stickyEnd;this._stickyEnd=Jo(t),this._hasStickyChanged=r!==this._stickyEnd}constructor(t){super(),this._table=t,this._stickyEnd=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(t){t&&(this._name=t,this.cssClassFriendlyName=t.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(By,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(t,r,i){if(1&t&&(l.Suo(i,Uy,5),l.Suo(i,Hy,5),l.Suo(i,Fx,5)),2&t){let s;l.iGM(s=l.CRH())&&(r.cell=s.first),l.iGM(s=l.CRH())&&(r.headerCell=s.first),l.iGM(s=l.CRH())&&(r.footerCell=s.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[l._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),l.qOj]}),n})();class wM{constructor(e,t){t.nativeElement.classList.add(...e._columnCssClassName)}}let EM=(()=>{class n extends wM{constructor(t,r){super(t,r)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Wd),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[l.qOj]}),n})(),CM=(()=>{class n extends wM{constructor(t,r){if(super(t,r),1===t._table?._elementRef.nativeElement.nodeType){const i=t._table._elementRef.nativeElement.getAttribute("role");r.nativeElement.setAttribute("role","grid"===i||"treegrid"===i?"gridcell":"cell")}}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Wd),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[l.qOj]}),n})();class yF{constructor(){this.tasks=[],this.endTasks=[]}}const DM=new l.OlP("_COALESCED_STYLE_SCHEDULER");let vF=(()=>{class n{constructor(t){this._ngZone=t,this._currentSchedule=null,this._destroyed=new xn.x}schedule(t){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(t)}scheduleEnd(t){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(t)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new yF,this._getScheduleObservable().pipe(Ya(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const t=this._currentSchedule;this._currentSchedule=new yF;for(const r of t.tasks)r();for(const r of t.endTasks)r()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,pn.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe(cu(1))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),xM=(()=>{class n{constructor(t,r){this.template=t,this._differs=r}ngOnChanges(t){if(!this._columnsDiffer){const r=t.columns&&t.columns.currentValue||[];this._columnsDiffer=this._differs.find(r).create(),this._columnsDiffer.diff(r)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(t){return this instanceof rw?t.headerCell.template:this instanceof iw?t.footerCell.template:t.cell.template}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc),l.Y36(l.ZZ4))},n.\u0275dir=l.lG2({type:n,features:[l.TTD]}),n})();class Fz extends xM{}const Pz=bM(Fz);let rw=(()=>{class n extends Pz{constructor(t,r,i){super(t,r),this._table=i}ngOnChanges(t){super.ngOnChanges(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc),l.Y36(l.ZZ4),l.Y36(By,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[l.qOj,l.TTD]}),n})();class Lz extends xM{}const Vz=bM(Lz);let iw=(()=>{class n extends Vz{constructor(t,r,i){super(t,r),this._table=i}ngOnChanges(t){super.ngOnChanges(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc),l.Y36(l.ZZ4),l.Y36(By,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[l.qOj,l.TTD]}),n})(),Px=(()=>{class n extends xM{constructor(t,r,i){super(t,r),this._table=i}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc),l.Y36(l.ZZ4),l.Y36(By,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[l.qOj]}),n})(),Zd=(()=>{class n{constructor(t){this._viewContainer=t,n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}}return n.mostRecentCellOutlet=null,n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkCellOutlet",""]]}),n})(),IM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,r){1&t&&l.GkF(0,0)},dependencies:[Zd],encapsulation:2}),n})(),SM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,r){1&t&&l.GkF(0,0)},dependencies:[Zd],encapsulation:2}),n})(),Lx=(()=>{class n{constructor(t){this.templateRef=t,this._contentClassName="cdk-no-data-row"}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","cdkNoDataRow",""]]}),n})();const bF=["top","bottom","left","right"];class Bz{constructor(e,t,r,i,s=!0,u=!0,f){this._isNativeHtmlTable=e,this._stickCellCss=t,this.direction=r,this._coalescedStyleScheduler=i,this._isBrowser=s,this._needsPositionStickyOnElement=u,this._positionListener=f,this._cachedCellWidths=[],this._borderCellCss={top:`${t}-border-elem-top`,bottom:`${t}-border-elem-bottom`,left:`${t}-border-elem-left`,right:`${t}-border-elem-right`}}clearStickyPositioning(e,t){const r=[];for(const i of e)if(i.nodeType===i.ELEMENT_NODE){r.push(i);for(let s=0;s<i.children.length;s++)r.push(i.children[s])}this._coalescedStyleScheduler.schedule(()=>{for(const i of r)this._removeStickyStyle(i,t)})}updateStickyColumns(e,t,r,i=!0){if(!e.length||!this._isBrowser||!t.some(U=>U)&&!r.some(U=>U))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const s=e[0],u=s.children.length,f=this._getCellWidths(s,i),_=this._getStickyStartColumnPositions(f,t),b=this._getStickyEndColumnPositions(f,r),I=t.lastIndexOf(!0),M=r.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const U="rtl"===this.direction,$=U?"right":"left",ee=U?"left":"right";for(const ie of e)for(let de=0;de<u;de++){const qe=ie.children[de];t[de]&&this._addStickyStyle(qe,$,_[de],de===I),r[de]&&this._addStickyStyle(qe,ee,b[de],de===M)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===I?[]:f.slice(0,I+1).map((ie,de)=>t[de]?ie:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===M?[]:f.slice(M).map((ie,de)=>r[de+M]?ie:null).reverse()}))})}stickRows(e,t,r){if(!this._isBrowser)return;const i="bottom"===r?e.slice().reverse():e,s="bottom"===r?t.slice().reverse():t,u=[],f=[],_=[];for(let I=0,M=0;I<i.length;I++){if(!s[I])continue;u[I]=M;const U=i[I];_[I]=this._isNativeHtmlTable?Array.from(U.children):[U];const $=U.getBoundingClientRect().height;M+=$,f[I]=$}const b=s.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{for(let I=0;I<i.length;I++){if(!s[I])continue;const M=u[I],U=I===b;for(const $ of _[I])this._addStickyStyle($,r,M,U)}"top"===r?this._positionListener?.stickyHeaderRowsUpdated({sizes:f,offsets:u,elements:_}):this._positionListener?.stickyFooterRowsUpdated({sizes:f,offsets:u,elements:_})})}updateStickyFooterContainer(e,t){if(!this._isNativeHtmlTable)return;const r=e.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{t.some(i=>!i)?this._removeStickyStyle(r,["bottom"]):this._addStickyStyle(r,"bottom",0,!1)})}_removeStickyStyle(e,t){for(const i of t)e.style[i]="",e.classList.remove(this._borderCellCss[i]);bF.some(i=>-1===t.indexOf(i)&&e.style[i])?e.style.zIndex=this._getCalculatedZIndex(e):(e.style.zIndex="",this._needsPositionStickyOnElement&&(e.style.position=""),e.classList.remove(this._stickCellCss))}_addStickyStyle(e,t,r,i){e.classList.add(this._stickCellCss),i&&e.classList.add(this._borderCellCss[t]),e.style[t]=`${r}px`,e.style.zIndex=this._getCalculatedZIndex(e),this._needsPositionStickyOnElement&&(e.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(e){const t={top:100,bottom:10,left:1,right:1};let r=0;for(const i of bF)e.style[i]&&(r+=t[i]);return r?`${r}`:""}_getCellWidths(e,t=!0){if(!t&&this._cachedCellWidths.length)return this._cachedCellWidths;const r=[],i=e.children;for(let s=0;s<i.length;s++)r.push(i[s].getBoundingClientRect().width);return this._cachedCellWidths=r,r}_getStickyStartColumnPositions(e,t){const r=[];let i=0;for(let s=0;s<e.length;s++)t[s]&&(r[s]=i,i+=e[s]);return r}_getStickyEndColumnPositions(e,t){const r=[];let i=0;for(let s=e.length;s>0;s--)t[s]&&(r[s]=i,i+=e[s]);return r}}const AM=new l.OlP("CDK_SPL");let Vx=(()=>{class n{constructor(t,r){this.viewContainer=t,this.elementRef=r}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","rowOutlet",""]]}),n})(),Bx=(()=>{class n{constructor(t,r){this.viewContainer=t,this.elementRef=r}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","headerRowOutlet",""]]}),n})(),Ux=(()=>{class n{constructor(t,r){this.viewContainer=t,this.elementRef=r}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","footerRowOutlet",""]]}),n})(),Hx=(()=>{class n{constructor(t,r){this.viewContainer=t,this.elementRef=r}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","noDataRowOutlet",""]]}),n})(),jx=(()=>{class n{get trackBy(){return this._trackByFn}set trackBy(t){this._trackByFn=t}get dataSource(){return this._dataSource}set dataSource(t){this._dataSource!==t&&this._switchDataSource(t)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(t){this._multiTemplateDataRows=Jo(t),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(t){this._fixedLayout=Jo(t),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}constructor(t,r,i,s,u,f,_,b,I,M,U,$){this._differs=t,this._changeDetectorRef=r,this._elementRef=i,this._dir=u,this._platform=_,this._viewRepeater=b,this._coalescedStyleScheduler=I,this._viewportRuler=M,this._stickyPositioningListener=U,this._ngZone=$,this._onDestroy=new xn.x,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new l.vpe,this.viewChange=new vo({start:0,end:Number.MAX_VALUE}),s||this._elementRef.nativeElement.setAttribute("role","table"),this._document=f,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((t,r)=>this.trackBy?this.trackBy(r.dataIndex,r.data):r),this._viewportRuler.change().pipe(Ya(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const r=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||r,this._forceRecalculateCellWidths=r,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(t=>{t.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),gM(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const t=this._dataDiffer.diff(this._renderRows);if(!t)return this._updateNoDataRow(),void this.contentChanged.next();const r=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(t,r,(i,s,u)=>this._getEmbeddedViewArgs(i.item,u),i=>i.item.data,i=>{1===i.operation&&i.context&&this._renderCellTemplateForItem(i.record.item.rowDef,i.context)}),this._updateRowIndexContext(),t.forEachIdentityChange(i=>{r.get(i.currentIndex).context.$implicit=i.item.data}),this._updateNoDataRow(),this._ngZone&&l.R0b.isInAngularZone()?this._ngZone.onStable.pipe(cu(1),Ya(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(t){this._customColumnDefs.add(t)}removeColumnDef(t){this._customColumnDefs.delete(t)}addRowDef(t){this._customRowDefs.add(t)}removeRowDef(t){this._customRowDefs.delete(t)}addHeaderRowDef(t){this._customHeaderRowDefs.add(t),this._headerRowDefChanged=!0}removeHeaderRowDef(t){this._customHeaderRowDefs.delete(t),this._headerRowDefChanged=!0}addFooterRowDef(t){this._customFooterRowDefs.add(t),this._footerRowDefChanged=!0}removeFooterRowDef(t){this._customFooterRowDefs.delete(t),this._footerRowDefChanged=!0}setNoDataRow(t){this._customNoDataRow=t}updateStickyHeaderRowStyles(){const t=this._getRenderedRows(this._headerRowOutlet),i=this._elementRef.nativeElement.querySelector("thead");i&&(i.style.display=t.length?"":"none");const s=this._headerRowDefs.map(u=>u.sticky);this._stickyStyler.clearStickyPositioning(t,["top"]),this._stickyStyler.stickRows(t,s,"top"),this._headerRowDefs.forEach(u=>u.resetStickyChanged())}updateStickyFooterRowStyles(){const t=this._getRenderedRows(this._footerRowOutlet),i=this._elementRef.nativeElement.querySelector("tfoot");i&&(i.style.display=t.length?"":"none");const s=this._footerRowDefs.map(u=>u.sticky);this._stickyStyler.clearStickyPositioning(t,["bottom"]),this._stickyStyler.stickRows(t,s,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,s),this._footerRowDefs.forEach(u=>u.resetStickyChanged())}updateStickyColumnStyles(){const t=this._getRenderedRows(this._headerRowOutlet),r=this._getRenderedRows(this._rowOutlet),i=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...t,...r,...i],["left","right"]),this._stickyColumnStylesNeedReset=!1),t.forEach((s,u)=>{this._addStickyColumnStyles([s],this._headerRowDefs[u])}),this._rowDefs.forEach(s=>{const u=[];for(let f=0;f<r.length;f++)this._renderRows[f].rowDef===s&&u.push(r[f]);this._addStickyColumnStyles(u,s)}),i.forEach((s,u)=>{this._addStickyColumnStyles([s],this._footerRowDefs[u])}),Array.from(this._columnDefsByName.values()).forEach(s=>s.resetStickyChanged())}_getAllRenderRows(){const t=[],r=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let i=0;i<this._data.length;i++){let s=this._data[i];const u=this._getRenderRowsForData(s,i,r.get(s));this._cachedRenderRowsMap.has(s)||this._cachedRenderRowsMap.set(s,new WeakMap);for(let f=0;f<u.length;f++){let _=u[f];const b=this._cachedRenderRowsMap.get(_.data);b.has(_.rowDef)?b.get(_.rowDef).push(_):b.set(_.rowDef,[_]),t.push(_)}}return t}_getRenderRowsForData(t,r,i){return this._getRowDefs(t,r).map(u=>{const f=i&&i.has(u)?i.get(u):[];if(f.length){const _=f.shift();return _.dataIndex=r,_}return{data:t,rowDef:u,dataIndex:r}})}_cacheColumnDefs(){this._columnDefsByName.clear(),zx(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(r=>{this._columnDefsByName.has(r.name),this._columnDefsByName.set(r.name,r)})}_cacheRowDefs(){this._headerRowDefs=zx(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=zx(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=zx(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const t=this._rowDefs.filter(r=>!r.when);this._defaultRowDef=t[0]}_renderUpdatedColumns(){const t=(u,f)=>u||!!f.getColumnsDiff(),r=this._rowDefs.reduce(t,!1);r&&this._forceRenderDataRows();const i=this._headerRowDefs.reduce(t,!1);i&&this._forceRenderHeaderRows();const s=this._footerRowDefs.reduce(t,!1);return s&&this._forceRenderFooterRows(),r||i||s}_switchDataSource(t){this._data=[],gM(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),t||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=t}_observeRenderChanges(){if(!this.dataSource)return;let t;gM(this.dataSource)?t=this.dataSource.connect(this):function Tz(n){return!!n&&(n instanceof Un.y||(0,Za.m)(n.lift)&&(0,Za.m)(n.subscribe))}(this.dataSource)?t=this.dataSource:Array.isArray(this.dataSource)&&(t=Ye(this.dataSource)),this._renderChangeSubscription=t.pipe(Ya(this._onDestroy)).subscribe(r=>{this._data=r||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((t,r)=>this._renderRow(this._headerRowOutlet,t,r)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((t,r)=>this._renderRow(this._footerRowOutlet,t,r)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(t,r){const i=Array.from(r.columns||[]).map(f=>this._columnDefsByName.get(f)),s=i.map(f=>f.sticky),u=i.map(f=>f.stickyEnd);this._stickyStyler.updateStickyColumns(t,s,u,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(t){const r=[];for(let i=0;i<t.viewContainer.length;i++){const s=t.viewContainer.get(i);r.push(s.rootNodes[0])}return r}_getRowDefs(t,r){if(1==this._rowDefs.length)return[this._rowDefs[0]];let i=[];if(this.multiTemplateDataRows)i=this._rowDefs.filter(s=>!s.when||s.when(r,t));else{let s=this._rowDefs.find(u=>u.when&&u.when(r,t))||this._defaultRowDef;s&&i.push(s)}return i}_getEmbeddedViewArgs(t,r){return{templateRef:t.rowDef.template,context:{$implicit:t.data},index:r}}_renderRow(t,r,i,s={}){const u=t.viewContainer.createEmbeddedView(r.template,s,i);return this._renderCellTemplateForItem(r,s),u}_renderCellTemplateForItem(t,r){for(let i of this._getCellTemplates(t))Zd.mostRecentCellOutlet&&Zd.mostRecentCellOutlet._viewContainer.createEmbeddedView(i,r);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const t=this._rowOutlet.viewContainer;for(let r=0,i=t.length;r<i;r++){const u=t.get(r).context;u.count=i,u.first=0===r,u.last=r===i-1,u.even=r%2==0,u.odd=!u.even,this.multiTemplateDataRows?(u.dataIndex=this._renderRows[r].dataIndex,u.renderIndex=r):u.index=this._renderRows[r].dataIndex}}_getCellTemplates(t){return t&&t.columns?Array.from(t.columns,r=>{const i=this._columnDefsByName.get(r);return t.extractCellTemplate(i)}):[]}_applyNativeTableSections(){const t=this._document.createDocumentFragment(),r=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const i of r){const s=this._document.createElement(i.tag);s.setAttribute("role","rowgroup");for(const u of i.outlets)s.appendChild(u.elementRef.nativeElement);t.appendChild(s)}this._elementRef.nativeElement.appendChild(t)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const t=(r,i)=>r||i.hasStickyChanged();this._headerRowDefs.reduce(t,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(t,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(t,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new Bz(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:Ye()).pipe(Ya(this._onDestroy)).subscribe(r=>{this._stickyStyler.direction=r,this.updateStickyColumnStyles()})}_getOwnDefs(t){return t.filter(r=>!r._table||r._table===this)}_updateNoDataRow(){const t=this._customNoDataRow||this._noDataRow;if(!t)return;const r=0===this._rowOutlet.viewContainer.length;if(r===this._isShowingNoDataRow)return;const i=this._noDataRowOutlet.viewContainer;if(r){const s=i.createEmbeddedView(t.templateRef),u=s.rootNodes[0];1===s.rootNodes.length&&u?.nodeType===this._document.ELEMENT_NODE&&(u.setAttribute("role","row"),u.classList.add(t._contentClassName))}else i.clear();this._isShowingNoDataRow=r}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.ZZ4),l.Y36(l.sBO),l.Y36(l.SBq),l.$8M("role"),l.Y36(z0,8),l.Y36(re),l.Y36(Qo),l.Y36(tw),l.Y36(DM),l.Y36(pF),l.Y36(AM,12),l.Y36(l.R0b,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(t,r,i){if(1&t&&(l.Suo(i,Lx,5),l.Suo(i,Wd,5),l.Suo(i,Px,5),l.Suo(i,rw,5),l.Suo(i,iw,5)),2&t){let s;l.iGM(s=l.CRH())&&(r._noDataRow=s.first),l.iGM(s=l.CRH())&&(r._contentColumnDefs=s),l.iGM(s=l.CRH())&&(r._contentRowDefs=s),l.iGM(s=l.CRH())&&(r._contentHeaderRowDefs=s),l.iGM(s=l.CRH())&&(r._contentFooterRowDefs=s)}},viewQuery:function(t,r){if(1&t&&(l.Gf(Vx,7),l.Gf(Bx,7),l.Gf(Ux,7),l.Gf(Hx,7)),2&t){let i;l.iGM(i=l.CRH())&&(r._rowOutlet=i.first),l.iGM(i=l.CRH())&&(r._headerRowOutlet=i.first),l.iGM(i=l.CRH())&&(r._footerRowOutlet=i.first),l.iGM(i=l.CRH())&&(r._noDataRowOutlet=i.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(t,r){2&t&&l.ekj("cdk-table-fixed-layout",r.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[l._Bn([{provide:By,useExisting:n},{provide:tw,useClass:aF},{provide:DM,useClass:vF},{provide:AM,useValue:null}])],ngContentSelectors:Az,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,r){1&t&&(l.F$t(Sz),l.Hsn(0),l.Hsn(1,1),l.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[Vx,Bx,Ux,Hx],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2}),n})();function zx(n,e){return n.concat(Array.from(e))}let Hz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Iz]}),n})();const jz=[[["caption"]],[["colgroup"],["col"]]],zz=["caption","colgroup, col"];let EF=(()=>{class n extends jx{constructor(){super(...arguments),this.stickyCssClass="mat-mdc-table-sticky",this.needsPositionStickyOnElement=!1}ngOnInit(){super.ngOnInit(),this._isNativeHtmlTable&&this._elementRef.nativeElement.querySelector("tbody").classList.add("mdc-data-table__content")}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(t,r){2&t&&l.ekj("mdc-table-fixed-layout",r.fixedLayout)},exportAs:["matTable"],features:[l._Bn([{provide:jx,useExisting:n},{provide:By,useExisting:n},{provide:DM,useClass:vF},{provide:tw,useClass:aF},{provide:AM,useValue:null}]),l.qOj],ngContentSelectors:zz,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,r){1&t&&(l.F$t(jz),l.Hsn(0),l.Hsn(1,1),l.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[Vx,Bx,Ux,Hx],styles:[".mdc-data-table{border-radius:var(--mdc-shape-medium, 4px);border-width:1px;border-style:solid}.mdc-data-table .mdc-data-table__header-cell:first-child{border-top-left-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table .mdc-data-table__header-cell:first-child,.mdc-data-table .mdc-data-table__header-cell:first-child[dir=rtl]{border-top-right-radius:var(--mdc-shape-medium, 4px);border-top-left-radius:0}.mdc-data-table .mdc-data-table__header-cell:last-child{border-top-right-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table .mdc-data-table__header-cell:last-child,.mdc-data-table .mdc-data-table__header-cell:last-child[dir=rtl]{border-top-left-radius:var(--mdc-shape-medium, 4px);border-top-right-radius:0}.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:first-child{border-bottom-left-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:first-child,.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:first-child[dir=rtl]{border-bottom-right-radius:var(--mdc-shape-medium, 4px);border-bottom-left-radius:0}.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:last-child{border-bottom-right-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:last-child,.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:last-child[dir=rtl]{border-bottom-left-radius:var(--mdc-shape-medium, 4px);border-bottom-right-radius:0}.mdc-data-table__cell,.mdc-data-table__header-cell{border-bottom-width:1px;border-bottom-style:solid}.mdc-data-table__pagination{border-top-width:1px;border-top-style:solid}.mdc-data-table__row:last-child .mdc-data-table__cell{border-bottom:none}.mdc-data-table__row{height:52px}.mdc-data-table__pagination{min-height:52px}.mdc-data-table__header-row{height:56px}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px 0 16px}.mdc-data-table__header-cell--checkbox,.mdc-data-table__cell--checkbox{padding-left:4px;padding-right:0}[dir=rtl] .mdc-data-table__header-cell--checkbox,[dir=rtl] .mdc-data-table__cell--checkbox,.mdc-data-table__header-cell--checkbox[dir=rtl],.mdc-data-table__cell--checkbox[dir=rtl]{padding-left:0;padding-right:4px}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__cell--checkbox{width:1px}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--checkbox{width:1px}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__sort-icon-button{width:28px;height:28px;padding:2px;transform:rotate(0.0001deg);margin-left:4px;margin-right:0;opacity:0}.mdc-data-table__sort-icon-button .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:28px;height:28px;margin-top:0px;margin-bottom:0px;margin-right:0px;margin-left:0px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:28px;left:50%;width:28px;transform:translate(-50%, -50%)}[dir=rtl] .mdc-data-table__sort-icon-button,.mdc-data-table__sort-icon-button[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__header-cell--sorted-descending .mdc-data-table__sort-icon-button{transform:rotate(-180deg)}.mdc-data-table__sort-icon-button:focus,.mdc-data-table__header-cell:hover .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--sorted .mdc-data-table__sort-icon-button{opacity:1}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__header-cell--with-sort{cursor:pointer}.mdc-data-table__sort-status-label{clip:rect(1px, 1px, 1px, 1px);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}.mdc-data-table--sticky-header .mdc-data-table__header-cell{position:sticky;top:0;z-index:1}.mdc-data-table{-webkit-overflow-scrolling:touch;display:inline-flex;flex-direction:column;box-sizing:border-box;position:relative}.mdc-data-table__table-container{-webkit-overflow-scrolling:touch;overflow-x:auto;width:100%}.mdc-data-table__table{min-width:100%;border:0;white-space:nowrap;border-spacing:0;table-layout:fixed}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--checkbox{width:1px}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__sort-icon-button{width:28px;height:28px;padding:2px;transform:rotate(0.0001deg);margin-left:4px;margin-right:0;opacity:0}.mdc-data-table__sort-icon-button .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:28px;height:28px;margin-top:0px;margin-bottom:0px;margin-right:0px;margin-left:0px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:28px;left:50%;width:28px;transform:translate(-50%, -50%)}[dir=rtl] .mdc-data-table__sort-icon-button,.mdc-data-table__sort-icon-button[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__header-cell--sorted-descending .mdc-data-table__sort-icon-button{transform:rotate(-180deg)}.mdc-data-table__sort-icon-button:focus,.mdc-data-table__header-cell:hover .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--sorted .mdc-data-table__sort-icon-button{opacity:1}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__header-cell--with-sort{cursor:pointer}.mdc-data-table__sort-status-label{clip:rect(1px, 1px, 1px, 1px);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__cell--checkbox{width:1px}.mdc-data-table__pagination{box-sizing:border-box;display:flex;justify-content:flex-end}.mdc-data-table__pagination-trailing{margin-left:4px;margin-right:0;align-items:center;display:flex;flex-wrap:wrap;justify-content:flex-end}[dir=rtl] .mdc-data-table__pagination-trailing,.mdc-data-table__pagination-trailing[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__pagination-navigation{align-items:center;display:flex}.mdc-data-table__pagination-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__pagination-button .mdc-button__icon,.mdc-data-table__pagination-button .mdc-button__icon[dir=rtl]{transform:rotate(180deg)}[dir=rtl] .mdc-data-table__pagination-button,.mdc-data-table__pagination-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__pagination-total{margin-left:14px;margin-right:36px;white-space:nowrap}[dir=rtl] .mdc-data-table__pagination-total,.mdc-data-table__pagination-total[dir=rtl]{margin-left:36px;margin-right:14px}.mdc-data-table__pagination-rows-per-page{margin-left:0;margin-right:22px;align-items:center;display:inline-flex}[dir=rtl] .mdc-data-table__pagination-rows-per-page,.mdc-data-table__pagination-rows-per-page[dir=rtl]{margin-left:22px;margin-right:0}.mdc-data-table__pagination-rows-per-page-label{margin-left:0;margin-right:12px;white-space:nowrap}[dir=rtl] .mdc-data-table__pagination-rows-per-page-label,.mdc-data-table__pagination-rows-per-page-label[dir=rtl]{margin-left:12px;margin-right:0}.mdc-data-table__pagination-rows-per-page-select{min-width:var(--mdc-menu-min-width, 80px);margin:8px 0}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor{width:100%;min-width:80px}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor{height:36px}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-floating-label--float-above{font-size:.75rem}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-data-table__pagination-rows-per-page-select .mdc-select__dropdown-icon{width:20px;height:20px}.mdc-data-table__pagination-rows-per-page-select.mdc-select--outlined .mdc-select__anchor :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 56px)}.mdc-data-table__pagination-rows-per-page-select .mdc-list-item.mdc-list-item--with-one-line{height:36px}.mdc-data-table__progress-indicator{display:none;position:absolute;width:100%}.mdc-data-table--in-progress .mdc-data-table__progress-indicator{display:block}.mdc-data-table__scrim{background-color:var(--mdc-theme-surface, #fff);height:100%;opacity:.32;position:absolute;top:0;width:100%}mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table-sticky{position:sticky !important}.mat-mdc-table{table-layout:auto;white-space:normal}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table .mat-mdc-row:hover,.mat-mdc-table .mat-mdc-footer-row:hover{background-color:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}"],encapsulation:2}),n})(),MM=(()=>{class n extends Uy{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","matCellDef",""]],features:[l._Bn([{provide:Uy,useExisting:n}]),l.qOj]}),n})(),RM=(()=>{class n extends Hy{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","matHeaderCellDef",""]],features:[l._Bn([{provide:Hy,useExisting:n}]),l.qOj]}),n})(),kM=(()=>{class n extends Wd{get name(){return this._name}set name(t){this._setNameInput(t)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[l._Bn([{provide:Wd,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),l.qOj]}),n})(),OM=(()=>{class n extends EM{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],features:[l.qOj]}),n})(),NM=(()=>{class n extends CM{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],features:[l.qOj]}),n})(),CF=(()=>{class n extends rw{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[l._Bn([{provide:rw,useExisting:n}]),l.qOj]}),n})(),DF=(()=>{class n extends Px{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[l._Bn([{provide:Px,useExisting:n}]),l.qOj]}),n})(),xF=(()=>{class n extends IM{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],features:[l._Bn([{provide:IM,useExisting:n}]),l.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,r){1&t&&l.GkF(0,0)},dependencies:[Zd],encapsulation:2}),n})(),IF=(()=>{class n extends SM{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],features:[l._Bn([{provide:SM,useExisting:n}]),l.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,r){1&t&&l.GkF(0,0)},dependencies:[Zd],encapsulation:2}),n})(),TF=(()=>{class n extends Lx{constructor(){super(...arguments),this._contentClassName="mat-mdc-no-data-row"}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","matNoDataRow",""]],features:[l._Bn([{provide:Lx,useExisting:n}]),l.qOj]}),n})(),SF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[oa,Hz,oa]}),n})();class Xz extends K3{get data(){return this._data.value}set data(e){e=Array.isArray(e)?e:[],this._data.next(e),this._renderChangesSubscription||this._filterData(e)}get filter(){return this._filter.value}set filter(e){this._filter.next(e),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(e){this._sort=e,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(e){this._paginator=e,this._updateChangeSubscription()}constructor(e=[]){super(),this._renderData=new vo([]),this._filter=new vo(""),this._internalPageChanges=new xn.x,this._renderChangesSubscription=null,this.sortingDataAccessor=(t,r)=>{const i=t[r];if(qk(i)){const s=Number(i);return s<9007199254740991?s:i}return i},this.sortData=(t,r)=>{const i=r.active,s=r.direction;return i&&""!=s?t.sort((u,f)=>{let _=this.sortingDataAccessor(u,i),b=this.sortingDataAccessor(f,i);const I=typeof _,M=typeof b;I!==M&&("number"===I&&(_+=""),"number"===M&&(b+=""));let U=0;return null!=_&&null!=b?_>b?U=1:_<b&&(U=-1):null!=_?U=1:null!=b&&(U=-1),U*("asc"==s?1:-1)}):t},this.filterPredicate=(t,r)=>{const i=Object.keys(t).reduce((u,f)=>u+t[f]+"\u25ec","").toLowerCase(),s=r.trim().toLowerCase();return-1!=i.indexOf(s)},this._data=new vo(e),this._updateChangeSubscription()}_updateChangeSubscription(){const e=this._sort?(0,b0.T)(this._sort.sortChange,this._sort.initialized):Ye(null),t=this._paginator?(0,b0.T)(this._paginator.page,this._internalPageChanges,this._paginator.initialized):Ye(null),i=my([this._data,this._filter]).pipe((0,ct.U)(([f])=>this._filterData(f))),s=my([i,e]).pipe((0,ct.U)(([f])=>this._orderData(f))),u=my([s,t]).pipe((0,ct.U)(([f])=>this._pageData(f)));this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=u.subscribe(f=>this._renderData.next(f))}_filterData(e){return this.filteredData=null==this.filter||""===this.filter?e:e.filter(t=>this.filterPredicate(t,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(e){return this.sort?this.sortData(e.slice(),this.sort):e}_pageData(e){if(!this.paginator)return e;const t=this.paginator.pageIndex*this.paginator.pageSize;return e.slice(t,t+this.paginator.pageSize)}_updatePaginator(e){Promise.resolve().then(()=>{const t=this.paginator;if(t&&(t.length=e,t.pageIndex>0)){const r=Math.ceil(t.length/t.pageSize)-1||0,i=Math.min(t.pageIndex,r);i!==t.pageIndex&&(t.pageIndex=i,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=null}}class e$ extends Xz{}function t$(n,e){1&n&&(l.TgZ(0,"th",22),l._uU(1," Name "),l.qZA())}function n$(n,e){if(1&n&&(l.TgZ(0,"td",23),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.xp6(1),l.hij(" ",t.name," ")}}function r$(n,e){1&n&&(l.TgZ(0,"th",22),l._uU(1," Email "),l.qZA())}function i$(n,e){if(1&n&&(l.TgZ(0,"td",23),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.xp6(1),l.hij(" ",t.email," ")}}function o$(n,e){1&n&&(l.TgZ(0,"th",24),l._uU(1," Phone "),l.qZA())}function s$(n,e){if(1&n&&(l.TgZ(0,"td",23),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.xp6(1),l.hij(" ",t.phone," ")}}function a$(n,e){1&n&&l._UZ(0,"th",24)}const l$=function(n){return["/update-user",n]};function c$(n,e){if(1&n&&(l.TgZ(0,"td",23)(1,"button",25)(2,"mat-icon",26),l._uU(3,"edit"),l.qZA()()()),2&n){const t=e.$implicit;l.xp6(1),l.Q6J("routerLink",l.VKq(1,l$,t.id))}}function u$(n,e){1&n&&l._UZ(0,"th",24)}function d$(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"td",23)(1,"button",27),l.NdJ("click",function(){const s=l.CHM(t).$implicit,u=l.oxw();return l.KtG(u.deleteUser(s.id))}),l.TgZ(2,"mat-icon",26),l._uU(3,"delete"),l.qZA()()()}}function h$(n,e){1&n&&l._UZ(0,"th",24)}const f$=function(n){return["/user-info",n]};function p$(n,e){if(1&n&&(l.TgZ(0,"td",23)(1,"button",28)(2,"a",29)(3,"mat-icon",26),l._uU(4,"visibility"),l.qZA()()()()),2&n){const t=e.$implicit;l.xp6(2),l.Q6J("routerLink",l.VKq(1,f$,t.id))}}function m$(n,e){1&n&&l._UZ(0,"tr",30)}function g$(n,e){1&n&&l._UZ(0,"tr",31)}function _$(n,e){if(1&n&&(l.TgZ(0,"tr",32)(1,"td",33),l._uU(2),l.qZA()()),2&n){l.oxw();const t=l.MAs(11);l.xp6(2),l.hij('No data matching the filter "',t.value,'"')}}let y$=(()=>{class n{constructor(t){this._UsersService=t,this.allUsers=[],this.displayedColumns=["name","email","phone","update","delete","info"],this.dataSource=new e$}ngOnInit(){this.getAllUsers(),this.dataSource.filterPredicate=(t,r)=>t.name.toLowerCase().includes(r)}ngAfterViewInit(){this.dataSource.sort=this.sort}getAllUsers(){this._UsersService.getAllUsers().subscribe(t=>{this.allUsers=t.map(r=>{const i=r.payload.doc.data();return i.id=r.payload.doc.id,this.allUsers=i,i}),this.dataSource.data=this.allUsers})}deleteUser(t){this._UsersService.deleteUser(t)}applyFilter(t){this.dataSource.filter=t.target.value.trim().toLowerCase()}static#e=this.\u0275fac=function(r){return new(r||n)(l.Y36(RD))};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["app-all-users"]],viewQuery:function(r,i){if(1&r&&l.Gf(mM,5),2&r){let s;l.iGM(s=l.CRH())&&(i.sort=s.first)}},decls:35,vars:3,consts:[[1,"text-end"],["mat-button","","mat-raised-button","","color","primary"],["routerLink","/new-user",1,"d-flex","align-items-center"],[1,"fs-6","mt-2"],[1,"mt-3"],[1,"w-100"],["matInput","","placeholder","Ex. ium",3,"keyup"],["input",""],[1,"example-table-container"],["matSort","","mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","email"],["matColumnDef","phone"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","update"],["matColumnDef","delete"],["matColumnDef","info"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-button","","color","primary",3,"routerLink"],[1,"mat-18"],["mat-button","","color","warn",3,"click"],["mat-button",""],[3,"routerLink"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(r,i){1&r&&(l.TgZ(0,"div",0)(1,"button",1)(2,"a",2),l._uU(3," Create New User "),l.TgZ(4,"mat-icon",3),l._uU(5,"add"),l.qZA()()()(),l.TgZ(6,"div",4)(7,"mat-form-field",5)(8,"mat-label"),l._uU(9,"Filter by name"),l.qZA(),l.TgZ(10,"input",6,7),l.NdJ("keyup",function(u){return i.applyFilter(u)}),l.qZA()()(),l.TgZ(12,"div",8)(13,"table",9),l.ynx(14,10),l.YNc(15,t$,2,0,"th",11),l.YNc(16,n$,2,1,"td",12),l.BQk(),l.ynx(17,13),l.YNc(18,r$,2,0,"th",11),l.YNc(19,i$,2,1,"td",12),l.BQk(),l.ynx(20,14),l.YNc(21,o$,2,0,"th",15),l.YNc(22,s$,2,1,"td",12),l.BQk(),l.ynx(23,16),l.YNc(24,a$,1,0,"th",15),l.YNc(25,c$,4,3,"td",12),l.BQk(),l.ynx(26,17),l.YNc(27,u$,1,0,"th",15),l.YNc(28,d$,4,0,"td",12),l.BQk(),l.ynx(29,18),l.YNc(30,h$,1,0,"th",15),l.YNc(31,p$,5,3,"td",12),l.BQk(),l.YNc(32,m$,1,0,"tr",19),l.YNc(33,g$,1,0,"tr",20),l.YNc(34,_$,3,1,"tr",21),l.qZA()()),2&r&&(l.xp6(13),l.Q6J("dataSource",i.dataSource),l.xp6(19),l.Q6J("matHeaderRowDef",i.displayedColumns),l.xp6(1),l.Q6J("matRowDefColumns",i.displayedColumns))},dependencies:[hu,q0,Sx,Ly,Mx,Gm,EF,RM,CF,kM,MM,DF,OM,NM,xF,IF,TF,mM,Z3],styles:[".example-table-container[_ngcontent-%COMP%]{position:relative;min-height:200px;max-height:400px;overflow:auto}"]})}return n})(),v$=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["app-dashboard"]],decls:4,vars:0,consts:[[1,"my-5"]],template:function(r,i){1&r&&(l.TgZ(0,"div",0)(1,"h1"),l._uU(2,"Your Dashboard !"),l.qZA()(),l._UZ(3,"app-all-users"))},dependencies:[y$]})}return n})(),$x=(()=>{class n{constructor(t){this._Router=t}canActivate(t,r){return null!==localStorage.getItem("userToken")||(this._Router.navigate(["/sign-in"]),!1)}static#e=this.\u0275fac=function(r){return new(r||n)(l.LFG(Ni))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function b$(n,e){if(1&n&&(l.TgZ(0,"mat-error"),l._uU(1),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Oqu(t.getUserNameErrorMessage())}}function w$(n,e){if(1&n&&(l.TgZ(0,"mat-error"),l._uU(1),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Oqu(t.getUserPhoneErrorMessage())}}let E$=(()=>{class n{constructor(t,r,i){this._UsersService=t,this._ActivatedRoute=r,this._Router=i,this.hide=!0,this.userId="",this.userForm=new Ny({name:new pu(null,[no.required]),phone:new pu(null,[no.required,no.pattern(/^201[0-2,5]{1}[0-9]{8}$/g),no.maxLength(11)])})}ngOnInit(){this.userId=this._ActivatedRoute.snapshot.params.id,this._UsersService.getUserInfo(this.userId).subscribe(t=>{this.user=t.data(),this.userForm.controls.name.setValue(this.user.name),this.userForm.controls.phone.setValue(this.user.phone)})}getUserNameErrorMessage(){if(this.userForm.controls.name.hasError("required"))return"You must enter a value"}getUserPhoneErrorMessage(){return this.userForm.controls.phone.hasError("required")?"You must enter a value":this.userForm.controls.phone.hasError("pattern")?"ex. 201xxxxxxxxx":void 0}updateUserInfo(t){this._UsersService.updateUserInfo(t,this.userId).then(()=>{this._Router.navigate(["/dashboard"])})}static#e=this.\u0275fac=function(r){return new(r||n)(l.Y36(RD),l.Y36(Jf),l.Y36(Ni))};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["app-update-user"]],decls:32,vars:4,consts:[[1,"col-lg-6","col-md-8","m-auto"],[1,"my-5","text-center"],[1,"mat-18"],[1,"px-lg-5",3,"formGroup","ngSubmit"],[1,"mb-3"],[1,"w-100"],["matInput","","placeholder","Jhon Smith","formControlName","name","required",""],["matSuffix","",1,"fs-4"],[4,"ngIf"],["matInput","","formControlName","phone","type","number","required",""],[1,"text-center"],["type","submit","matRipple","",1,"btn","submit","mt-3","w-100",3,"disabled"],[1,"mt-5"],["mat-button","","color","primary"],["routerLink","/dashboard",1,"d-flex","align-items-center"],[1,"mat-18","me-2"]],template:function(r,i){1&r&&(l.TgZ(0,"div",0)(1,"div",1)(2,"h2"),l._uU(3,"Update User Info "),l.TgZ(4,"mat-icon",2),l._uU(5,"edit"),l.qZA()()(),l.TgZ(6,"form",3),l.NdJ("ngSubmit",function(){return i.updateUserInfo(i.userForm.value)}),l.TgZ(7,"div",4)(8,"mat-form-field",5)(9,"mat-label"),l._uU(10," Name"),l.qZA(),l._UZ(11,"input",6),l.TgZ(12,"mat-icon",7),l._uU(13,"person"),l.qZA(),l.YNc(14,b$,2,1,"mat-error",8),l.qZA()(),l.TgZ(15,"div",4)(16,"mat-form-field",5)(17,"mat-label"),l._uU(18,"Phone"),l.qZA(),l._UZ(19,"input",9),l.TgZ(20,"mat-icon",7),l._uU(21,"phone"),l.qZA(),l.YNc(22,w$,2,1,"mat-error",8),l.qZA()(),l.TgZ(23,"div",10)(24,"button",11),l._uU(25,"Update "),l.qZA()()(),l.TgZ(26,"div",12)(27,"button",13)(28,"a",14)(29,"mat-icon",15),l._uU(30,"arrow_back"),l.qZA(),l._uU(31," Back to dashboard"),l.qZA()()()()),2&r&&(l.xp6(6),l.Q6J("formGroup",i.userForm),l.xp6(8),l.Q6J("ngIf",i.userForm.controls.name),l.xp6(8),l.Q6J("ngIf",i.userForm.controls.phone),l.xp6(2),l.Q6J("disabled",!(i.userForm.valid&&i.userForm.touched)))},dependencies:[mi,hu,Ex,ky,Cx,dx,hx,Py,Wm,X0,q0,Sx,Ly,hM,pM,Mx,Gm],styles:[".submit[_ngcontent-%COMP%]{background-color:#4758b8;color:#fff;border:none;letter-spacing:1px;padding:6px 15px;border:2px solid #4758B8;transition:all .5s;-webkit-transition:all .5s;-moz-transition:all .5s;-ms-transition:all .5s;-o-transition:all .5s}.submit[_ngcontent-%COMP%]:hover{color:#fff!important;background-color:#4758b8;border-color:#4758b8}"]})}return n})(),C$=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["app-new-user"]],decls:13,vars:0,consts:[[1,"col-lg-6","col-md-8","m-auto"],[1,"my-5","text-center"],[1,"mat-18"],[1,"mt-5"],["mat-button","","color","primary"],["routerLink","/dashboard",1,"d-flex","align-items-center"],[1,"mat-18","me-2"]],template:function(r,i){1&r&&(l.TgZ(0,"div",0)(1,"div",1)(2,"h2"),l._uU(3,"Create New User "),l.TgZ(4,"mat-icon",2),l._uU(5,"add"),l.qZA()()(),l._UZ(6,"app-create-user"),l.TgZ(7,"div",3)(8,"button",4)(9,"a",5)(10,"mat-icon",6),l._uU(11,"arrow_back"),l.qZA(),l._uU(12," Back to dashboard"),l.qZA()()()())},dependencies:[hu,q0,Gm,iF]})}return n})(),AF=(()=>{class n{constructor(t){this._Router=t}canActivate(t,r){return null==localStorage.getItem("userToken")||(this._Router.navigate(["dashboard"]),!1)}static#e=this.\u0275fac=function(r){return new(r||n)(l.LFG(Ni))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const D$=[{path:"",redirectTo:"sign-in",pathMatch:"full"},{path:"sign-in",component:B3,canActivate:[AF]},{path:"sign-up",component:P3,canActivate:[AF]},{path:"dashboard",component:v$,canActivate:[$x]},{path:"new-user",component:C$,canActivate:[$x]},{path:"update-user/:id",component:E$,canActivate:[$x]},{path:"user-info/:id",component:yH,canActivate:[$x]},{path:"**",redirectTo:"sign-in"}];let x$=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({imports:[Hk.forRoot(D$,{useHash:!0}),Hk]})}return n})();function I$(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"nav",1)(1,"div",2)(2,"ul",3)(3,"li",4)(4,"button",5),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.logout())}),l.TgZ(5,"a",6),l._uU(6,"Logout "),l.TgZ(7,"mat-icon",7),l._uU(8,"logout"),l.qZA()()()()()()()}}let T$=(()=>{class n{constructor(t,r){this._AuthService=t,this._Router=r,this.isLogin=!1}ngOnInit(){this._Router.events.subscribe(()=>{this.isLogin=!!localStorage.getItem("userToken")})}logout(){this._AuthService.logOut().then(()=>{localStorage.removeItem("userToken"),this._Router.navigate(["/sign-in"])})}static#e=this.\u0275fac=function(r){return new(r||n)(l.Y36(uM),l.Y36(Ni))};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["app-header"]],decls:1,vars:1,consts:[["class","navbar navbar-expand-lg navbar-light bg-light py-3",4,"ngIf"],[1,"navbar","navbar-expand-lg","navbar-light","bg-light","py-3"],[1,"container-fluid"],[1,"navbar-nav","ms-auto","mb-2","mb-lg-0"],[1,"nav-item"],["mat-button","","mat-raised-button","","color","warn","matRipple","",3,"click"],["routerLink","/dashboard",1,"d-flex","justify-content-center","align-items-center"],[1,"mat-18","fs-6","ms-2","w-auto","h-auto"]],template:function(r,i){1&r&&l.YNc(0,I$,9,0,"nav",0),2&r&&l.Q6J("ngIf",i.isLogin)},dependencies:[mi,hu,q0,Gm]})}return n})(),S$=(()=>{class n{constructor(){this.title="User-Manager"}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["app-root"]],decls:3,vars:0,consts:[[1,"container"]],template:function(r,i){1&r&&(l._UZ(0,"app-header"),l.TgZ(1,"div",0),l._UZ(2,"router-outlet"),l.qZA())},dependencies:[EA,T$]})}return n})();const MF_firebase={projectId:"user-managment-system-13d5b",appId:"1:473545127568:web:4a70208f9dc36ade300a15",storageBucket:"user-managment-system-13d5b.appspot.com",apiKey:"AIzaSyDpJrKozA_tWEGJZDHtgXH6KsHSMGQ-1sw",authDomain:"user-managment-system-13d5b.firebaseapp.com",messagingSenderId:"473545127568"};var A$=V(1389);class FM{constructor(e){return e}}class kF{constructor(){return(0,bn.vb)("auth")}}const PM=new l.OlP("angularfire2.auth-instances");function R$(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new FM(r)}}const k$={provide:kF,deps:[[new l.FiY,PM]]},O$={provide:FM,useFactory:function M$(n,e){const t=(0,bn.JM)("auth",n,e);return t&&new FM(t)},deps:[[new l.FiY,PM],fy]};let N$=(()=>{class n{constructor(){(0,Zf.KN)("angularfire",bn.q4.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[O$,k$]}),n})();function F$(n,...e){return{ngModule:N$,providers:[{provide:PM,useFactory:R$(n),multi:!0,deps:[l.R0b,l.zs3,bn.HU,kS,[new l.FiY,C0],...e]}]}}const P$=(0,bn.u3)(A$.o,!0);class LM{constructor(e){return e}}const OF="firestore",VM=new l.OlP("angularfire2.firestore-instances");function B$(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new LM(r)}}const U$={provide:class L${constructor(){return(0,bn.vb)(OF)}},deps:[[new l.FiY,VM]]},H$={provide:LM,useFactory:function V$(n,e){const t=(0,bn.JM)(OF,n,e);return t&&new LM(t)},deps:[[new l.FiY,VM],fy]};let j$=(()=>{class n{constructor(){(0,Zf.KN)("angularfire",bn.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[H$,U$]}),n})();function z$(n,...e){return{ngModule:j$,providers:[{provide:VM,useFactory:B$(n),multi:!0,deps:[l.R0b,l.zs3,bn.HU,kS,[new l.FiY,kF],[new l.FiY,C0],...e]}]}}const $$=(0,bn.u3)(su,!0);function NF(n){return new l.vHH(3e3,!1)}function x4(){return typeof window<"u"&&typeof window.document<"u"}function BM(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function sp(n){switch(n.length){case 0:return new ew;case 1:return n[0];default:return new UN(n)}}function FF(n,e,t,r,i=new Map,s=new Map){const u=[],f=[];let _=-1,b=null;if(r.forEach(I=>{const M=I.get("offset"),U=M==_,$=U&&b||new Map;I.forEach((ee,ie)=>{let de=ie,qe=ee;if("offset"!==ie)switch(de=e.normalizePropertyName(de,u),qe){case dM:qe=i.get(ie);break;case qd:qe=s.get(ie);break;default:qe=e.normalizeStyleValue(ie,de,qe,u)}$.set(de,qe)}),U||f.push($),b=$,_=M}),u.length)throw function f4(n){return new l.vHH(3502,!1)}();return f}function UM(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&HM(t,"start",n)));break;case"done":n.onDone(()=>r(t&&HM(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&HM(t,"destroy",n)))}}function HM(n,e,t){const s=jM(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),u=n._data;return null!=u&&(s._data=u),s}function jM(n,e,t,r,i="",s=0,u){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:s,disabled:!!u}}function aa(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function PF(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let zM=(n,e)=>!1,LF=(n,e,t)=>[],VF=null;function $M(n){const e=n.parentNode||n.host;return e===VF?null:e}(BM()||typeof Element<"u")&&(x4()?(VF=(()=>document.documentElement)(),zM=(n,e)=>{for(;e;){if(e===n)return!0;e=$M(e)}return!1}):zM=(n,e)=>n.contains(e),LF=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let Km=null,BF=!1;const UF=zM,HF=LF;let jF=(()=>{class n{validateStyleProperty(t){return function T4(n){Km||(Km=function S4(){return typeof document<"u"?document.body:null}()||{},BF=!!Km.style&&"WebkitAppearance"in Km.style);let e=!0;return Km.style&&!function I4(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Km.style,!e&&BF&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Km.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return UF(t,r)}getParentElement(t){return $M(t)}query(t,r,i){return HF(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,s,u,f=[],_){return new ew(i,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),GM=(()=>{class n{}return n.NOOP=new jF,n})();const A4=1e3,qM="ng-enter",Gx="ng-leave",qx="ng-trigger",Wx=".ng-trigger",$F="ng-animating",WM=".ng-animating";function Kd(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:ZM(parseFloat(e[1]),e[2])}function ZM(n,e){return"s"===e?n*A4:n}function Zx(n,e,t){return n.hasOwnProperty("duration")?n:function R4(n,e,t){let i,s=0,u="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(NF()),{duration:0,delay:0,easing:""};i=ZM(parseFloat(f[1]),f[2]);const _=f[3];null!=_&&(s=ZM(parseFloat(_),f[4]));const b=f[5];b&&(u=b)}else i=n;if(!t){let f=!1,_=e.length;i<0&&(e.push(function G$(){return new l.vHH(3100,!1)}()),f=!0),s<0&&(e.push(function q$(){return new l.vHH(3101,!1)}()),f=!0),f&&e.splice(_,0,NF())}return{duration:i,delay:s,easing:u}}(n,e,t)}function ow(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function GF(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function ap(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function WF(n,e,t){return t?e+":"+t+";":""}function ZF(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=WF(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=WF(0,F4(t),n.style[t]));n.setAttribute("style",e)}function mu(n,e,t){n.style&&(e.forEach((r,i)=>{const s=YM(i);t&&!t.has(i)&&t.set(i,n.style[s]),n.style[s]=r}),BM()&&ZF(n))}function Ym(n,e){n.style&&(e.forEach((t,r)=>{const i=YM(r);n.style[i]=""}),BM()&&ZF(n))}function sw(n){return Array.isArray(n)?1==n.length?n[0]:VN(n):n}const KM=new RegExp("{{\\s*(.+?)\\s*}}","g");function KF(n){let e=[];if("string"==typeof n){let t;for(;t=KM.exec(n);)e.push(t[1]);KM.lastIndex=0}return e}function aw(n,e,t){const r=n.toString(),i=r.replace(KM,(s,u)=>{let f=e[u];return null==f&&(t.push(function Z$(n){return new l.vHH(3003,!1)}()),f=""),f.toString()});return i==r?n:i}function Kx(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const N4=/-+([a-z0-9])/g;function YM(n){return n.replace(N4,(...e)=>e[1].toUpperCase())}function F4(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function la(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function K$(n){return new l.vHH(3004,!1)}()}}function YF(n,e){return window.getComputedStyle(n)[e]}const Jx="*";function H4(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function j4(n,e,t){if(":"==n[0]){const _=function z4(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function c4(n){return new l.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof _)return void e.push(_);n=_}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function l4(n){return new l.vHH(3015,!1)}()),e;const i=r[1],s=r[2],u=r[3];e.push(QF(i,u));"<"==s[0]&&!(i==Jx&&u==Jx)&&e.push(QF(u,i))}(r,t,e)):t.push(n),t}const Xx=new Set(["true","1"]),eI=new Set(["false","0"]);function QF(n,e){const t=Xx.has(n)||eI.has(n),r=Xx.has(e)||eI.has(e);return(i,s)=>{let u=n==Jx||n==i,f=e==Jx||e==s;return!u&&t&&"boolean"==typeof i&&(u=i?Xx.has(n):eI.has(n)),!f&&r&&"boolean"==typeof s&&(f=s?Xx.has(e):eI.has(e)),u&&f}}const $4=new RegExp("s*:selfs*,?","g");function QM(n,e,t,r){return new G4(n).build(e,t,r)}class G4{constructor(e){this._driver=e}build(e,t,r){const i=new Z4(t);return this._resetContextStyleTimingState(i),la(this,sw(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const s=[],u=[];return"@"==e.name.charAt(0)&&t.errors.push(function Q$(){return new l.vHH(3006,!1)}()),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const _=f,b=_.name;b.toString().split(/\s*,\s*/).forEach(I=>{_.name=I,s.push(this.visitState(_,t))}),_.name=b}else if(1==f.type){const _=this.visitTransition(f,t);r+=_.queryCount,i+=_.depCount,u.push(_)}else t.errors.push(function J$(){return new l.vHH(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:u,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,u=i||{};r.styles.forEach(f=>{f instanceof Map&&f.forEach(_=>{KF(_).forEach(b=>{u.hasOwnProperty(b)||s.add(b)})})}),s.size&&(Kx(s.values()),t.errors.push(function X$(n,e){return new l.vHH(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=la(this,sw(e.animation),t);return{type:1,matchers:H4(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Qm(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>la(this,r,t)),options:Qm(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const s=e.steps.map(u=>{t.currentTime=r;const f=la(this,u,t);return i=Math.max(i,t.currentTime),f});return t.currentTime=i,{type:3,steps:s,options:Qm(e.options)}}visitAnimate(e,t){const r=function Y4(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return JM(Zx(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=JM(0,0,"");return s.dynamic=!0,s.strValue=t,s}const i=Zx(t,e);return JM(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,s=e.styles?e.styles:lr({});if(5==s.type)i=this.visitKeyframes(s,t);else{let u=e.styles,f=!1;if(!u){f=!0;const b={};r.easing&&(b.easing=r.easing),u=lr(b)}t.currentTime+=r.duration+r.delay;const _=this.visitStyle(u,t);_.isEmptyStep=f,i=_}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let f of i)"string"==typeof f?f===qd?r.push(f):t.errors.push(new l.vHH(3002,!1)):r.push(GF(f));let s=!1,u=null;return r.forEach(f=>{if(f instanceof Map&&(f.has("easing")&&(u=f.get("easing"),f.delete("easing")),!s))for(let _ of f.values())if(_.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:r,easing:u,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(u=>{"string"!=typeof u&&u.forEach((f,_)=>{const b=t.collectedStyles.get(t.currentQuerySelector),I=b.get(_);let M=!0;I&&(s!=i&&s>=I.startTime&&i<=I.endTime&&(t.errors.push(function t4(n,e,t,r,i){return new l.vHH(3010,!1)}()),M=!1),s=I.startTime),M&&b.set(_,{startTime:s,endTime:i}),t.options&&function O4(n,e,t){const r=e.params||{},i=KF(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||t.push(function W$(n){return new l.vHH(3001,!1)}())})}(f,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function n4(){return new l.vHH(3011,!1)}()),r;let s=0;const u=[];let f=!1,_=!1,b=0;const I=e.steps.map(qe=>{const rt=this._makeStyleAst(qe,t);let st=null!=rt.offset?rt.offset:function K4(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(rt.styles),gt=0;return null!=st&&(s++,gt=rt.offset=st),_=_||gt<0||gt>1,f=f||gt<b,b=gt,u.push(gt),rt});_&&t.errors.push(function r4(){return new l.vHH(3012,!1)}()),f&&t.errors.push(function i4(){return new l.vHH(3200,!1)}());const M=e.steps.length;let U=0;s>0&&s<M?t.errors.push(function o4(){return new l.vHH(3202,!1)}()):0==s&&(U=1/(M-1));const $=M-1,ee=t.currentTime,ie=t.currentAnimateTimings,de=ie.duration;return I.forEach((qe,rt)=>{const st=U>0?rt==$?1:U*rt:u[rt],gt=st*de;t.currentTime=ee+ie.delay+gt,ie.duration=gt,this._validateStyleAst(qe,t),qe.offset=st,r.styles.push(qe)}),r}visitReference(e,t){return{type:8,animation:la(this,sw(e.animation),t),options:Qm(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Qm(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Qm(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[s,u]=function q4(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace($4,"")),n=n.replace(/@\*/g,Wx).replace(/@\w+/g,t=>Wx+"-"+t.slice(1)).replace(/:animating/g,WM),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+s:s,aa(t.collectedStyles,t.currentQuerySelector,new Map);const f=la(this,sw(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:u,animation:f,originalSelector:e.selector,options:Qm(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function s4(){return new l.vHH(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:Zx(e.timings,t.errors,!0);return{type:12,animation:la(this,sw(e.animation),t),timings:r,options:null}}}class Z4{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Qm(n){return n?(n=ow(n)).params&&(n.params=function W4(n){return n?ow(n):null}(n.params)):n={},n}function JM(n,e,t){return{duration:n,delay:e,easing:t}}function XM(n,e,t,r,i,s,u=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:u,subTimeline:f}}class tI{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const X4=new RegExp(":enter","g"),t6=new RegExp(":leave","g");function eR(n,e,t,r,i,s=new Map,u=new Map,f,_,b=[]){return(new n6).buildKeyframes(n,e,t,r,i,s,u,f,_,b)}class n6{buildKeyframes(e,t,r,i,s,u,f,_,b,I=[]){b=b||new tI;const M=new tR(e,t,b,i,s,I,[]);M.options=_;const U=_.delay?Kd(_.delay):0;M.currentTimeline.delayNextStep(U),M.currentTimeline.setStyles([u],null,M.errors,_),la(this,r,M);const $=M.timelines.filter(ee=>ee.containsAnimation());if($.length&&f.size){let ee;for(let ie=$.length-1;ie>=0;ie--){const de=$[ie];if(de.element===t){ee=de;break}}ee&&!ee.allowOnlyTimelineStyles()&&ee.setStyles([f],null,M.errors,_)}return $.length?$.map(ee=>ee.buildKeyframes()):[XM(t,[],[],[],0,U,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),s=t.currentTimeline.currentTime,u=this._visitSubInstructions(r,i,i.options);s!=u&&t.transformIntoNewTimeline(u)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const s=i?.delay;if(s){const u="number"==typeof s?s:Kd(aw(s,i?.params??{},t.errors));r.delayNextStep(u)}}}_visitSubInstructions(e,t,r){let s=t.currentTimeline.currentTime;const u=null!=r.duration?Kd(r.duration):null,f=null!=r.delay?Kd(r.delay):null;return 0!==u&&e.forEach(_=>{const b=t.appendInstructionToTimeline(_,u,f);s=Math.max(s,b.duration+b.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),la(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const s=e.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=nI);const u=Kd(s.delay);i.delayNextStep(u)}e.steps.length&&(e.steps.forEach(u=>la(this,u,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?Kd(e.options.delay):0;e.steps.forEach(u=>{const f=t.createSubContext(e.options);s&&f.delayNextStep(s),la(this,u,f),i=Math.max(i,f.currentTimeline.currentTime),r.push(f.currentTimeline)}),r.forEach(u=>t.currentTimeline.mergeTimelineCollectedStyles(u)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return Zx(t.params?aw(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,s=r.duration,f=t.createSubContext().currentTimeline;f.easing=r.easing,e.styles.forEach(_=>{f.forwardTime((_.offset||0)*s),f.setStyles(_.styles,_.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(i+s),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},s=i.delay?Kd(i.delay):0;s&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=nI);let u=r;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=f.length;let _=null;f.forEach((b,I)=>{t.currentQueryIndex=I;const M=t.createSubContext(e.options,b);s&&M.delayNextStep(s),b===t.element&&(_=M.currentTimeline),la(this,e.animation,M),M.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,M.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(u),_&&(t.currentTimeline.mergeTimelineCollectedStyles(_),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,s=e.timings,u=Math.abs(s.duration),f=u*(t.currentQueryTotal-1);let _=u*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":_=f-_;break;case"full":_=r.currentStaggerTime}const I=t.currentTimeline;_&&I.delayNextStep(_);const M=I.currentTime;la(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-M+(i.startTime-r.currentTimeline.startTime)}}const nI={};class tR{constructor(e,t,r,i,s,u,f,_){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=u,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=nI,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new rI(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Kd(r.duration)),null!=r.delay&&(i.delay=Kd(r.delay));const s=r.params;if(s){let u=i.params;u||(u=this.options.params={}),Object.keys(s).forEach(f=>{(!t||!u.hasOwnProperty(f))&&(u[f]=aw(s[f],u,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,s=new tR(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=nI,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new r6(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,s,u){let f=[];if(i&&f.push(this.element),e.length>0){e=(e=e.replace(X4,"."+this._enterClassName)).replace(t6,"."+this._leaveClassName);let b=this._driver.query(this.element,e,1!=r);0!==r&&(b=r<0?b.slice(b.length+r,b.length):b.slice(0,r)),f.push(...b)}return!s&&0==f.length&&u.push(function a4(n){return new l.vHH(3014,!1)}()),f}}class rI{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new rI(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||qd),this._currentKeyframe.set(t,qd);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const s=i&&i.params||{},u=function i6(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let s of r)t.set(s,qd)}else ap(i,t)}),t}(e,this._globalTimelineStyles);for(let[f,_]of u){const b=aw(_,s,r);this._pendingStyles.set(f,b),this._localTimelineStyles.has(f)||this._backFill.set(f,this._globalTimelineStyles.get(f)??qd),this._updateStyle(f,b)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((f,_)=>{const b=ap(f,new Map,this._backFill);b.forEach((I,M)=>{I===dM?e.add(M):I===qd&&t.add(M)}),r||b.set("offset",_/this.duration),i.push(b)});const s=e.size?Kx(e.values()):[],u=t.size?Kx(t.values()):[];if(r){const f=i[0],_=new Map(f);f.set("offset",0),_.set("offset",1),i=[f,_]}return XM(this.element,i,s,u,this.duration,this.startTime,this.easing,!1)}}class r6 extends rI{constructor(e,t,r,i,s,u,f=!1){super(e,t,u.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=f,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],u=r+t,f=t/u,_=ap(e[0]);_.set("offset",0),s.push(_);const b=ap(e[0]);b.set("offset",eP(f)),s.push(b);const I=e.length-1;for(let M=1;M<=I;M++){let U=ap(e[M]);const $=U.get("offset");U.set("offset",eP((t+$*r)/u)),s.push(U)}r=u,t=0,i="",e=s}return XM(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function eP(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class nR{}const o6=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class s6 extends nR{normalizePropertyName(e,t){return YM(e)}normalizeStyleValue(e,t,r,i){let s="";const u=r.toString().trim();if(o6.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const f=r.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&i.push(function Y$(n,e){return new l.vHH(3005,!1)}())}return u+s}}function tP(n,e,t,r,i,s,u,f,_,b,I,M,U){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:s,toState:r,toStyles:u,timelines:f,queriedElements:_,preStyleProps:b,postStyleProps:I,totalTime:M,errors:U}}const rR={};class nP{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function a6(n,e,t,r,i){return n.some(s=>s(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,s,u,f,_,b,I){const M=[],U=this.ast.options&&this.ast.options.params||rR,ee=this.buildStyles(r,f&&f.params||rR,M),ie=_&&_.params||rR,de=this.buildStyles(i,ie,M),qe=new Set,rt=new Map,st=new Map,gt="void"===i,jt={params:l6(ie,U),delay:this.ast.options?.delay},rn=I?[]:eR(e,t,this.ast.animation,s,u,ee,de,jt,b,M);let Sn=0;if(rn.forEach(el=>{Sn=Math.max(el.duration+el.delay,Sn)}),M.length)return tP(t,this._triggerName,r,i,gt,ee,de,[],[],rt,st,Sn,M);rn.forEach(el=>{const Yd=el.element,_P=aa(rt,Yd,new Set);el.preStyleProps.forEach(Jm=>_P.add(Jm));const cw=aa(st,Yd,new Set);el.postStyleProps.forEach(Jm=>cw.add(Jm)),Yd!==t&&qe.add(Yd)});const ro=Kx(qe.values());return tP(t,this._triggerName,r,i,gt,ee,de,rn,ro,rt,st,Sn)}}function l6(n,e){const t=ow(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class c6{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=ow(this.defaultParams);return Object.keys(e).forEach(s=>{const u=e[s];null!==u&&(i[s]=u)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((u,f)=>{u&&(u=aw(u,i,t));const _=this.normalizer.normalizePropertyName(f,t);u=this.normalizer.normalizeStyleValue(f,_,u,t),r.set(f,u)})}),r}}class d6{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new c6(i.style,i.options&&i.options.params||{},r))}),rP(this.states,"true","1"),rP(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new nP(e,i,this.states))}),this.fallbackTransition=function h6(n,e,t){return new nP(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(u=>u.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function rP(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const f6=new tI;class p6{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],i=[],s=QM(this._driver,t,r,i);if(r.length)throw function p4(n){return new l.vHH(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,r){const i=e.element,s=FF(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],s=this._animations.get(e);let u;const f=new Map;if(s?(u=eR(this._driver,t,s,qM,Gx,new Map,new Map,r,f6,i),u.forEach(I=>{const M=aa(f,I.element,new Map);I.postStyleProps.forEach(U=>M.set(U,null))})):(i.push(function m4(){return new l.vHH(3300,!1)}()),u=[]),i.length)throw function g4(n){return new l.vHH(3504,!1)}();f.forEach((I,M)=>{I.forEach((U,$)=>{I.set($,this._driver.computeStyle(M,$,qd))})});const b=sp(u.map(I=>{const M=f.get(I.element);return this._buildPlayer(I,new Map,M)}));return this._playersById.set(e,b),b.onDestroy(()=>this.destroy(e)),this.players.push(b),b}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function _4(n){return new l.vHH(3301,!1)}();return t}listen(e,t,r,i){const s=jM(t,"","","");return UM(this._getPlayer(e),r,s,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const iP="ng-animate-queued",iR="ng-animate-disabled",v6=[],oP={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},b6={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ja="__ng_removed";class oR{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function D6(n){return n??null}(r?e.value:e),r){const s=ow(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const lw="void",sR=new oR(lw);class w6{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Xa(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function y4(n,e){return new l.vHH(3302,!1)}();if(null==r||0==r.length)throw function v4(n){return new l.vHH(3303,!1)}();if(!function x6(n){return"start"==n||"done"==n}(r))throw function b4(n,e){return new l.vHH(3400,!1)}();const s=aa(this._elementListeners,e,[]),u={name:t,phase:r,callback:i};s.push(u);const f=aa(this._engine.statesByElement,e,new Map);return f.has(t)||(Xa(e,qx),Xa(e,qx+"-"+t),f.set(t,sR)),()=>{this._engine.afterFlush(()=>{const _=s.indexOf(u);_>=0&&s.splice(_,1),this._triggers.has(t)||f.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function w4(n){return new l.vHH(3401,!1)}();return t}trigger(e,t,r,i=!0){const s=this._getTrigger(t),u=new aR(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(Xa(e,qx),Xa(e,qx+"-"+t),this._engine.statesByElement.set(e,f=new Map));let _=f.get(t);const b=new oR(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&_&&b.absorbOptions(_.options),f.set(t,b),_||(_=sR),b.value!==lw&&_.value===b.value){if(!function S6(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const s=t[i];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(_.params,b.params)){const ie=[],de=s.matchStyles(_.value,_.params,ie),qe=s.matchStyles(b.value,b.params,ie);ie.length?this._engine.reportError(ie):this._engine.afterFlush(()=>{Ym(e,de),mu(e,qe)})}return}const U=aa(this._engine.playersByElement,e,[]);U.forEach(ie=>{ie.namespaceId==this.id&&ie.triggerName==t&&ie.queued&&ie.destroy()});let $=s.matchTransition(_.value,b.value,e,b.params),ee=!1;if(!$){if(!i)return;$=s.fallbackTransition,ee=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:$,fromState:_,toState:b,player:u,isFallbackTransition:ee}),ee||(Xa(e,iP),u.onStart(()=>{jy(e,iP)})),u.onDone(()=>{let ie=this.players.indexOf(u);ie>=0&&this.players.splice(ie,1);const de=this._engine.playersByElement.get(e);if(de){let qe=de.indexOf(u);qe>=0&&de.splice(qe,1)}}),this.players.push(u),U.push(u),u}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,Wx,!0);r.forEach(i=>{if(i[Ja])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(u=>u.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const s=this._engine.statesByElement.get(e),u=new Map;if(s){const f=[];if(s.forEach((_,b)=>{if(u.set(b,_.value),this._triggers.has(b)){const I=this.trigger(e,b,lw,i);I&&f.push(I)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,u),r&&sp(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(s=>{const u=s.name;if(i.has(u))return;i.add(u);const _=this._triggers.get(u).fallbackTransition,b=r.get(u)||sR,I=new oR(lw),M=new aR(this.id,u,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:u,transition:_,fromState:b,toState:I,player:M,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let u=e;for(;u=u.parentNode;)if(r.statesByElement.get(u)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const s=e[Ja];(!s||s===oP)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Xa(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,u=this._elementListeners.get(s);u&&u.forEach(f=>{if(f.name==r.triggerName){const _=jM(s,r.triggerName,r.fromState.value,r.toState.value);_._data=e,UM(r.player,f.phase,_,f.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const s=r.transition.ast.depCount,u=i.transition.ast.depCount;return 0==s||0==u?s-u:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class E6{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new w6(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let u=!1,f=this.driver.getParentElement(t);for(;f;){const _=i.get(f);if(_){const b=r.indexOf(_);r.splice(b+1,0,e),u=!0;break}f=this.driver.getParentElement(f)}u||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const s=this._fetchNamespace(i.namespaceId);s&&t.add(s)}return t}trigger(e,t,r,i){if(iI(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!iI(t))return;const s=t[Ja];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const u=this.collectedLeaveElements.indexOf(t);u>=0&&this.collectedLeaveElements.splice(u,1)}if(e){const u=this._fetchNamespace(e);u&&u.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Xa(e,iR)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),jy(e,iR))}removeNode(e,t,r,i){if(iI(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const u=this.namespacesByHostElement.get(t);u&&u.id!==e&&u.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,s){this.collectedLeaveElements.push(t),t[Ja]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,r,i,s){return iI(t)?this._fetchNamespace(e).listen(t,r,i,s):()=>{}}_buildInstruction(e,t,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,Wx,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,WM,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return sp(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Ja];if(t&&t.setForRemoval){if(e[Ja]=oP,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(iR)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Xa(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?sp(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function E4(n){return new l.vHH(3402,!1)}()}_flushAnimations(e,t){const r=new tI,i=[],s=new Map,u=[],f=new Map,_=new Map,b=new Map,I=new Set;this.disabledNodes.forEach(Dt=>{I.add(Dt);const Lt=this.driver.query(Dt,".ng-animate-queued",!0);for(let qt=0;qt<Lt.length;qt++)I.add(Lt[qt])});const M=this.bodyNode,U=Array.from(this.statesByElement.keys()),$=lP(U,this.collectedEnterElements),ee=new Map;let ie=0;$.forEach((Dt,Lt)=>{const qt=qM+ie++;ee.set(Lt,qt),Dt.forEach(In=>Xa(In,qt))});const de=[],qe=new Set,rt=new Set;for(let Dt=0;Dt<this.collectedLeaveElements.length;Dt++){const Lt=this.collectedLeaveElements[Dt],qt=Lt[Ja];qt&&qt.setForRemoval&&(de.push(Lt),qe.add(Lt),qt.hasAnimation?this.driver.query(Lt,".ng-star-inserted",!0).forEach(In=>qe.add(In)):rt.add(Lt))}const st=new Map,gt=lP(U,Array.from(qe));gt.forEach((Dt,Lt)=>{const qt=Gx+ie++;st.set(Lt,qt),Dt.forEach(In=>Xa(In,qt))}),e.push(()=>{$.forEach((Dt,Lt)=>{const qt=ee.get(Lt);Dt.forEach(In=>jy(In,qt))}),gt.forEach((Dt,Lt)=>{const qt=st.get(Lt);Dt.forEach(In=>jy(In,qt))}),de.forEach(Dt=>{this.processLeaveNode(Dt)})});const jt=[],rn=[];for(let Dt=this._namespaceList.length-1;Dt>=0;Dt--)this._namespaceList[Dt].drainQueuedTransitions(t).forEach(qt=>{const In=qt.player,qi=qt.element;if(jt.push(In),this.collectedEnterElements.length){const Co=qi[Ja];if(Co&&Co.setForMove){if(Co.previousTriggersValues&&Co.previousTriggersValues.has(qt.triggerName)){const Xm=Co.previousTriggersValues.get(qt.triggerName),tl=this.statesByElement.get(qt.element);if(tl&&tl.has(qt.triggerName)){const aI=tl.get(qt.triggerName);aI.value=Xm,tl.set(qt.triggerName,aI)}}return void In.destroy()}}const gu=!M||!this.driver.containsElement(M,qi),ca=st.get(qi),lp=ee.get(qi),qr=this._buildInstruction(qt,r,lp,ca,gu);if(qr.errors&&qr.errors.length)return void rn.push(qr);if(gu)return In.onStart(()=>Ym(qi,qr.fromStyles)),In.onDestroy(()=>mu(qi,qr.toStyles)),void i.push(In);if(qt.isFallbackTransition)return In.onStart(()=>Ym(qi,qr.fromStyles)),In.onDestroy(()=>mu(qi,qr.toStyles)),void i.push(In);const bP=[];qr.timelines.forEach(Co=>{Co.stretchStartingKeyframe=!0,this.disabledNodes.has(Co.element)||bP.push(Co)}),qr.timelines=bP,r.append(qi,qr.timelines),u.push({instruction:qr,player:In,element:qi}),qr.queriedElements.forEach(Co=>aa(f,Co,[]).push(In)),qr.preStyleProps.forEach((Co,Xm)=>{if(Co.size){let tl=_.get(Xm);tl||_.set(Xm,tl=new Set),Co.forEach((aI,uR)=>tl.add(uR))}}),qr.postStyleProps.forEach((Co,Xm)=>{let tl=b.get(Xm);tl||b.set(Xm,tl=new Set),Co.forEach((aI,uR)=>tl.add(uR))})});if(rn.length){const Dt=[];rn.forEach(Lt=>{Dt.push(function C4(n,e){return new l.vHH(3505,!1)}())}),jt.forEach(Lt=>Lt.destroy()),this.reportError(Dt)}const Sn=new Map,ro=new Map;u.forEach(Dt=>{const Lt=Dt.element;r.has(Lt)&&(ro.set(Lt,Lt),this._beforeAnimationBuild(Dt.player.namespaceId,Dt.instruction,Sn))}),i.forEach(Dt=>{const Lt=Dt.element;this._getPreviousPlayers(Lt,!1,Dt.namespaceId,Dt.triggerName,null).forEach(In=>{aa(Sn,Lt,[]).push(In),In.destroy()})});const el=de.filter(Dt=>uP(Dt,_,b)),Yd=new Map;aP(Yd,this.driver,rt,b,qd).forEach(Dt=>{uP(Dt,_,b)&&el.push(Dt)});const cw=new Map;$.forEach((Dt,Lt)=>{aP(cw,this.driver,new Set(Dt),_,dM)}),el.forEach(Dt=>{const Lt=Yd.get(Dt),qt=cw.get(Dt);Yd.set(Dt,new Map([...Array.from(Lt?.entries()??[]),...Array.from(qt?.entries()??[])]))});const Jm=[],yP=[],vP={};u.forEach(Dt=>{const{element:Lt,player:qt,instruction:In}=Dt;if(r.has(Lt)){if(I.has(Lt))return qt.onDestroy(()=>mu(Lt,In.toStyles)),qt.disabled=!0,qt.overrideTotalTime(In.totalTime),void i.push(qt);let qi=vP;if(ro.size>1){let ca=Lt;const lp=[];for(;ca=ca.parentNode;){const qr=ro.get(ca);if(qr){qi=qr;break}lp.push(ca)}lp.forEach(qr=>ro.set(qr,qi))}const gu=this._buildAnimation(qt.namespaceId,In,Sn,s,cw,Yd);if(qt.setRealPlayer(gu),qi===vP)Jm.push(qt);else{const ca=this.playersByElement.get(qi);ca&&ca.length&&(qt.parentPlayer=sp(ca)),i.push(qt)}}else Ym(Lt,In.fromStyles),qt.onDestroy(()=>mu(Lt,In.toStyles)),yP.push(qt),I.has(Lt)&&i.push(qt)}),yP.forEach(Dt=>{const Lt=s.get(Dt.element);if(Lt&&Lt.length){const qt=sp(Lt);Dt.setRealPlayer(qt)}}),i.forEach(Dt=>{Dt.parentPlayer?Dt.syncPlayerEvents(Dt.parentPlayer):Dt.destroy()});for(let Dt=0;Dt<de.length;Dt++){const Lt=de[Dt],qt=Lt[Ja];if(jy(Lt,Gx),qt&&qt.hasAnimation)continue;let In=[];if(f.size){let gu=f.get(Lt);gu&&gu.length&&In.push(...gu);let ca=this.driver.query(Lt,WM,!0);for(let lp=0;lp<ca.length;lp++){let qr=f.get(ca[lp]);qr&&qr.length&&In.push(...qr)}}const qi=In.filter(gu=>!gu.destroyed);qi.length?I6(this,Lt,qi):this.processLeaveNode(Lt)}return de.length=0,Jm.forEach(Dt=>{this.players.push(Dt),Dt.onDone(()=>{Dt.destroy();const Lt=this.players.indexOf(Dt);this.players.splice(Lt,1)}),Dt.play()}),Jm}elementContainsData(e,t){let r=!1;const i=t[Ja];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,s){let u=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(u=f)}else{const f=this.playersByElement.get(e);if(f){const _=!s||s==lw;f.forEach(b=>{b.queued||!_&&b.triggerName!=i||u.push(b)})}}return(r||i)&&(u=u.filter(f=>!(r&&r!=f.namespaceId||i&&i!=f.triggerName))),u}_beforeAnimationBuild(e,t,r){const s=t.element,u=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const _ of t.timelines){const b=_.element,I=b!==s,M=aa(r,b,[]);this._getPreviousPlayers(b,I,u,f,t.toState).forEach($=>{const ee=$.getRealPlayer();ee.beforeDestroy&&ee.beforeDestroy(),$.destroy(),M.push($)})}Ym(s,t.fromStyles)}_buildAnimation(e,t,r,i,s,u){const f=t.triggerName,_=t.element,b=[],I=new Set,M=new Set,U=t.timelines.map(ee=>{const ie=ee.element;I.add(ie);const de=ie[Ja];if(de&&de.removedBeforeQueried)return new ew(ee.duration,ee.delay);const qe=ie!==_,rt=function T6(n){const e=[];return cP(n,e),e}((r.get(ie)||v6).map(Sn=>Sn.getRealPlayer())).filter(Sn=>!!Sn.element&&Sn.element===ie),st=s.get(ie),gt=u.get(ie),jt=FF(0,this._normalizer,0,ee.keyframes,st,gt),rn=this._buildPlayer(ee,jt,rt);if(ee.subTimeline&&i&&M.add(ie),qe){const Sn=new aR(e,f,ie);Sn.setRealPlayer(rn),b.push(Sn)}return rn});b.forEach(ee=>{aa(this.playersByQueriedElement,ee.element,[]).push(ee),ee.onDone(()=>function C6(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,ee.element,ee))}),I.forEach(ee=>Xa(ee,$F));const $=sp(U);return $.onDestroy(()=>{I.forEach(ee=>jy(ee,$F)),mu(_,t.toStyles)}),M.forEach(ee=>{aa(i,ee,[]).push($)}),$}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new ew(e.duration,e.delay)}}class aR{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new ew,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>UM(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){aa(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function iI(n){return n&&1===n.nodeType}function sP(n,e){const t=n.style.display;return n.style.display=e??"none",t}function aP(n,e,t,r,i){const s=[];t.forEach(_=>s.push(sP(_)));const u=[];r.forEach((_,b)=>{const I=new Map;_.forEach(M=>{const U=e.computeStyle(b,M,i);I.set(M,U),(!U||0==U.length)&&(b[Ja]=b6,u.push(b))}),n.set(b,I)});let f=0;return t.forEach(_=>sP(_,s[f++])),u}function lP(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const r=1,i=new Set(e),s=new Map;function u(f){if(!f)return r;let _=s.get(f);if(_)return _;const b=f.parentNode;return _=t.has(b)?b:i.has(b)?r:u(b),s.set(f,_),_}return e.forEach(f=>{const _=u(f);_!==r&&t.get(_).push(f)}),t}function Xa(n,e){n.classList?.add(e)}function jy(n,e){n.classList?.remove(e)}function I6(n,e,t){sp(t).onDone(()=>n.processLeaveNode(e))}function cP(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof UN?cP(r.players,e):e.push(r)}}function uP(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(s=>i.add(s)):e.set(n,r),t.delete(n),!0}class oI{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new E6(e,t,r),this._timelineEngine=new p6(e,t,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,t,r,i,s){const u=e+"-"+i;let f=this._triggerCache[u];if(!f){const _=[],b=[],I=QM(this._driver,s,_,b);if(_.length)throw function h4(n,e){return new l.vHH(3404,!1)}();f=function u6(n,e,t){return new d6(n,e,t)}(i,I,this._normalizer),this._triggerCache[u]=f}this._transitionEngine.registerTrigger(t,i,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[s,u]=PF(r);this._timelineEngine.command(s,t,u,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,s){if("@"==r.charAt(0)){const[u,f]=PF(r);return this._timelineEngine.listen(u,t,f,s)}return this._transitionEngine.listen(e,t,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let M6=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&mu(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(mu(this._element,this._initialStyles),this._endStyles&&(mu(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Ym(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ym(this._element,this._endStyles),this._endStyles=null),mu(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function lR(n){let e=null;return n.forEach((t,r)=>{(function R6(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class dP{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:YF(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class k6{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return UF(e,t)}getParentElement(e){return $M(e)}query(e,t,r){return HF(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,s,u=[]){const _={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(_.easing=s);const b=new Map,I=u.filter($=>$ instanceof dP);(function P4(n,e){return 0===n||0===e})(r,i)&&I.forEach($=>{$.currentSnapshot.forEach((ee,ie)=>b.set(ie,ee))});let M=function k4(n){return n.length?n[0]instanceof Map?n:n.map(e=>GF(e)):[]}(t).map($=>ap($));M=function L4(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((s,u)=>{r.has(u)||i.push(u),r.set(u,s)}),i.length)for(let s=1;s<e.length;s++){let u=e[s];i.forEach(f=>u.set(f,YF(n,f)))}}return e}(e,M,b);const U=function A6(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=lR(e[0]),e.length>1&&(r=lR(e[e.length-1]))):e instanceof Map&&(t=lR(e)),t||r?new M6(n,t,r):null}(e,M);return new dP(e,M,_,U)}}let O6=(()=>{class n extends LN{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:l.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?VN(t):t;return hP(this._renderer,null,r,"register",[i]),new N6(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.FYo),l.LFG(re))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class N6 extends vj{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new F6(this._id,e,t||{},this._renderer)}}class F6{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return hP(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function hP(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const fP="@.disabled";let P6=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(s,u)=>{const f=u?.parentNode(s);f&&u.removeChild(f,s)}}createRenderer(t,r){const s=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let I=this._rendererCache.get(s);return I||(I=new pP("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,I)),I}const u=r.id,f=r.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const _=I=>{Array.isArray(I)?I.forEach(_):this.engine.registerTrigger(u,f,t,I.name,I)};return r.data.animation.forEach(_),new L6(this,f,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[u,f]=s;u(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.FYo),l.LFG(oI),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class pP{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.destroyNode=this.delegate.destroyNode?s=>t.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==fP?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class L6 extends pP{constructor(e,t,r,i,s){super(t,r,i,s),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==fP?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function V6(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),u="";return"@"!=s.charAt(0)&&([s,u]=function B6(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,u,f=>{this.factory.scheduleListenerCallback(f._data||-1,r,f)})}return this.delegate.listen(e,t,r)}}let U6=(()=>{class n extends oI{constructor(t,r,i,s){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(re),l.LFG(GM),l.LFG(nR),l.LFG(l.z2F))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const mP=[{provide:LN,useClass:O6},{provide:nR,useFactory:function H6(){return new s6}},{provide:oI,useClass:U6},{provide:l.FYo,useFactory:function j6(n,e,t){return new P6(n,e,t)},deps:[ai,oI,l.R0b]}],cR=[{provide:GM,useFactory:()=>new k6},{provide:l.QbO,useValue:"BrowserAnimations"},...mP],gP=[{provide:GM,useClass:jF},{provide:l.QbO,useValue:"NoopAnimations"},...mP];let z6=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?gP:cR}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:cR,imports:[Hs]}),n})(),$6=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({imports:[To,_O,Ax,rF,PO,SF,sF]})}return n})(),G6=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=l.oAB({type:n,bootstrap:[S$]});static#n=this.\u0275inj=l.cJS({imports:[Hs,x$,yj,$6,zj.forRoot(),eL(()=>tL(MF_firebase)),F$(()=>P$()),z$(()=>$$()),z6,Ki.hO.initializeApp(MF_firebase)]})}return n})();wp().bootstrapModule(G6).catch(n=>console.error(n))},9751:(wt,Ae,V)=>{V.d(Ae,{y:()=>Ee});var l=V(930),j=V(727),F=V(8822),oe=V(9635),ue=V(2416),re=V(576),Ie=V(2806);let Ee=(()=>{class te{constructor(Me){Me&&(this._subscribe=Me)}lift(Me){const Ke=new te;return Ke.source=this,Ke.operator=Me,Ke}subscribe(Me,Ke,at){const we=function q(te){return te&&te instanceof l.Lv||function W(te){return te&&(0,re.m)(te.next)&&(0,re.m)(te.error)&&(0,re.m)(te.complete)}(te)&&(0,j.Nn)(te)}(Me)?Me:new l.Hp(Me,Ke,at);return(0,Ie.x)(()=>{const{operator:Oe,source:Fe}=this;we.add(Oe?Oe.call(we,Fe):Fe?this._subscribe(we):this._trySubscribe(we))}),we}_trySubscribe(Me){try{return this._subscribe(Me)}catch(Ke){Me.error(Ke)}}forEach(Me,Ke){return new(Ke=Ce(Ke))((at,we)=>{const Oe=new l.Hp({next:Fe=>{try{Me(Fe)}catch(He){we(He),Oe.unsubscribe()}},error:we,complete:at});this.subscribe(Oe)})}_subscribe(Me){var Ke;return null===(Ke=this.source)||void 0===Ke?void 0:Ke.subscribe(Me)}[F.L](){return this}pipe(...Me){return(0,oe.U)(Me)(this)}toPromise(Me){return new(Me=Ce(Me))((Ke,at)=>{let we;this.subscribe(Oe=>we=Oe,Oe=>at(Oe),()=>Ke(we))})}}return te.create=je=>new te(je),te})();function Ce(te){var je;return null!==(je=te??ue.v.Promise)&&void 0!==je?je:Promise}},7579:(wt,Ae,V)=>{V.d(Ae,{x:()=>Ie});var l=V(9751),j=V(727);const oe=(0,V(3888).d)(Ce=>function(){Ce(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ue=V(8737),re=V(2806);let Ie=(()=>{class Ce extends l.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(q){const te=new Ee(this,this);return te.operator=q,te}_throwIfClosed(){if(this.closed)throw new oe}next(q){(0,re.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const te of this.currentObservers)te.next(q)}})}error(q){(0,re.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=q;const{observers:te}=this;for(;te.length;)te.shift().error(q)}})}complete(){(0,re.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:q}=this;for(;q.length;)q.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var q;return(null===(q=this.observers)||void 0===q?void 0:q.length)>0}_trySubscribe(q){return this._throwIfClosed(),super._trySubscribe(q)}_subscribe(q){return this._throwIfClosed(),this._checkFinalizedStatuses(q),this._innerSubscribe(q)}_innerSubscribe(q){const{hasError:te,isStopped:je,observers:Me}=this;return te||je?j.Lc:(this.currentObservers=null,Me.push(q),new j.w0(()=>{this.currentObservers=null,(0,ue.P)(Me,q)}))}_checkFinalizedStatuses(q){const{hasError:te,thrownError:je,isStopped:Me}=this;te?q.error(je):Me&&q.complete()}asObservable(){const q=new l.y;return q.source=this,q}}return Ce.create=(W,q)=>new Ee(W,q),Ce})();class Ee extends Ie{constructor(W,q){super(),this.destination=W,this.source=q}next(W){var q,te;null===(te=null===(q=this.destination)||void 0===q?void 0:q.next)||void 0===te||te.call(q,W)}error(W){var q,te;null===(te=null===(q=this.destination)||void 0===q?void 0:q.error)||void 0===te||te.call(q,W)}complete(){var W,q;null===(q=null===(W=this.destination)||void 0===W?void 0:W.complete)||void 0===q||q.call(W)}_subscribe(W){var q,te;return null!==(te=null===(q=this.source)||void 0===q?void 0:q.subscribe(W))&&void 0!==te?te:j.Lc}}},930:(wt,Ae,V)=>{V.d(Ae,{Hp:()=>at,Lv:()=>te});var l=V(576),j=V(727),F=V(2416),oe=V(7849),ue=V(5032);const re=Ce("C",void 0,void 0);function Ce(Se,Te,Ne){return{kind:Se,value:Te,error:Ne}}var W=V(3410),q=V(2806);class te extends j.w0{constructor(Te){super(),this.isStopped=!1,Te?(this.destination=Te,(0,j.Nn)(Te)&&Te.add(this)):this.destination=He}static create(Te,Ne,ze){return new at(Te,Ne,ze)}next(Te){this.isStopped?Fe(function Ee(Se){return Ce("N",Se,void 0)}(Te),this):this._next(Te)}error(Te){this.isStopped?Fe(function Ie(Se){return Ce("E",void 0,Se)}(Te),this):(this.isStopped=!0,this._error(Te))}complete(){this.isStopped?Fe(re,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Te){this.destination.next(Te)}_error(Te){try{this.destination.error(Te)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const je=Function.prototype.bind;function Me(Se,Te){return je.call(Se,Te)}class Ke{constructor(Te){this.partialObserver=Te}next(Te){const{partialObserver:Ne}=this;if(Ne.next)try{Ne.next(Te)}catch(ze){we(ze)}}error(Te){const{partialObserver:Ne}=this;if(Ne.error)try{Ne.error(Te)}catch(ze){we(ze)}else we(Te)}complete(){const{partialObserver:Te}=this;if(Te.complete)try{Te.complete()}catch(Ne){we(Ne)}}}class at extends te{constructor(Te,Ne,ze){let Le;if(super(),(0,l.m)(Te)||!Te)Le={next:Te??void 0,error:Ne??void 0,complete:ze??void 0};else{let ce;this&&F.v.useDeprecatedNextContext?(ce=Object.create(Te),ce.unsubscribe=()=>this.unsubscribe(),Le={next:Te.next&&Me(Te.next,ce),error:Te.error&&Me(Te.error,ce),complete:Te.complete&&Me(Te.complete,ce)}):Le=Te}this.destination=new Ke(Le)}}function we(Se){F.v.useDeprecatedSynchronousErrorHandling?(0,q.O)(Se):(0,oe.h)(Se)}function Fe(Se,Te){const{onStoppedNotification:Ne}=F.v;Ne&&W.z.setTimeout(()=>Ne(Se,Te))}const He={closed:!0,next:ue.Z,error:function Oe(Se){throw Se},complete:ue.Z}},727:(wt,Ae,V)=>{V.d(Ae,{Lc:()=>re,w0:()=>ue,Nn:()=>Ie});var l=V(576);const F=(0,V(3888).d)(Ce=>function(q){Ce(this),this.message=q?`${q.length} errors occurred during unsubscription:\n${q.map((te,je)=>`${je+1}) ${te.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=q});var oe=V(8737);class ue{constructor(W){this.initialTeardown=W,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let W;if(!this.closed){this.closed=!0;const{_parentage:q}=this;if(q)if(this._parentage=null,Array.isArray(q))for(const Me of q)Me.remove(this);else q.remove(this);const{initialTeardown:te}=this;if((0,l.m)(te))try{te()}catch(Me){W=Me instanceof F?Me.errors:[Me]}const{_finalizers:je}=this;if(je){this._finalizers=null;for(const Me of je)try{Ee(Me)}catch(Ke){W=W??[],Ke instanceof F?W=[...W,...Ke.errors]:W.push(Ke)}}if(W)throw new F(W)}}add(W){var q;if(W&&W!==this)if(this.closed)Ee(W);else{if(W instanceof ue){if(W.closed||W._hasParent(this))return;W._addParent(this)}(this._finalizers=null!==(q=this._finalizers)&&void 0!==q?q:[]).push(W)}}_hasParent(W){const{_parentage:q}=this;return q===W||Array.isArray(q)&&q.includes(W)}_addParent(W){const{_parentage:q}=this;this._parentage=Array.isArray(q)?(q.push(W),q):q?[q,W]:W}_removeParent(W){const{_parentage:q}=this;q===W?this._parentage=null:Array.isArray(q)&&(0,oe.P)(q,W)}remove(W){const{_finalizers:q}=this;q&&(0,oe.P)(q,W),W instanceof ue&&W._removeParent(this)}}ue.EMPTY=(()=>{const Ce=new ue;return Ce.closed=!0,Ce})();const re=ue.EMPTY;function Ie(Ce){return Ce instanceof ue||Ce&&"closed"in Ce&&(0,l.m)(Ce.remove)&&(0,l.m)(Ce.add)&&(0,l.m)(Ce.unsubscribe)}function Ee(Ce){(0,l.m)(Ce)?Ce():Ce.unsubscribe()}},2416:(wt,Ae,V)=>{V.d(Ae,{v:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(wt,Ae,V)=>{V.d(Ae,{E:()=>j});const j=new(V(9751).y)(ue=>ue.complete())},8996:(wt,Ae,V)=>{V.d(Ae,{D:()=>Te});var l=V(8421),j=V(5363),F=V(9468),re=V(9751),Ee=V(2202),Ce=V(576),W=V(9672);function te(Ne,ze){if(!Ne)throw new Error("Iterable cannot be null");return new re.y(Le=>{(0,W.f)(Le,ze,()=>{const ce=Ne[Symbol.asyncIterator]();(0,W.f)(Le,ze,()=>{ce.next().then(it=>{it.done?Le.complete():Le.next(it.value)})},0,!0)})})}var je=V(3670),Me=V(8239),Ke=V(1144),at=V(6495),we=V(2206),Oe=V(4532),Fe=V(3260);function Te(Ne,ze){return ze?function Se(Ne,ze){if(null!=Ne){if((0,je.c)(Ne))return function oe(Ne,ze){return(0,l.Xf)(Ne).pipe((0,F.R)(ze),(0,j.Q)(ze))}(Ne,ze);if((0,Ke.z)(Ne))return function Ie(Ne,ze){return new re.y(Le=>{let ce=0;return ze.schedule(function(){ce===Ne.length?Le.complete():(Le.next(Ne[ce++]),Le.closed||this.schedule())})})}(Ne,ze);if((0,Me.t)(Ne))return function ue(Ne,ze){return(0,l.Xf)(Ne).pipe((0,F.R)(ze),(0,j.Q)(ze))}(Ne,ze);if((0,we.D)(Ne))return te(Ne,ze);if((0,at.T)(Ne))return function q(Ne,ze){return new re.y(Le=>{let ce;return(0,W.f)(Le,ze,()=>{ce=Ne[Ee.h](),(0,W.f)(Le,ze,()=>{let it,St;try{({value:it,done:St}=ce.next())}catch(lt){return void Le.error(lt)}St?Le.complete():Le.next(it)},0,!0)}),()=>(0,Ce.m)(ce?.return)&&ce.return()})}(Ne,ze);if((0,Fe.L)(Ne))return function He(Ne,ze){return te((0,Fe.Q)(Ne),ze)}(Ne,ze)}throw(0,Oe.z)(Ne)}(Ne,ze):(0,l.Xf)(Ne)}},8421:(wt,Ae,V)=>{V.d(Ae,{Xf:()=>je});var l=V(7582),j=V(1144),F=V(8239),oe=V(9751),ue=V(3670),re=V(2206),Ie=V(4532),Ee=V(6495),Ce=V(3260),W=V(576),q=V(7849),te=V(8822);function je(Se){if(Se instanceof oe.y)return Se;if(null!=Se){if((0,ue.c)(Se))return function Me(Se){return new oe.y(Te=>{const Ne=Se[te.L]();if((0,W.m)(Ne.subscribe))return Ne.subscribe(Te);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Se);if((0,j.z)(Se))return function Ke(Se){return new oe.y(Te=>{for(let Ne=0;Ne<Se.length&&!Te.closed;Ne++)Te.next(Se[Ne]);Te.complete()})}(Se);if((0,F.t)(Se))return function at(Se){return new oe.y(Te=>{Se.then(Ne=>{Te.closed||(Te.next(Ne),Te.complete())},Ne=>Te.error(Ne)).then(null,q.h)})}(Se);if((0,re.D)(Se))return Oe(Se);if((0,Ee.T)(Se))return function we(Se){return new oe.y(Te=>{for(const Ne of Se)if(Te.next(Ne),Te.closed)return;Te.complete()})}(Se);if((0,Ce.L)(Se))return function Fe(Se){return Oe((0,Ce.Q)(Se))}(Se)}throw(0,Ie.z)(Se)}function Oe(Se){return new oe.y(Te=>{(function He(Se,Te){var Ne,ze,Le,ce;return(0,l.mG)(this,void 0,void 0,function*(){try{for(Ne=(0,l.KL)(Se);!(ze=yield Ne.next()).done;)if(Te.next(ze.value),Te.closed)return}catch(it){Le={error:it}}finally{try{ze&&!ze.done&&(ce=Ne.return)&&(yield ce.call(Ne))}finally{if(Le)throw Le.error}}Te.complete()})})(Se,Te).catch(Ne=>Te.error(Ne))})}},6451:(wt,Ae,V)=>{V.d(Ae,{T:()=>re});var l=V(8189),j=V(8421),F=V(515),oe=V(3269),ue=V(8996);function re(...Ie){const Ee=(0,oe.yG)(Ie),Ce=(0,oe._6)(Ie,1/0),W=Ie;return W.length?1===W.length?(0,j.Xf)(W[0]):(0,l.J)(Ce)((0,ue.D)(W,Ee)):F.E}},5403:(wt,Ae,V)=>{V.d(Ae,{x:()=>j});var l=V(930);function j(oe,ue,re,Ie,Ee){return new F(oe,ue,re,Ie,Ee)}class F extends l.Lv{constructor(ue,re,Ie,Ee,Ce,W){super(ue),this.onFinalize=Ce,this.shouldUnsubscribe=W,this._next=re?function(q){try{re(q)}catch(te){ue.error(te)}}:super._next,this._error=Ee?function(q){try{Ee(q)}catch(te){ue.error(te)}finally{this.unsubscribe()}}:super._error,this._complete=Ie?function(){try{Ie()}catch(q){ue.error(q)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ue;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:re}=this;super.unsubscribe(),!re&&(null===(ue=this.onFinalize)||void 0===ue||ue.call(this))}}}},4004:(wt,Ae,V)=>{V.d(Ae,{U:()=>F});var l=V(4482),j=V(5403);function F(oe,ue){return(0,l.e)((re,Ie)=>{let Ee=0;re.subscribe((0,j.x)(Ie,Ce=>{Ie.next(oe.call(ue,Ce,Ee++))}))})}},8189:(wt,Ae,V)=>{V.d(Ae,{J:()=>F});var l=V(5577),j=V(4671);function F(oe=1/0){return(0,l.z)(j.y,oe)}},5577:(wt,Ae,V)=>{V.d(Ae,{z:()=>Ee});var l=V(4004),j=V(8421),F=V(4482),oe=V(9672),ue=V(5403),Ie=V(576);function Ee(Ce,W,q=1/0){return(0,Ie.m)(W)?Ee((te,je)=>(0,l.U)((Me,Ke)=>W(te,Me,je,Ke))((0,j.Xf)(Ce(te,je))),q):("number"==typeof W&&(q=W),(0,F.e)((te,je)=>function re(Ce,W,q,te,je,Me,Ke,at){const we=[];let Oe=0,Fe=0,He=!1;const Se=()=>{He&&!we.length&&!Oe&&W.complete()},Te=ze=>Oe<te?Ne(ze):we.push(ze),Ne=ze=>{Me&&W.next(ze),Oe++;let Le=!1;(0,j.Xf)(q(ze,Fe++)).subscribe((0,ue.x)(W,ce=>{je?.(ce),Me?Te(ce):W.next(ce)},()=>{Le=!0},void 0,()=>{if(Le)try{for(Oe--;we.length&&Oe<te;){const ce=we.shift();Ke?(0,oe.f)(W,Ke,()=>Ne(ce)):Ne(ce)}Se()}catch(ce){W.error(ce)}}))};return Ce.subscribe((0,ue.x)(W,Te,()=>{He=!0,Se()})),()=>{at?.()}}(te,je,Ce,q)))}},5363:(wt,Ae,V)=>{V.d(Ae,{Q:()=>oe});var l=V(9672),j=V(4482),F=V(5403);function oe(ue,re=0){return(0,j.e)((Ie,Ee)=>{Ie.subscribe((0,F.x)(Ee,Ce=>(0,l.f)(Ee,ue,()=>Ee.next(Ce),re),()=>(0,l.f)(Ee,ue,()=>Ee.complete(),re),Ce=>(0,l.f)(Ee,ue,()=>Ee.error(Ce),re)))})}},3099:(wt,Ae,V)=>{V.d(Ae,{B:()=>ue});var l=V(8421),j=V(7579),F=V(930),oe=V(4482);function ue(Ie={}){const{connector:Ee=(()=>new j.x),resetOnError:Ce=!0,resetOnComplete:W=!0,resetOnRefCountZero:q=!0}=Ie;return te=>{let je,Me,Ke,at=0,we=!1,Oe=!1;const Fe=()=>{Me?.unsubscribe(),Me=void 0},He=()=>{Fe(),je=Ke=void 0,we=Oe=!1},Se=()=>{const Te=je;He(),Te?.unsubscribe()};return(0,oe.e)((Te,Ne)=>{at++,!Oe&&!we&&Fe();const ze=Ke=Ke??Ee();Ne.add(()=>{at--,0===at&&!Oe&&!we&&(Me=re(Se,q))}),ze.subscribe(Ne),!je&&at>0&&(je=new F.Hp({next:Le=>ze.next(Le),error:Le=>{Oe=!0,Fe(),Me=re(He,Ce,Le),ze.error(Le)},complete:()=>{we=!0,Fe(),Me=re(He,W),ze.complete()}}),(0,l.Xf)(Te).subscribe(je))})(te)}}function re(Ie,Ee,...Ce){if(!0===Ee)return void Ie();if(!1===Ee)return;const W=new F.Hp({next:()=>{W.unsubscribe(),Ie()}});return Ee(...Ce).subscribe(W)}},9468:(wt,Ae,V)=>{V.d(Ae,{R:()=>j});var l=V(4482);function j(F,oe=0){return(0,l.e)((ue,re)=>{re.add(F.schedule(()=>ue.subscribe(re),oe))})}},8505:(wt,Ae,V)=>{V.d(Ae,{b:()=>ue});var l=V(576),j=V(4482),F=V(5403),oe=V(4671);function ue(re,Ie,Ee){const Ce=(0,l.m)(re)||Ie||Ee?{next:re,error:Ie,complete:Ee}:re;return Ce?(0,j.e)((W,q)=>{var te;null===(te=Ce.subscribe)||void 0===te||te.call(Ce);let je=!0;W.subscribe((0,F.x)(q,Me=>{var Ke;null===(Ke=Ce.next)||void 0===Ke||Ke.call(Ce,Me),q.next(Me)},()=>{var Me;je=!1,null===(Me=Ce.complete)||void 0===Me||Me.call(Ce),q.complete()},Me=>{var Ke;je=!1,null===(Ke=Ce.error)||void 0===Ke||Ke.call(Ce,Me),q.error(Me)},()=>{var Me,Ke;je&&(null===(Me=Ce.unsubscribe)||void 0===Me||Me.call(Ce)),null===(Ke=Ce.finalize)||void 0===Ke||Ke.call(Ce)}))}):oe.y}},4408:(wt,Ae,V)=>{V.d(Ae,{o:()=>ue});var l=V(727);class j extends l.w0{constructor(Ie,Ee){super()}schedule(Ie,Ee=0){return this}}const F={setInterval(re,Ie,...Ee){const{delegate:Ce}=F;return Ce?.setInterval?Ce.setInterval(re,Ie,...Ee):setInterval(re,Ie,...Ee)},clearInterval(re){const{delegate:Ie}=F;return(Ie?.clearInterval||clearInterval)(re)},delegate:void 0};var oe=V(8737);class ue extends j{constructor(Ie,Ee){super(Ie,Ee),this.scheduler=Ie,this.work=Ee,this.pending=!1}schedule(Ie,Ee=0){var Ce;if(this.closed)return this;this.state=Ie;const W=this.id,q=this.scheduler;return null!=W&&(this.id=this.recycleAsyncId(q,W,Ee)),this.pending=!0,this.delay=Ee,this.id=null!==(Ce=this.id)&&void 0!==Ce?Ce:this.requestAsyncId(q,this.id,Ee),this}requestAsyncId(Ie,Ee,Ce=0){return F.setInterval(Ie.flush.bind(Ie,this),Ce)}recycleAsyncId(Ie,Ee,Ce=0){if(null!=Ce&&this.delay===Ce&&!1===this.pending)return Ee;null!=Ee&&F.clearInterval(Ee)}execute(Ie,Ee){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ce=this._execute(Ie,Ee);if(Ce)return Ce;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ie,Ee){let W,Ce=!1;try{this.work(Ie)}catch(q){Ce=!0,W=q||new Error("Scheduled action threw falsy error")}if(Ce)return this.unsubscribe(),W}unsubscribe(){if(!this.closed){const{id:Ie,scheduler:Ee}=this,{actions:Ce}=Ee;this.work=this.state=this.scheduler=null,this.pending=!1,(0,oe.P)(Ce,this),null!=Ie&&(this.id=this.recycleAsyncId(Ee,Ie,null)),this.delay=null,super.unsubscribe()}}}},7565:(wt,Ae,V)=>{V.d(Ae,{v:()=>F});var l=V(6063);class j{constructor(ue,re=j.now){this.schedulerActionCtor=ue,this.now=re}schedule(ue,re=0,Ie){return new this.schedulerActionCtor(this,ue).schedule(Ie,re)}}j.now=l.l.now;class F extends j{constructor(ue,re=j.now){super(ue,re),this.actions=[],this._active=!1}flush(ue){const{actions:re}=this;if(this._active)return void re.push(ue);let Ie;this._active=!0;do{if(Ie=ue.execute(ue.state,ue.delay))break}while(ue=re.shift());if(this._active=!1,Ie){for(;ue=re.shift();)ue.unsubscribe();throw Ie}}}},4986:(wt,Ae,V)=>{V.d(Ae,{P:()=>oe,z:()=>F});var l=V(4408);const F=new(V(7565).v)(l.o),oe=F},6063:(wt,Ae,V)=>{V.d(Ae,{l:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}},3410:(wt,Ae,V)=>{V.d(Ae,{z:()=>l});const l={setTimeout(j,F,...oe){const{delegate:ue}=l;return ue?.setTimeout?ue.setTimeout(j,F,...oe):setTimeout(j,F,...oe)},clearTimeout(j){const{delegate:F}=l;return(F?.clearTimeout||clearTimeout)(j)},delegate:void 0}},2202:(wt,Ae,V)=>{V.d(Ae,{h:()=>j});const j=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(wt,Ae,V)=>{V.d(Ae,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(wt,Ae,V)=>{V.d(Ae,{_6:()=>re,jO:()=>oe,yG:()=>ue});var l=V(576),j=V(3532);function F(Ie){return Ie[Ie.length-1]}function oe(Ie){return(0,l.m)(F(Ie))?Ie.pop():void 0}function ue(Ie){return(0,j.K)(F(Ie))?Ie.pop():void 0}function re(Ie,Ee){return"number"==typeof F(Ie)?Ie.pop():Ee}},8737:(wt,Ae,V)=>{function l(j,F){if(j){const oe=j.indexOf(F);0<=oe&&j.splice(oe,1)}}V.d(Ae,{P:()=>l})},3888:(wt,Ae,V)=>{function l(j){const oe=j(ue=>{Error.call(ue),ue.stack=(new Error).stack});return oe.prototype=Object.create(Error.prototype),oe.prototype.constructor=oe,oe}V.d(Ae,{d:()=>l})},2806:(wt,Ae,V)=>{V.d(Ae,{O:()=>oe,x:()=>F});var l=V(2416);let j=null;function F(ue){if(l.v.useDeprecatedSynchronousErrorHandling){const re=!j;if(re&&(j={errorThrown:!1,error:null}),ue(),re){const{errorThrown:Ie,error:Ee}=j;if(j=null,Ie)throw Ee}}else ue()}function oe(ue){l.v.useDeprecatedSynchronousErrorHandling&&j&&(j.errorThrown=!0,j.error=ue)}},9672:(wt,Ae,V)=>{function l(j,F,oe,ue=0,re=!1){const Ie=F.schedule(function(){oe(),re?j.add(this.schedule(null,ue)):this.unsubscribe()},ue);if(j.add(Ie),!re)return Ie}V.d(Ae,{f:()=>l})},4671:(wt,Ae,V)=>{function l(j){return j}V.d(Ae,{y:()=>l})},1144:(wt,Ae,V)=>{V.d(Ae,{z:()=>l});const l=j=>j&&"number"==typeof j.length&&"function"!=typeof j},2206:(wt,Ae,V)=>{V.d(Ae,{D:()=>j});var l=V(576);function j(F){return Symbol.asyncIterator&&(0,l.m)(F?.[Symbol.asyncIterator])}},576:(wt,Ae,V)=>{function l(j){return"function"==typeof j}V.d(Ae,{m:()=>l})},3670:(wt,Ae,V)=>{V.d(Ae,{c:()=>F});var l=V(8822),j=V(576);function F(oe){return(0,j.m)(oe[l.L])}},6495:(wt,Ae,V)=>{V.d(Ae,{T:()=>F});var l=V(2202),j=V(576);function F(oe){return(0,j.m)(oe?.[l.h])}},8239:(wt,Ae,V)=>{V.d(Ae,{t:()=>j});var l=V(576);function j(F){return(0,l.m)(F?.then)}},3260:(wt,Ae,V)=>{V.d(Ae,{L:()=>oe,Q:()=>F});var l=V(7582),j=V(576);function F(ue){return(0,l.FC)(this,arguments,function*(){const Ie=ue.getReader();try{for(;;){const{value:Ee,done:Ce}=yield(0,l.qq)(Ie.read());if(Ce)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(Ee)}}finally{Ie.releaseLock()}})}function oe(ue){return(0,j.m)(ue?.getReader)}},3532:(wt,Ae,V)=>{V.d(Ae,{K:()=>j});var l=V(576);function j(F){return F&&(0,l.m)(F.schedule)}},4482:(wt,Ae,V)=>{V.d(Ae,{A:()=>j,e:()=>F});var l=V(576);function j(oe){return(0,l.m)(oe?.lift)}function F(oe){return ue=>{if(j(ue))return ue.lift(function(re){try{return oe(re,this)}catch(Ie){this.error(Ie)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(wt,Ae,V)=>{function l(){}V.d(Ae,{Z:()=>l})},9635:(wt,Ae,V)=>{V.d(Ae,{U:()=>F,z:()=>j});var l=V(4671);function j(...oe){return F(oe)}function F(oe){return 0===oe.length?l.y:1===oe.length?oe[0]:function(re){return oe.reduce((Ie,Ee)=>Ee(Ie),re)}}},7849:(wt,Ae,V)=>{V.d(Ae,{h:()=>F});var l=V(2416),j=V(3410);function F(oe){j.z.setTimeout(()=>{const{onUnhandledError:ue}=l.v;if(!ue)throw oe;ue(oe)})}},4532:(wt,Ae,V)=>{function l(j){return new TypeError(`You provided ${null!==j&&"object"==typeof j?"an invalid object":`'${j}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}V.d(Ae,{z:()=>l})},4650:(wt,Ae,V)=>{V.d(Ae,{$8M:()=>vl,$WT:()=>Kr,$Z:()=>Kw,AFp:()=>q_,AaK:()=>Ee,BQk:()=>jc,CHM:()=>Eu,CRH:()=>RC,CZH:()=>Fd,CqO:()=>t_,D6c:()=>uy,EJc:()=>YC,EiD:()=>tv,EpF:()=>yE,F$t:()=>zc,F4k:()=>vE,FYo:()=>vs,FiY:()=>ct,Gf:()=>jb,GfV:()=>kg,GkF:()=>Fv,Gpc:()=>q,Hsn:()=>Vv,Ikx:()=>bf,JOm:()=>Qi,JVY:()=>uI,JZr:()=>at,KtG:()=>ul,L6k:()=>gw,LAX:()=>dI,LFG:()=>zt,Lbi:()=>KC,Lck:()=>Db,MAs:()=>_E,MMx:()=>x_,MR2:()=>vI,NdJ:()=>n_,OlP:()=>cn,Oqu:()=>c_,P3R:()=>bg,PXZ:()=>fS,Q6J:()=>Xs,QGY:()=>nn,QbO:()=>a0,Qsj:()=>fv,R0b:()=>$i,RDi:()=>fw,Rgc:()=>Nd,SBq:()=>Va,Sil:()=>iS,Suo:()=>MC,TTD:()=>oh,TgZ:()=>Xp,Tol:()=>qv,Udp:()=>Ed,VKq:()=>A_,W1O:()=>OC,X6Q:()=>yS,XFs:()=>_t,Xpm:()=>$t,Xts:()=>iv,Y36:()=>zo,YKP:()=>mm,YNc:()=>Ov,Yjl:()=>en,Yz7:()=>dt,Z0I:()=>Rn,ZZ4:()=>Gf,_Bn:()=>mC,_UZ:()=>e_,_Vd:()=>Si,_c5:()=>yD,_uU:()=>Yv,aQg:()=>cy,c2e:()=>eS,cJS:()=>xt,cg1:()=>ib,d8E:()=>Td,dDg:()=>c0,dqk:()=>fn,eBb:()=>_w,eFA:()=>oD,eJc:()=>Cm,ekj:()=>Cd,eoX:()=>rD,f3M:()=>Ln,g9A:()=>Z_,h0i:()=>Md,hGG:()=>g0,hij:()=>im,iGM:()=>Hb,ifc:()=>L,ip1:()=>G_,jDz:()=>kf,kL8:()=>Kc,lG2:()=>Mt,lqb:()=>id,lri:()=>X_,mCW:()=>td,n5z:()=>Nu,oAB:()=>ae,oJD:()=>rv,oxw:()=>Lv,pB0:()=>ed,q3G:()=>kr,q4F:()=>Ys,qLn:()=>ef,qOj:()=>Hn,qZA:()=>Hc,qzn:()=>kc,rWj:()=>nD,sBO:()=>f0,s_b:()=>Jl,soG:()=>K_,tBr:()=>El,tb:()=>iD,tp0:()=>ho,uIk:()=>jl,vHH:()=>we,vpe:()=>ra,wAp:()=>Nt,xp6:()=>et,ynx:()=>em,z2F:()=>ty,z3N:()=>Ji,zSh:()=>xg,zs3:()=>cd});var l=V(7579),j=V(727),F=V(9751),oe=V(6451),ue=V(3099);function re(o){for(let a in o)if(o[a]===re)return a;throw Error("Could not find renamed property on target object.")}function Ie(o,a){for(const c in a)a.hasOwnProperty(c)&&!o.hasOwnProperty(c)&&(o[c]=a[c])}function Ee(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(Ee).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const a=o.toString();if(null==a)return""+a;const c=a.indexOf("\n");return-1===c?a:a.substring(0,c)}function Ce(o,a){return null==o||""===o?null===a?"":a:null==a||""===a?o:o+" "+a}const W=re({__forward_ref__:re});function q(o){return o.__forward_ref__=q,o.toString=function(){return Ee(this())},o}function te(o){return je(o)?o():o}function je(o){return"function"==typeof o&&o.hasOwnProperty(W)&&o.__forward_ref__===q}function Me(o){return o&&!!o.\u0275providers}const at="https://g.co/ng/security#xss";class we extends Error{constructor(a,c){super(Oe(a,c)),this.code=a}}function Oe(o,a){return`NG0${Math.abs(o)}${a?": "+a.trim():""}`}function Fe(o){return"string"==typeof o?o:null==o?"":String(o)}function ze(o,a){throw new we(-201,!1)}function be(o,a){null==o&&function ne(o,a,c,d){throw new Error(`ASSERTION ERROR: ${o}`+(null==d?"":` [Expected=> ${c} ${d} ${a} <=Actual]`))}(a,o,null,"!=")}function dt(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function xt(o){return{providers:o.providers||[],imports:o.imports||[]}}function sn(o){return gn(o,Pn)||gn(o,Di)}function Rn(o){return null!==sn(o)}function gn(o,a){return o.hasOwnProperty(a)?o[a]:null}function Fn(o){return o&&(o.hasOwnProperty(dr)||o.hasOwnProperty(Yn))?o[dr]:null}const Pn=re({\u0275prov:re}),dr=re({\u0275inj:re}),Di=re({ngInjectableDef:re}),Yn=re({ngInjectorDef:re});var _t=(()=>((_t=_t||{})[_t.Default=0]="Default",_t[_t.Host=1]="Host",_t[_t.Self=2]="Self",_t[_t.SkipSelf=4]="SkipSelf",_t[_t.Optional=8]="Optional",_t))();let $n;function Qn(o){const a=$n;return $n=o,a}function Wr(o,a,c){const d=sn(o);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:c&_t.Optional?null:void 0!==a?a:void ze(Ee(o))}const fn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Jn={},Fr="__NG_DI_FLAG__",Gn="ngTempTokenPath",fi="ngTokenPath",qn=/\n/gm,Cr="\u0275",Xt="__source";let Fi;function on(o){const a=Fi;return Fi=o,a}function pi(o,a=_t.Default){if(void 0===Fi)throw new we(-203,!1);return null===Fi?Wr(o,void 0,a):Fi.get(o,a&_t.Optional?null:void 0,a)}function zt(o,a=_t.Default){return(function oo(){return $n}()||pi)(te(o),a)}function Ln(o,a=_t.Default){return zt(o,Pr(a))}function Pr(o){return typeof o>"u"||"number"==typeof o?o:0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)}function er(o){const a=[];for(let c=0;c<o.length;c++){const d=te(o[c]);if(Array.isArray(d)){if(0===d.length)throw new we(900,!1);let h,m=_t.Default;for(let y=0;y<d.length;y++){const C=d[y],x=Zr(C);"number"==typeof x?-1===x?h=C.token:m|=x:h=C}a.push(zt(h,m))}else a.push(zt(d))}return a}function ri(o,a){return o[Fr]=a,o.prototype[Fr]=a,o}function Zr(o){return o[Fr]}function z(o){return{toString:o}.toString()}var P=(()=>((P=P||{})[P.OnPush=0]="OnPush",P[P.Default=1]="Default",P))(),L=(()=>{return(o=L||(L={}))[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",L;var o})();const k={},Y=[],xe=re({\u0275cmp:re}),ot=re({\u0275dir:re}),At=re({\u0275pipe:re}),Tt=re({\u0275mod:re}),Yt=re({\u0275fac:re}),Rt=re({__NG_ELEMENT_ID__:re});let Tn=0;function $t(o){return z(()=>{const a=Xl(o),c={...a,decls:o.decls,vars:o.vars,template:o.template,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,onPush:o.changeDetection===P.OnPush,directiveDefs:null,pipeDefs:null,dependencies:a.standalone&&o.dependencies||null,getStandaloneInjector:null,data:o.data||{},encapsulation:o.encapsulation||L.Emulated,id:"c"+Tn++,styles:o.styles||Y,_:null,schemas:o.schemas||null,tView:null};cp(c);const d=o.dependencies;return c.directiveDefs=Ts(d,!1),c.pipeDefs=Ts(d,!0),c})}function xo(o){return Et(o)||yn(o)}function _e(o){return null!==o}function ae(o){return z(()=>({type:o.type,bootstrap:o.bootstrap||Y,declarations:o.declarations||Y,imports:o.imports||Y,exports:o.exports||Y,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function bt(o,a){if(null==o)return k;const c={};for(const d in o)if(o.hasOwnProperty(d)){let h=o[d],m=h;Array.isArray(h)&&(m=h[1],h=h[0]),c[h]=d,a&&(a[h]=m)}return c}function Mt(o){return z(()=>{const a=Xl(o);return cp(a),a})}function en(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function Et(o){return o[xe]||null}function yn(o){return o[ot]||null}function ln(o){return o[At]||null}function Kr(o){const a=Et(o)||yn(o)||ln(o);return null!==a&&a.standalone}function xr(o,a){const c=o[Tt]||null;if(!c&&!0===a)throw new Error(`Type ${Ee(o)} does not have '\u0275mod' property.`);return c}function Xl(o){const a={};return{type:o.type,providersResolver:null,factory:null,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:a,exportAs:o.exportAs||null,standalone:!0===o.standalone,selectors:o.selectors||Y,viewQuery:o.viewQuery||null,features:o.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:bt(o.inputs,a),outputs:bt(o.outputs)}}function cp(o){o.features?.forEach(a=>a(o))}function Ts(o,a){if(!o)return null;const c=a?ln:xo;return()=>("function"==typeof o?o():o).map(d=>c(d)).filter(_e)}const Ir=0,tt=1,Qt=2,kn=3,vn=4,es=5,Tr=6,nl=7,Wn=8,rl=9,mi=10,Wt=11,ec=12,Pi=13,ua=14,Io=15,hr=16,Ss=17,As=18,xi=19,Ms=20,Sr=21,Cn=22,_u=1,il=2,da=7,ts=8,Rs=9,Lr=10;function oi(o){return Array.isArray(o)&&"object"==typeof o[_u]}function Wi(o){return Array.isArray(o)&&!0===o[_u]}function ks(o){return 0!=(4&o.flags)}function tc(o){return o.componentOffset>-1}function ol(o){return 1==(1&o.flags)}function gi(o){return!!o.template}function ns(o){return 0!=(256&o[Qt])}function So(o,a){return o.hasOwnProperty(Yt)?o[Yt]:null}class ih{constructor(a,c,d){this.previousValue=a,this.currentValue=c,this.firstChange=d}isFirstChange(){return this.firstChange}}function oh(){return nc}function nc(o){return o.type.prototype.ngOnChanges&&(o.setInput=os),pp}function pp(){const o=rc(this),a=o?.current;if(a){const c=o.previous;if(c===k)o.previous=a;else for(let d in a)c[d]=a[d];o.current=null,this.ngOnChanges(a)}}function os(o,a,c,d){const h=this.declaredInputs[c],m=rc(o)||function mp(o,a){return o[yu]=a}(o,{previous:k,current:null}),y=m.current||(m.current={}),C=m.previous,x=C[h];y[h]=new ih(x&&x.currentValue,a,C===k),o[d]=a}oh.ngInherit=!0;const yu="__ngSimpleChanges__";function rc(o){return o[yu]||null}const Vn=function(o,a,c){};function fr(o){for(;Array.isArray(o);)o=o[Ir];return o}function Fs(o,a){return fr(a[o])}function Vr(o,a){return fr(a[o.index])}function oc(o,a){return o.data[a]}function Ar(o,a){const c=a[o];return oi(c)?c:c[Ir]}function ss(o){return 64==(64&o[Qt])}function Ao(o,a){return null==a?null:o[a]}function cl(o){o[As]=0}function ma(o,a){o[es]+=a;let c=o,d=o[kn];for(;null!==d&&(1===a&&1===c[es]||-1===a&&0===c[es]);)d[es]+=a,c=d,d=d[kn]}const Ft={lFrame:hl(null),bindingsEnabled:!0};function ah(){return Ft.bindingsEnabled}function ye(){return Ft.lFrame.lView}function Bt(){return Ft.lFrame.tView}function Eu(o){return Ft.lFrame.contextLView=o,o[Wn]}function ul(o){return Ft.lFrame.contextLView=null,o}function tr(){let o=ch();for(;null!==o&&64===o.type;)o=o.parent;return o}function ch(){return Ft.lFrame.currentTNode}function Vi(o,a){const c=Ft.lFrame;c.currentTNode=o,c.isParent=a}function ac(){return Ft.lFrame.isParent}function uh(){Ft.lFrame.isParent=!1}function Mo(){return Ft.lFrame.bindingIndex++}function ao(o){const a=Ft.lFrame,c=a.bindingIndex;return a.bindingIndex=a.bindingIndex+o,c}function fh(o,a){const c=Ft.lFrame;c.bindingIndex=c.bindingRootIndex=o,nr(a)}function nr(o){Ft.lFrame.currentDirectiveIndex=o}function lc(o){const a=Ft.lFrame.currentDirectiveIndex;return-1===a?null:o[a]}function dl(){return Ft.lFrame.currentQueryIndex}function ph(o){Ft.lFrame.currentQueryIndex=o}function cc(o){const a=o[tt];return 2===a.type?a.declTNode:1===a.type?o[Tr]:null}function mh(o,a,c){if(c&_t.SkipSelf){let h=a,m=o;for(;!(h=h.parent,null!==h||c&_t.Host||(h=cc(m),null===h||(m=m[Io],10&h.type))););if(null===h)return!1;a=h,o=m}const d=Ft.lFrame=Cu();return d.currentTNode=a,d.lView=o,!0}function ya(o){const a=Cu(),c=o[tt];Ft.lFrame=a,a.currentTNode=c.firstChild,a.lView=o,a.tView=c,a.contextLView=o,a.bindingIndex=c.bindingStartIndex,a.inI18n=!1}function Cu(){const o=Ft.lFrame,a=null===o?null:o.child;return null===a?hl(o):a}function hl(o){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=a),a}function Du(){const o=Ft.lFrame;return Ft.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const uc=Du;function gh(){const o=Du();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function Yr(){return Ft.lFrame.selectedIndex}function lo(o){Ft.lFrame.selectedIndex=o}function On(){const o=Ft.lFrame;return oc(o.tView,o.selectedIndex)}function dc(o,a){for(let c=a.directiveStart,d=a.directiveEnd;c<d;c++){const m=o.data[c].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:C,ngAfterViewInit:x,ngAfterViewChecked:T,ngOnDestroy:O}=m;y&&(o.contentHooks??(o.contentHooks=[])).push(-c,y),C&&((o.contentHooks??(o.contentHooks=[])).push(c,C),(o.contentCheckHooks??(o.contentCheckHooks=[])).push(c,C)),x&&(o.viewHooks??(o.viewHooks=[])).push(-c,x),T&&((o.viewHooks??(o.viewHooks=[])).push(c,T),(o.viewCheckHooks??(o.viewCheckHooks=[])).push(c,T)),null!=O&&(o.destroyHooks??(o.destroyHooks=[])).push(c,O)}}function Tu(o,a,c){hc(o,a,3,c)}function bh(o,a,c,d){(3&o[Qt])===c&&hc(o,a,c,d)}function wh(o,a){let c=o[Qt];(3&c)===a&&(c&=2047,c+=1,o[Qt]=c)}function hc(o,a,c,d){const m=d??-1,y=a.length-1;let C=0;for(let x=void 0!==d?65535&o[As]:0;x<y;x++)if("number"==typeof a[x+1]){if(C=a[x],null!=d&&C>=d)break}else a[x]<0&&(o[As]+=65536),(C<m||-1==m)&&(ba(o,c,a,x),o[As]=(4294901760&o[As])+x+2),x++}function ba(o,a,c,d){const h=c[d]<0,m=c[d+1],C=o[h?-c[d]:c[d]];if(h){if(o[Qt]>>11<o[As]>>16&&(3&o[Qt])===a){o[Qt]+=2048,Vn(4,C,m);try{m.call(C)}finally{Vn(5,C,m)}}}else{Vn(4,C,m);try{m.call(C)}finally{Vn(5,C,m)}}}const fl=-1;class Ro{constructor(a,c,d){this.factory=a,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=d}}function wa(o,a,c){let d=0;for(;d<c.length;){const h=c[d];if("number"==typeof h){if(0!==h)break;d++;const m=c[d++],y=c[d++],C=c[d++];o.setAttribute(a,y,C,m)}else{const m=h,y=c[++d];cs(m)?o.setProperty(a,m,y):o.setAttribute(a,m,y),d++}}return d}function Ch(o){return 3===o||4===o||6===o}function cs(o){return 64===o.charCodeAt(0)}function Ls(o,a){if(null!==a&&0!==a.length)if(null===o||0===o.length)o=a.slice();else{let c=-1;for(let d=0;d<a.length;d++){const h=a[d];"number"==typeof h?c=h:0===c||Ea(o,c,h,null,-1===c||2===c?a[++d]:null)}}return o}function Ea(o,a,c,d,h){let m=0,y=o.length;if(-1===a)y=-1;else for(;m<o.length;){const C=o[m++];if("number"==typeof C){if(C===a){y=-1;break}if(C>a){y=m-1;break}}}for(;m<o.length;){const C=o[m];if("number"==typeof C)break;if(C===c){if(null===d)return void(null!==h&&(o[m+1]=h));if(d===o[m+1])return void(o[m+2]=h)}m++,null!==d&&m++,null!==h&&m++}-1!==y&&(o.splice(y,0,a),m=y+1),o.splice(m++,0,c),null!==d&&o.splice(m++,0,d),null!==h&&o.splice(m++,0,h)}function Vs(o){return o!==fl}function Ca(o){return 32767&o}function gl(o,a){let c=function ml(o){return o>>16}(o),d=a;for(;c>0;)d=d[Io],c--;return d}let Au=!0;function _l(o){const a=Au;return Au=o,a}const Mu=255,mc=5;let Ru=0;const ai={};function ku(o,a){const c=xh(o,a);if(-1!==c)return c;const d=a[tt];d.firstCreatePass&&(o.injectorIndex=a.length,co(d.data,o),co(a,null),co(d.blueprint,null));const h=rr(o,a),m=o.injectorIndex;if(Vs(h)){const y=Ca(h),C=gl(h,a),x=C[tt].data;for(let T=0;T<8;T++)a[m+T]=C[y+T]|x[y+T]}return a[m+8]=h,m}function co(o,a){o.push(0,0,0,0,0,0,0,0,a)}function xh(o,a){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===a[o.injectorIndex+8]?-1:o.injectorIndex}function rr(o,a){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let c=0,d=null,h=a;for(;null!==h;){if(d=Bs(h),null===d)return fl;if(c++,h=h[Io],-1!==d.injectorIndex)return d.injectorIndex|c<<16}return fl}function us(o,a,c){!function Dh(o,a,c){let d;"string"==typeof c?d=c.charCodeAt(0)||0:c.hasOwnProperty(Rt)&&(d=c[Rt]),null==d&&(d=c[Rt]=Ru++);const h=d&Mu;a.data[o+(h>>mc)]|=1<<h}(o,a,c)}function Ih(o,a,c){if(c&_t.Optional||void 0!==o)return o;ze()}function yl(o,a,c,d){if(c&_t.Optional&&void 0===d&&(d=null),!(c&(_t.Self|_t.Host))){const h=o[rl],m=Qn(void 0);try{return h?h.get(a,d,c&_t.Optional):Wr(a,d,c&_t.Optional)}finally{Qn(m)}}return Ih(d,0,c)}function Th(o,a,c,d=_t.Default,h){if(null!==o){if(1024&a[Qt]){const y=function wp(o,a,c,d,h){let m=o,y=a;for(;null!==m&&null!==y&&1024&y[Qt]&&!(256&y[Qt]);){const C=_c(m,y,c,d|_t.Self,ai);if(C!==ai)return C;let x=m.parent;if(!x){const T=y[Sr];if(T){const O=T.get(c,ai,d);if(O!==ai)return O}x=Bs(y),y=y[Io]}m=x}return h}(o,a,c,d,ai);if(y!==ai)return y}const m=_c(o,a,c,d,ai);if(m!==ai)return m}return yl(a,c,d,h)}function _c(o,a,c,d,h){const m=function bp(o){if("string"==typeof o)return o.charCodeAt(0)||0;const a=o.hasOwnProperty(Rt)?o[Rt]:void 0;return"number"==typeof a?a>=0?a&Mu:Ou:a}(c);if("function"==typeof m){if(!mh(a,o,d))return d&_t.Host?Ih(h,0,d):yl(a,c,d,h);try{const y=m(d);if(null!=y||d&_t.Optional)return y;ze()}finally{uc()}}else if("number"==typeof m){let y=null,C=xh(o,a),x=fl,T=d&_t.Host?a[hr][Tr]:null;for((-1===C||d&_t.SkipSelf)&&(x=-1===C?rr(o,a):a[C+8],x!==fl&&yc(d,!1)?(y=a[tt],C=Ca(x),a=gl(x,a)):C=-1);-1!==C;){const O=a[tt];if(ds(m,C,O.data)){const H=pr(C,a,c,y,d,T);if(H!==ai)return H}x=a[C+8],x!==fl&&yc(d,a[tt].data[C+8]===T)&&ds(m,C,a)?(y=O,C=Ca(x),a=gl(x,a)):C=-1}}return h}function pr(o,a,c,d,h,m){const y=a[tt],C=y.data[o+8],O=Da(C,y,c,null==d?tc(C)&&Au:d!=y&&0!=(3&C.type),h&_t.Host&&m===C);return null!==O?Bn(a,y,O,C):ai}function Da(o,a,c,d,h){const m=o.providerIndexes,y=a.data,C=1048575&m,x=o.directiveStart,O=m>>20,Q=h?C+O:o.directiveEnd;for(let se=d?C:C+O;se<Q;se++){const De=y[se];if(se<x&&c===De||se>=x&&De.type===c)return se}if(h){const se=y[x];if(se&&gi(se)&&se.type===c)return x}return null}function Bn(o,a,c,d){let h=o[c];const m=a.data;if(function ag(o){return o instanceof Ro}(h)){const y=h;y.resolving&&function Se(o,a){const c=a?`. Dependency path: ${a.join(" > ")} > ${o}`:"";throw new we(-200,`Circular dependency in DI detected for ${o}${c}`)}(function He(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():Fe(o)}(m[c]));const C=_l(y.canSeeViewProviders);y.resolving=!0;const x=y.injectImpl?Qn(y.injectImpl):null;mh(o,d,_t.Default);try{h=o[c]=y.factory(void 0,m,o,d),a.firstCreatePass&&c>=d.directiveStart&&function sg(o,a,c){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:m}=a.type.prototype;if(d){const y=nc(a);(c.preOrderHooks??(c.preOrderHooks=[])).push(o,y),(c.preOrderCheckHooks??(c.preOrderCheckHooks=[])).push(o,y)}h&&(c.preOrderHooks??(c.preOrderHooks=[])).push(0-o,h),m&&((c.preOrderHooks??(c.preOrderHooks=[])).push(o,m),(c.preOrderCheckHooks??(c.preOrderCheckHooks=[])).push(o,m))}(c,m[c],a)}finally{null!==x&&Qn(x),_l(C),y.resolving=!1,uc()}}return h}function ds(o,a,c){return!!(c[a+(o>>mc)]&1<<o)}function yc(o,a){return!(o&_t.Self||o&_t.Host&&a)}class xa{constructor(a,c){this._tNode=a,this._lView=c}get(a,c,d){return Th(this._tNode,this._lView,a,Pr(d),c)}}function Ou(){return new xa(tr(),ye())}function Nu(o){return z(()=>{const a=o.prototype.constructor,c=a[Yt]||hs(a),d=Object.prototype;let h=Object.getPrototypeOf(o.prototype).constructor;for(;h&&h!==d;){const m=h[Yt]||hs(h);if(m&&m!==c)return m;h=Object.getPrototypeOf(h)}return m=>new m})}function hs(o){return je(o)?()=>{const a=hs(te(o));return a&&a()}:So(o)}function Bs(o){const a=o[tt],c=a.type;return 2===c?a.declTNode:1===c?o[Tr]:null}function vl(o){return function gc(o,a){if("class"===a)return o.classes;if("style"===a)return o.styles;const c=o.attrs;if(c){const d=c.length;let h=0;for(;h<d;){const m=c[h];if(Ch(m))break;if(0===m)h+=2;else if("number"==typeof m)for(h++;h<d&&"string"==typeof c[h];)h++;else{if(m===a)return c[h+1];h+=2}}}return null}(tr(),o)}const Hs="__parameters__";function js(o,a,c){return z(()=>{const d=function Sh(o){return function(...c){if(o){const d=o(...c);for(const h in d)this[h]=d[h]}}}(a);function h(...m){if(this instanceof h)return d.apply(this,m),this;const y=new h(...m);return C.annotation=y,C;function C(x,T,O){const H=x.hasOwnProperty(Hs)?x[Hs]:Object.defineProperty(x,Hs,{value:[]})[Hs];for(;H.length<=O;)H.push(null);return(H[O]=H[O]||[]).push(y),x}}return c&&(h.prototype=Object.create(c.prototype)),h.prototype.ngMetadataName=o,h.annotationCls=h,h})}class cn{constructor(a,c){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=dt({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function fs(o,a){o.forEach(c=>Array.isArray(c)?fs(c,a):a(c))}function Uu(o,a,c){a>=o.length?o.push(c):o.splice(a,0,c)}function bl(o,a){return a>=o.length-1?o.pop():o.splice(a,1)[0]}function Ia(o,a){const c=[];for(let d=0;d<o;d++)c.push(a);return c}function Bi(o,a,c){let d=Un(o,a);return d>=0?o[1|d]=c:(d=~d,function wl(o,a,c,d){let h=o.length;if(h==a)o.push(c,d);else if(1===h)o.push(d,o[0]),o[0]=c;else{for(h--,o.push(o[h-1],o[h]);h>a;)o[h]=o[h-2],h--;o[a]=c,o[a+1]=d}}(o,d,a,c)),d}function uo(o,a){const c=Un(o,a);if(c>=0)return o[1|c]}function Un(o,a){return function Oo(o,a,c){let d=0,h=o.length>>c;for(;h!==d;){const m=d+(h-d>>1),y=o[m<<c];if(a===y)return m<<c;y>a?h=m:d=m+1}return~(h<<c)}(o,a,1)}const El=ri(js("Inject",o=>({token:o})),-1),ct=ri(js("Optional"),8),ho=ri(js("SkipSelf"),4);var Qi=(()=>((Qi=Qi||{})[Qi.Important=1]="Important",Qi[Qi.DashCase=2]="DashCase",Qi))();const Ic=new Map;let Lh=0;const K="__ngContext__";function X(o,a){oi(a)?(o[K]=a[Ms],function Wu(o){Ic.set(o[Ms],o)}(a)):o[K]=a}let yi;function Ti(o,a){return yi(o,a)}function Zu(o){const a=o[kn];return Wi(a)?a[kn]:a}function Tl(o){return Ku(o[Pi])}function Hh(o){return Ku(o[vn])}function Ku(o){for(;null!==o&&!Wi(o);)o=o[vn];return o}function Oa(o,a,c,d,h){if(null!=d){let m,y=!1;Wi(d)?m=d:oi(d)&&(y=!0,d=d[Ir]);const C=fr(d);0===o&&null!==c?null==h?ci(a,c,C):Gt(a,c,C,h||null,!0):1===o&&null!==c?Gt(a,c,C,h||null,!0):2===o?function Zh(o,a,c){const d=Sl(o,a);d&&function zh(o,a,c,d){o.removeChild(a,c,d)}(o,d,a,c)}(a,C,y):3===o&&a.destroyNode(C),null!=m&&function dw(o,a,c,d,h){const m=c[da];m!==fr(c)&&Oa(a,o,d,m,h);for(let C=Lr;C<c.length;C++){const x=c[C];Ml(x[tt],x,o,a,d,m)}}(a,o,m,c,h)}}function Mc(o,a,c){return o.createElement(a,c)}function E(o,a){const c=o[Rs],d=c.indexOf(a),h=a[kn];512&a[Qt]&&(a[Qt]&=-513,ma(h,-1)),c.splice(d,1)}function R(o,a){if(o.length<=Lr)return;const c=Lr+a,d=o[c];if(d){const h=d[Ss];null!==h&&h!==o&&E(h,d),a>0&&(o[c-1][vn]=d[vn]);const m=bl(o,Lr+a);!function jh(o,a){Ml(o,a,a[Wt],2,null,null),a[Ir]=null,a[Tr]=null}(d[tt],d);const y=m[xi];null!==y&&y.detachView(m[tt]),d[kn]=null,d[vn]=null,d[Qt]&=-65}return d}function N(o,a){if(!(128&a[Qt])){const c=a[Wt];c.destroyNode&&Ml(o,a,c,3,null,null),function v(o){let a=o[Pi];if(!a)return J(o[tt],o);for(;a;){let c=null;if(oi(a))c=a[Pi];else{const d=a[Lr];d&&(c=d)}if(!c){for(;a&&!a[vn]&&a!==o;)oi(a)&&J(a[tt],a),a=a[kn];null===a&&(a=o),oi(a)&&J(a[tt],a),c=a&&a[vn]}a=c}}(a)}}function J(o,a){if(!(128&a[Qt])){a[Qt]&=-65,a[Qt]|=128,function Ge(o,a){let c;if(null!=o&&null!=(c=o.destroyHooks))for(let d=0;d<c.length;d+=2){const h=a[c[d]];if(!(h instanceof Ro)){const m=c[d+1];if(Array.isArray(m))for(let y=0;y<m.length;y+=2){const C=h[m[y]],x=m[y+1];Vn(4,C,x);try{x.call(C)}finally{Vn(5,C,x)}}else{Vn(4,h,m);try{m.call(h)}finally{Vn(5,h,m)}}}}}(o,a),function pe(o,a){const c=o.cleanup,d=a[nl];let h=-1;if(null!==c)for(let m=0;m<c.length-1;m+=2)if("string"==typeof c[m]){const y=c[m+3];y>=0?d[h=y]():d[h=-y].unsubscribe(),m+=2}else{const y=d[h=c[m+1]];c[m].call(y)}if(null!==d){for(let m=h+1;m<d.length;m++)(0,d[m])();a[nl]=null}}(o,a),1===a[tt].type&&a[Wt].destroy();const c=a[Ss];if(null!==c&&Wi(a[kn])){c!==a[kn]&&E(c,a);const d=a[xi];null!==d&&d.detachView(o)}!function Ac(o){Ic.delete(o[Ms])}(a)}}function Xe(o,a,c){return function yt(o,a,c){let d=a;for(;null!==d&&40&d.type;)d=(a=d).parent;if(null===d)return c[Ir];{const{componentOffset:h}=d;if(h>-1){const{encapsulation:m}=o.data[d.directiveStart+h];if(m===L.None||m===L.Emulated)return null}return Vr(d,c)}}(o,a.parent,c)}function Gt(o,a,c,d,h){o.insertBefore(a,c,d,h)}function ci(o,a,c){o.appendChild(a,c)}function _s(o,a,c,d,h){null!==d?Gt(o,a,c,d,h):ci(o,a,c)}function Sl(o,a){return o.parentNode(a)}function $h(o,a,c){return Sp(o,a,c)}let Gh,Mp,Xu,Kh,Sp=function Al(o,a,c){return 40&o.type?Vr(o,c):null};function Ju(o,a,c,d){const h=Xe(o,d,a),m=a[Wt],C=$h(d.parent||a[Tr],d,a);if(null!=h)if(Array.isArray(c))for(let x=0;x<c.length;x++)_s(m,h,c[x],C,!1);else _s(m,h,c,C,!1);void 0!==Gh&&Gh(m,d,a,c,h)}function qh(o,a){if(null!==a){const c=a.type;if(3&c)return Vr(a,o);if(4&c)return Wh(-1,o[a.index]);if(8&c){const d=a.child;if(null!==d)return qh(o,d);{const h=o[a.index];return Wi(h)?Wh(-1,h):fr(h)}}if(32&c)return Ti(a,o)()||fr(o[a.index]);{const d=ys(o,a);return null!==d?Array.isArray(d)?d[0]:qh(Zu(o[hr]),d):qh(o,a.next)}}return null}function ys(o,a){return null!==a?o[hr][Tr].projection[a.projection]:null}function Wh(o,a){const c=Lr+o+1;if(c<a.length){const d=a[c],h=d[tt].firstChild;if(null!==h)return qh(d,h)}return a[da]}function cg(o,a,c,d,h,m,y){for(;null!=c;){const C=d[c.index],x=c.type;if(y&&0===a&&(C&&X(fr(C),d),c.flags|=2),32!=(32&c.flags))if(8&x)cg(o,a,c.child,d,h,m,!1),Oa(a,o,h,C,m);else if(32&x){const T=Ti(c,d);let O;for(;O=T();)Oa(a,o,h,O,m);Oa(a,o,h,C,m)}else 16&x?Hi(o,a,d,c,h,m):Oa(a,o,h,C,m);c=y?c.projectionNext:c.next}}function Ml(o,a,c,d,h,m){cg(c,d,o.firstChild,a,h,m,!1)}function Hi(o,a,c,d,h,m){const y=c[hr],x=y[Tr].projection[d.projection];if(Array.isArray(x))for(let T=0;T<x.length;T++)Oa(a,o,h,x[T],m);else cg(o,a,x,y[kn],h,m,!0)}function Zy(o,a,c){""===c?o.removeAttribute(a,"class"):o.setAttribute(a,"class",c)}function dg(o,a,c){const{mergedAttrs:d,classes:h,styles:m}=c;null!==d&&wa(o,a,d),null!==h&&Zy(o,a,h),null!==m&&function ug(o,a,c){o.setAttribute(a,"style",c)}(o,a,m)}function Na(o){return function hg(){if(void 0===Mp&&(Mp=null,fn.trustedTypes))try{Mp=fn.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return Mp}()?.createHTML(o)||o}function fw(o){Xu=o}function Yh(){if(void 0===Kh&&(Kh=null,fn.trustedTypes))try{Kh=fn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return Kh}function pg(o){return Yh()?.createHTML(o)||o}function Jy(o){return Yh()?.createScriptURL(o)||o}class Rc{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${at})`}}class lI extends Rc{getTypeName(){return"HTML"}}class Rp extends Rc{getTypeName(){return"Style"}}class mw extends Rc{getTypeName(){return"Script"}}class mg extends Rc{getTypeName(){return"URL"}}class kp extends Rc{getTypeName(){return"ResourceURL"}}function Ji(o){return o instanceof Rc?o.changingThisBreaksApplicationSecurity:o}function kc(o,a){const c=function cI(o){return o instanceof Rc&&o.getTypeName()||null}(o);if(null!=c&&c!==a){if("ResourceURL"===c&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${c} (see ${at})`)}return c===a}function uI(o){return new lI(o)}function gw(o){return new Rp(o)}function _w(o){return new mw(o)}function dI(o){return new mg(o)}function ed(o){return new kp(o)}class gg{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const c=(new window.DOMParser).parseFromString(Na(a),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(a):(c.removeChild(c.firstChild),c)}catch{return null}}}class _g{constructor(a){this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(a){const c=this.inertDocument.createElement("template");return c.innerHTML=Na(a),c}}const ir=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function td(o){return(o=String(o)).match(ir)?o:"unsafe:"+o}function Bo(o){const a={};for(const c of o.split(","))a[c]=!0;return a}function Rl(...o){const a={};for(const c of o)for(const d in c)c.hasOwnProperty(d)&&(a[d]=!0);return a}const vw=Bo("area,br,col,hr,img,wbr"),Xy=Bo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),bw=Bo("rp,rt"),nd=Rl(vw,Rl(Xy,Bo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Rl(bw,Bo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Rl(bw,Xy)),Pa=Bo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ev=Rl(Pa,Bo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Bo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Qh=Bo("script,style,template");class pI{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let c=a.firstChild,d=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?d=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,d&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let h=this.checkClobberedElement(c,c.nextSibling);if(h){c=h;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(a){const c=a.nodeName.toLowerCase();if(!nd.hasOwnProperty(c))return this.sanitizedSomething=!0,!Qh.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const d=a.attributes;for(let h=0;h<d.length;h++){const m=d.item(h),y=m.name,C=y.toLowerCase();if(!ev.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let x=m.value;Pa[C]&&(x=td(x)),this.buf.push(" ",y,'="',Ew(x),'"')}return this.buf.push(">"),!0}endElement(a){const c=a.nodeName.toLowerCase();nd.hasOwnProperty(c)&&!vw.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(a){this.buf.push(Ew(a))}checkClobberedElement(a,c){if(c&&(a.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`);return c}}const mI=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ww=/([^\#-~ |!])/g;function Ew(o){return o.replace(/&/g,"&amp;").replace(mI,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(ww,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Op;function tv(o,a){let c=null;try{Op=Op||function Fa(o){const a=new _g(o);return function yw(){try{return!!(new window.DOMParser).parseFromString(Na(""),"text/html")}catch{return!1}}()?new gg(a):a}(o);let d=a?String(a):"";c=Op.getInertBodyElement(d);let h=5,m=d;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,d=m,m=c.innerHTML,c=Op.getInertBodyElement(d)}while(d!==m);return Na((new pI).sanitizeChildren(Np(c)||c))}finally{if(c){const d=Np(c)||c;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function Np(o){return"content"in o&&function nv(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var kr=(()=>((kr=kr||{})[kr.NONE=0]="NONE",kr[kr.HTML=1]="HTML",kr[kr.STYLE=2]="STYLE",kr[kr.SCRIPT=3]="SCRIPT",kr[kr.URL=4]="URL",kr[kr.RESOURCE_URL=5]="RESOURCE_URL",kr))();function rv(o){const a=kl();return a?pg(a.sanitize(kr.HTML,o)||""):kc(o,"HTML")?pg(Ji(o)):tv(function pw(){return void 0!==Xu?Xu:typeof document<"u"?document:void 0}(),Fe(o))}function Cw(o){const a=kl();return a?a.sanitize(kr.URL,o)||"":kc(o,"URL")?Ji(o):td(Fe(o))}function Dw(o){const a=kl();if(a)return Jy(a.sanitize(kr.RESOURCE_URL,o)||"");if(kc(o,"ResourceURL"))return Jy(Ji(o));throw new we(904,!1)}function bg(o,a,c){return function vg(o,a){return"src"===a&&("embed"===o||"frame"===o||"iframe"===o||"media"===o||"script"===o)||"href"===a&&("base"===o||"link"===o)?Dw:Cw}(a,c)(o)}function kl(){const o=ye();return o&&o[ec]}const iv=new cn("ENVIRONMENT_INITIALIZER"),vr=new cn("INJECTOR",-1),ov=new cn("INJECTOR_DEF_TYPES");class xw{get(a,c=Jn){if(c===Jn){const d=new Error(`NullInjectorError: No provider for ${Ee(a)}!`);throw d.name="NullInjectorError",d}return c}}function vI(o){return{\u0275providers:o}}function bI(...o){return{\u0275providers:sv(0,o),\u0275fromNgModule:!0}}function sv(o,...a){const c=[],d=new Set;let h;return fs(a,m=>{const y=m;Eg(y,c,[],d)&&(h||(h=[]),h.push(y))}),void 0!==h&&av(h,c),c}function av(o,a){for(let c=0;c<o.length;c++){const{providers:h}=o[c];Cg(h,m=>{a.push(m)})}}function Eg(o,a,c,d){if(!(o=te(o)))return!1;let h=null,m=Fn(o);const y=!m&&Et(o);if(m||y){if(y&&!y.standalone)return!1;h=o}else{const x=o.ngModule;if(m=Fn(x),!m)return!1;h=x}const C=d.has(h);if(y){if(C)return!1;if(d.add(h),y.dependencies){const x="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const T of x)Eg(T,a,c,d)}}else{if(!m)return!1;{if(null!=m.imports&&!C){let T;d.add(h);try{fs(m.imports,O=>{Eg(O,a,c,d)&&(T||(T=[]),T.push(O))})}finally{}void 0!==T&&av(T,a)}if(!C){const T=So(h)||(()=>new h);a.push({provide:h,useFactory:T,deps:Y},{provide:ov,useValue:h,multi:!0},{provide:iv,useValue:()=>zt(h),multi:!0})}const x=m.providers;null==x||C||Cg(x,O=>{a.push(O)})}}return h!==o&&void 0!==o.providers}function Cg(o,a){for(let c of o)Me(c)&&(c=c.\u0275providers),Array.isArray(c)?Cg(c,a):a(c)}const La=re({provide:String,useValue:re});function Dg(o){return null!==o&&"object"==typeof o&&La in o}function Ol(o){return"function"==typeof o}const xg=new cn("Set Injector scope."),Jh={},Ig={};let Tg;function rd(){return void 0===Tg&&(Tg=new xw),Tg}class id{}class uv extends id{get destroyed(){return this._destroyed}constructor(a,c,d,h){super(),this.parent=c,this.source=d,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Mg(a,y=>this.processProvider(y)),this.records.set(vr,Oc(void 0,this)),h.has("environment")&&this.records.set(id,Oc(void 0,this));const m=this.records.get(xg);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(ov.multi,Y,_t.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();for(const a of this._onDestroyHooks)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(a){this._onDestroyHooks.push(a)}runInContext(a){this.assertNotDestroyed();const c=on(this),d=Qn(void 0);try{return a()}finally{on(c),Qn(d)}}get(a,c=Jn,d=_t.Default){this.assertNotDestroyed(),d=Pr(d);const h=on(this),m=Qn(void 0);try{if(!(d&_t.SkipSelf)){let C=this.records.get(a);if(void 0===C){const x=function Mw(o){return"function"==typeof o||"object"==typeof o&&o instanceof cn}(a)&&sn(a);C=x&&this.injectableDefInScope(x)?Oc(od(a),Jh):null,this.records.set(a,C)}if(null!=C)return this.hydrate(a,C)}return(d&_t.Self?rd():this.parent).get(a,c=d&_t.Optional&&c===Jn?null:c)}catch(y){if("NullInjectorError"===y.name){if((y[Gn]=y[Gn]||[]).unshift(Ee(a)),h)throw y;return function ii(o,a,c,d){const h=o[Gn];throw a[Xt]&&h.unshift(a[Xt]),o.message=function G(o,a,c,d=null){o=o&&"\n"===o.charAt(0)&&o.charAt(1)==Cr?o.slice(2):o;let h=Ee(a);if(Array.isArray(a))h=a.map(Ee).join(" -> ");else if("object"==typeof a){let m=[];for(let y in a)if(a.hasOwnProperty(y)){let C=a[y];m.push(y+":"+("string"==typeof C?JSON.stringify(C):Ee(C)))}h=`{${m.join(", ")}}`}return`${c}${d?"("+d+")":""}[${h}]: ${o.replace(qn,"\n  ")}`}("\n"+o.message,h,c,d),o[fi]=h,o[Gn]=null,o}(y,a,"R3InjectorError",this.source)}throw y}finally{Qn(m),on(h)}}resolveInjectorInitializers(){const a=on(this),c=Qn(void 0);try{const d=this.get(iv.multi,Y,_t.Self);for(const h of d)h()}finally{on(a),Qn(c)}}toString(){const a=[],c=this.records;for(const d of c.keys())a.push(Ee(d));return`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new we(205,!1)}processProvider(a){let c=Ol(a=te(a))?a:te(a&&a.provide);const d=function Sw(o){return Dg(o)?Oc(void 0,o.useValue):Oc(Sg(o),Jh)}(a);if(Ol(a)||!0!==a.multi)this.records.get(c);else{let h=this.records.get(c);h||(h=Oc(void 0,Jh,!0),h.factory=()=>er(h.multi),this.records.set(c,h)),c=a,h.multi.push(a)}this.records.set(c,d)}hydrate(a,c){return c.value===Jh&&(c.value=Ig,c.value=c.factory()),"object"==typeof c.value&&c.value&&function Ag(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(c.value)&&this._ngOnDestroyHooks.add(c.value),c.value}injectableDefInScope(a){if(!a.providedIn)return!1;const c=te(a.providedIn);return"string"==typeof c?"any"===c||this.scopes.has(c):this.injectorDefTypes.has(c)}}function od(o){const a=sn(o),c=null!==a?a.factory:So(o);if(null!==c)return c;if(o instanceof cn)throw new we(204,!1);if(o instanceof Function)return function Tw(o){const a=o.length;if(a>0)throw Ia(a,"?"),new we(204,!1);const c=function ur(o){return o&&(o[Pn]||o[Di])||null}(o);return null!==c?()=>c.factory(o):()=>new o}(o);throw new we(204,!1)}function Sg(o,a,c){let d;if(Ol(o)){const h=te(o);return So(h)||od(h)}if(Dg(o))d=()=>te(o.useValue);else if(function cv(o){return!(!o||!o.useFactory)}(o))d=()=>o.useFactory(...er(o.deps||[]));else if(function Iw(o){return!(!o||!o.useExisting)}(o))d=()=>zt(te(o.useExisting));else{const h=te(o&&(o.useClass||o.provide));if(!function Aw(o){return!!o.deps}(o))return So(h)||od(h);d=()=>new h(...er(o.deps))}return d}function Oc(o,a,c=!1){return{factory:o,value:a,multi:c?[]:void 0}}function Mg(o,a){for(const c of o)Array.isArray(c)?Mg(c,a):c&&Me(c)?Mg(c.\u0275providers,a):a(c)}class sd{}class dv{}class Rg{resolveComponentFactory(a){throw function Rw(o){const a=Error(`No component factory found for ${Ee(o)}. Did you add it to @NgModule.entryComponents?`);return a.ngComponent=o,a}(a)}}let Si=(()=>{class o{}return o.NULL=new Rg,o})();function kw(){return ad(tr(),ye())}function ad(o,a){return new Va(Vr(o,a))}let Va=(()=>{class o{constructor(c){this.nativeElement=c}}return o.__NG_ELEMENT_ID__=kw,o})();function EI(o){return o instanceof Va?o.nativeElement:o}class vs{}let fv=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>function An(){const o=ye(),c=Ar(tr().index,o);return(oi(c)?c:o)[Wt]}(),o})(),CI=(()=>{class o{}return o.\u0275prov=dt({token:o,providedIn:"root",factory:()=>null}),o})();class kg{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const Ys=new kg("15.2.10"),Og={},Lp="ngOriginalError";function Vp(o){return o[Lp]}class ef{constructor(){this._console=console}handleError(a){const c=this._findOriginalError(a);this._console.error("ERROR",a),c&&this._console.error("ORIGINAL ERROR",c)}_findOriginalError(a){let c=a&&Vp(a);for(;c&&Vp(c);)c=Vp(c);return c||null}}function po(o){return o instanceof Function?o():o}function Fw(o,a,c){let d=o.length;for(;;){const h=o.indexOf(a,c);if(-1===h)return h;if(0===h||o.charCodeAt(h-1)<=32){const m=a.length;if(h+m===d||o.charCodeAt(h+m)<=32)return h}c=h+1}}const Up="ng-template";function TI(o,a,c){let d=0,h=!0;for(;d<o.length;){let m=o[d++];if("string"==typeof m&&h){const y=o[d++];if(c&&"class"===m&&-1!==Fw(y.toLowerCase(),a,0))return!0}else{if(1===m){for(;d<o.length&&"string"==typeof(m=o[d++]);)if(m.toLowerCase()===a)return!0;return!1}"number"==typeof m&&(h=!1)}}return!1}function Pw(o){return 4===o.type&&o.value!==Up}function tf(o,a,c){return a===(4!==o.type||c?o.value:Up)}function Lw(o,a,c){let d=4;const h=o.attrs||[],m=function SI(o){for(let a=0;a<o.length;a++)if(Ch(o[a]))return a;return o.length}(h);let y=!1;for(let C=0;C<a.length;C++){const x=a[C];if("number"!=typeof x){if(!y)if(4&d){if(d=2|1&d,""!==x&&!tf(o,x,c)||""===x&&1===a.length){if(Nn(d))return!1;y=!0}}else{const T=8&d?x:a[++C];if(8&d&&null!==o.attrs){if(!TI(o.attrs,T,c)){if(Nn(d))return!1;y=!0}continue}const H=nf(8&d?"class":x,h,Pw(o),c);if(-1===H){if(Nn(d))return!1;y=!0;continue}if(""!==T){let Q;Q=H>m?"":h[H+1].toLowerCase();const se=8&d?Q:null;if(se&&-1!==Fw(se,T,0)||2&d&&T!==Q){if(Nn(d))return!1;y=!0}}}}else{if(!y&&!Nn(d)&&!Nn(x))return!1;if(y&&Nn(x))continue;y=!1,d=x|1&d}}return Nn(d)||y}function Nn(o){return 0==(1&o)}function nf(o,a,c,d){if(null===a)return-1;let h=0;if(d||!c){let m=!1;for(;h<a.length;){const y=a[h];if(y===o)return h;if(3===y||6===y)m=!0;else{if(1===y||2===y){let C=a[++h];for(;"string"==typeof C;)C=a[++h];continue}if(4===y)break;if(0===y){h+=4;continue}}h+=m?1:2}return-1}return function Ue(o,a){let c=o.indexOf(4);if(c>-1)for(c++;c<o.length;){const d=o[c];if("number"==typeof d)return-1;if(d===a)return c;c++}return-1}(a,o)}function Fl(o,a,c=!1){for(let d=0;d<a.length;d++)if(Lw(o,a[d],c))return!0;return!1}function jr(o,a){e:for(let c=0;c<a.length;c++){const d=a[c];if(o.length===d.length){for(let h=0;h<o.length;h++)if(o[h]!==d[h])continue e;return!0}}return!1}function Uo(o,a){return o?":not("+a.trim()+")":a}function mv(o){let a=o[0],c=1,d=2,h="",m=!1;for(;c<o.length;){let y=o[c];if("string"==typeof y)if(2&d){const C=o[++c];h+="["+y+(C.length>0?'="'+C+'"':"")+"]"}else 8&d?h+="."+y:4&d&&(h+=" "+y);else""!==h&&!Nn(y)&&(a+=Uo(m,h),h=""),d=y,m=m||!Nn(d);c++}return""!==h&&(a+=Uo(m,h)),a}const tn={};function et(o){me(Bt(),ye(),Yr()+o,!1)}function me(o,a,c,d){if(!d)if(3==(3&a[Qt])){const m=o.preOrderCheckHooks;null!==m&&Tu(a,m,c)}else{const m=o.preOrderHooks;null!==m&&bh(a,m,0,c)}lo(c)}function Hw(o,a=null,c=null,d){const h=OI(o,a,c,d);return h.resolveInjectorInitializers(),h}function OI(o,a=null,c=null,d,h=new Set){const m=[c||Y,bI(o)];return d=d||("object"==typeof o?void 0:Ee(o)),new uv(m,a||rd(),d||null,h)}let cd=(()=>{class o{static create(c,d){if(Array.isArray(c))return Hw({name:""},d,c,"");{const h=c.name??"";return Hw({name:h},c.parent,c.providers,h)}}}return o.THROW_IF_NOT_FOUND=Jn,o.NULL=new xw,o.\u0275prov=dt({token:o,providedIn:"any",factory:()=>zt(vr)}),o.__NG_ELEMENT_ID__=-1,o})();function zo(o,a=_t.Default){const c=ye();return null===c?zt(o,a):Th(tr(),c,te(o),a)}function Kw(){throw new Error("invalid")}function bv(o,a){const c=o.contentQueries;if(null!==c)for(let d=0;d<c.length;d+=2){const m=c[d+1];if(-1!==m){const y=o.data[m];ph(c[d]),y.contentQueries(2,a[m],m)}}}function jg(o,a,c,d,h,m,y,C,x,T,O){const H=a.blueprint.slice();return H[Ir]=h,H[Qt]=76|d,(null!==O||o&&1024&o[Qt])&&(H[Qt]|=1024),cl(H),H[kn]=H[Io]=o,H[Wn]=c,H[mi]=y||o&&o[mi],H[Wt]=C||o&&o[Wt],H[ec]=x||o&&o[ec]||null,H[rl]=T||o&&o[rl]||null,H[Tr]=m,H[Ms]=function Tc(){return Lh++}(),H[Sr]=O,H[hr]=2==a.type?o[hr]:H,H}function vi(o,a,c,d,h){let m=o.data[a];if(null===m)m=function dd(o,a,c,d,h){const m=ch(),y=ac(),x=o.data[a]=function VI(o,a,c,d,h,m){return{type:c,index:d,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?m:m&&m.parent,c,a,d,h);return null===o.firstChild&&(o.firstChild=x),null!==m&&(y?null==m.child&&null!==x.parent&&(m.child=x):null===m.next&&(m.next=x,x.prev=m)),x}(o,a,c,d,h),function hh(){return Ft.lFrame.inI18n}()&&(m.flags|=32);else if(64&m.type){m.type=c,m.value=d,m.attrs=h;const y=function ga(){const o=Ft.lFrame,a=o.currentTNode;return o.isParent?a:a.parent}();m.injectorIndex=null===y?-1:y.injectorIndex}return Vi(m,!0),m}function Vl(o,a,c,d){if(0===c)return-1;const h=a.length;for(let m=0;m<c;m++)a.push(d),o.blueprint.push(d),o.data.push(null);return h}function zg(o,a,c){ya(a);try{const d=o.viewQuery;null!==d&&pd(1,d,c);const h=o.template;null!==h&&Yw(o,a,h,1,c),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&bv(o,a),o.staticViewQueries&&pd(2,o.viewQuery,c);const m=o.components;null!==m&&function FI(o,a){for(let c=0;c<a.length;c++)WI(o,a[c])}(a,m)}catch(d){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),d}finally{a[Qt]&=-5,gh()}}function di(o,a,c,d){const h=a[Qt];if(128!=(128&h)){ya(a);try{cl(a),function ls(o){return Ft.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==c&&Yw(o,a,c,2,d);const y=3==(3&h);if(y){const T=o.preOrderCheckHooks;null!==T&&Tu(a,T,null)}else{const T=o.preOrderHooks;null!==T&&bh(a,T,0,null),wh(a,0)}if(function sE(o){for(let a=Tl(o);null!==a;a=Hh(a)){if(!a[il])continue;const c=a[Rs];for(let d=0;d<c.length;d++){const h=c[d];512&h[Qt]||ma(h[kn],1),h[Qt]|=512}}}(a),function mo(o){for(let a=Tl(o);null!==a;a=Hh(a))for(let c=Lr;c<a.length;c++){const d=a[c],h=d[tt];ss(d)&&di(h,d,h.template,d[Wn])}}(a),null!==o.contentQueries&&bv(o,a),y){const T=o.contentCheckHooks;null!==T&&Tu(a,T)}else{const T=o.contentHooks;null!==T&&bh(a,T,1),wh(a,1)}!function ud(o,a){const c=o.hostBindingOpCodes;if(null!==c)try{for(let d=0;d<c.length;d++){const h=c[d];if(h<0)lo(~h);else{const m=h,y=c[++d],C=c[++d];fh(y,m),C(2,a[m])}}}finally{lo(-1)}}(o,a);const C=o.components;null!==C&&function wv(o,a){for(let c=0;c<a.length;c++)qI(o,a[c])}(a,C);const x=o.viewQuery;if(null!==x&&pd(2,x,d),y){const T=o.viewCheckHooks;null!==T&&Tu(a,T)}else{const T=o.viewHooks;null!==T&&bh(a,T,2),wh(a,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),a[Qt]&=-41,512&a[Qt]&&(a[Qt]&=-513,ma(a[kn],-1))}finally{gh()}}}function Yw(o,a,c,d,h){const m=Yr(),y=2&d;try{lo(-1),y&&a.length>Cn&&me(o,a,Cn,!1),Vn(y?2:0,h),c(d,h)}finally{lo(m),Vn(y?3:1,h)}}function $g(o,a,c){if(ks(a)){const h=a.directiveEnd;for(let m=a.directiveStart;m<h;m++){const y=o.data[m];y.contentQueries&&y.contentQueries(1,c[m],m)}}}function ws(o,a,c){ah()&&(function $I(o,a,c,d){const h=c.directiveStart,m=c.directiveEnd;tc(c)&&function Kn(o,a,c){const d=Vr(a,o),h=jp(c),m=o[mi],y=sr(o,jg(o,h,null,c.onPush?32:16,d,a,m,m.createRenderer(d,c),null,null,null));o[a.index]=y}(a,c,o.data[h+c.componentOffset]),o.firstCreatePass||ku(c,a),X(d,a);const y=c.initialInputs;for(let C=h;C<m;C++){const x=o.data[C],T=Bn(a,o,C,c);X(T,a),null!==y&&or(0,C-h,T,x,0,y),gi(x)&&(Ar(c.index,a)[Wn]=Bn(a,o,C,c))}}(o,a,c,Vr(c,a)),64==(64&c.flags)&&Cv(o,a,c))}function Gg(o,a,c=Vr){const d=a.localNames;if(null!==d){let h=a.index+1;for(let m=0;m<d.length;m+=2){const y=d[m+1],C=-1===y?c(a,o):o[y];o[h++]=C}}}function jp(o){const a=o.tView;return null===a||a.incompleteFirstPass?o.tView=qg(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):a}function qg(o,a,c,d,h,m,y,C,x,T){const O=Cn+d,H=O+h,Q=function PI(o,a){const c=[];for(let d=0;d<a;d++)c.push(d<o?null:tn);return c}(O,H),se="function"==typeof T?T():T;return Q[tt]={type:o,blueprint:Q,template:c,queries:null,viewQuery:C,declTNode:a,data:Q.slice().fill(null,O),bindingStartIndex:O,expandoStartIndex:H,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:x,consts:se,incompleteFirstPass:!1}}function Qw(o,a,c,d){const h=Bl(a);null===c?h.push(d):(h.push(c),o.firstCreatePass&&Ul(o).push(d,h.length-1))}function Jw(o,a,c,d){for(let h in o)if(o.hasOwnProperty(h)){c=null===c?{}:c;const m=o[h];null===d?Xw(c,a,h,m):d.hasOwnProperty(h)&&Xw(c,a,d[h],m)}return c}function Xw(o,a,c,d){o.hasOwnProperty(c)?o[c].push(a,d):o[c]=[a,d]}function $o(o,a,c,d,h,m,y,C){const x=Vr(a,c);let O,T=a.inputs;!C&&null!=T&&(O=T[d])?(Cs(o,c,O,d,h),tc(a)&&function HI(o,a){const c=Ar(a,o);16&c[Qt]||(c[Qt]|=32)}(c,a.index)):3&a.type&&(d=function UI(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(d),h=null!=y?y(h,a.value||"",d):h,m.setProperty(x,d,h))}function Ev(o,a,c,d){if(ah()){const h=null===d?null:{"":-1},m=function GI(o,a){const c=o.directiveRegistry;let d=null,h=null;if(c)for(let m=0;m<c.length;m++){const y=c[m];if(Fl(a,y.selectors,!1))if(d||(d=[]),gi(y))if(null!==y.findHostDirectiveDefs){const C=[];h=h||new Map,y.findHostDirectiveDefs(y,C,h),d.unshift(...C,y),zp(o,a,C.length)}else d.unshift(y),zp(o,a,0);else h=h||new Map,y.findHostDirectiveDefs?.(y,d,h),d.push(y)}return null===d?null:[d,h]}(o,c);let y,C;null===m?y=C=null:[y,C]=m,null!==y&&eE(o,a,c,y,h,C),h&&function bi(o,a,c){if(a){const d=o.localNames=[];for(let h=0;h<a.length;h+=2){const m=c[a[h+1]];if(null==m)throw new we(-301,!1);d.push(a[h],m)}}}(c,d,h)}c.mergedAttrs=Ls(c.mergedAttrs,c.attrs)}function eE(o,a,c,d,h,m){for(let T=0;T<d.length;T++)us(ku(c,a),o,d[T].type);!function Pc(o,a,c){o.flags|=1,o.directiveStart=a,o.directiveEnd=a+c,o.providerIndexes=a}(c,o.data.length,d.length);for(let T=0;T<d.length;T++){const O=d[T];O.providersResolver&&O.providersResolver(O)}let y=!1,C=!1,x=Vl(o,a,d.length,null);for(let T=0;T<d.length;T++){const O=d[T];c.mergedAttrs=Ls(c.mergedAttrs,O.hostAttrs),iE(o,c,a,x,O),rE(x,O,h),null!==O.contentQueries&&(c.flags|=4),(null!==O.hostBindings||null!==O.hostAttrs||0!==O.hostVars)&&(c.flags|=64);const H=O.type.prototype;!y&&(H.ngOnChanges||H.ngOnInit||H.ngDoCheck)&&((o.preOrderHooks??(o.preOrderHooks=[])).push(c.index),y=!0),!C&&(H.ngOnChanges||H.ngDoCheck)&&((o.preOrderCheckHooks??(o.preOrderCheckHooks=[])).push(c.index),C=!0),x++}!function BI(o,a,c){const h=a.directiveEnd,m=o.data,y=a.attrs,C=[];let x=null,T=null;for(let O=a.directiveStart;O<h;O++){const H=m[O],Q=c?c.get(H):null,De=Q?Q.outputs:null;x=Jw(H.inputs,O,x,Q?Q.inputs:null),T=Jw(H.outputs,O,T,De);const $e=null===x||null===y||Pw(a)?null:oE(x,O,y);C.push($e)}null!==x&&(x.hasOwnProperty("class")&&(a.flags|=8),x.hasOwnProperty("style")&&(a.flags|=16)),a.initialInputs=C,a.inputs=x,a.outputs=T}(o,c,m)}function Cv(o,a,c){const d=c.directiveStart,h=c.directiveEnd,m=c.index,y=function ig(){return Ft.lFrame.currentDirectiveIndex}();try{lo(m);for(let C=d;C<h;C++){const x=o.data[C],T=a[C];nr(C),(null!==x.hostBindings||0!==x.hostVars||null!==x.hostAttrs)&&nE(x,T)}}finally{lo(-1),nr(y)}}function nE(o,a){null!==o.hostBindings&&o.hostBindings(1,a)}function zp(o,a,c){a.componentOffset=c,(o.components??(o.components=[])).push(a.index)}function rE(o,a,c){if(c){if(a.exportAs)for(let d=0;d<a.exportAs.length;d++)c[a.exportAs[d]]=o;gi(a)&&(c[""]=o)}}function iE(o,a,c,d,h){o.data[d]=h;const m=h.factory||(h.factory=So(h.type)),y=new Ro(m,gi(h),zo);o.blueprint[d]=y,c[d]=y,function zI(o,a,c,d,h){const m=h.hostBindings;if(m){let y=o.hostBindingOpCodes;null===y&&(y=o.hostBindingOpCodes=[]);const C=~a.index;(function tE(o){let a=o.length;for(;a>0;){const c=o[--a];if("number"==typeof c&&c<0)return c}return 0})(y)!=C&&y.push(C),y.push(c,d,m)}}(o,a,d,Vl(o,c,h.hostVars,tn),h)}function Go(o,a,c,d,h,m){const y=Vr(o,a);!function hi(o,a,c,d,h,m,y){if(null==m)o.removeAttribute(a,h,c);else{const C=null==y?Fe(m):y(m,d||"",h);o.setAttribute(a,h,C,c)}}(a[Wt],y,m,o.value,c,d,h)}function or(o,a,c,d,h,m){const y=m[a];if(null!==y){const C=d.setInput;for(let x=0;x<y.length;){const T=y[x++],O=y[x++],H=y[x++];null!==C?d.setInput(c,H,T,O):c[O]=H}}}function oE(o,a,c){let d=null,h=0;for(;h<c.length;){const m=c[h];if(0!==m)if(5!==m){if("number"==typeof m)break;if(o.hasOwnProperty(m)){null===d&&(d=[]);const y=o[m];for(let C=0;C<y.length;C+=2)if(y[C]===a){d.push(m,y[C+1],c[h+1]);break}}h+=2}else h+=2;else h+=4}return d}function hd(o,a,c,d){return[o,!0,!1,a,null,0,d,c,null,null]}function qI(o,a){const c=Ar(a,o);if(ss(c)){const d=c[tt];48&c[Qt]?di(d,c,d.template,c[Wn]):c[es]>0&&$r(c)}}function $r(o){for(let d=Tl(o);null!==d;d=Hh(d))for(let h=Lr;h<d.length;h++){const m=d[h];if(ss(m))if(512&m[Qt]){const y=m[tt];di(y,m,y.template,m[Wn])}else m[es]>0&&$r(m)}const c=o[tt].components;if(null!==c)for(let d=0;d<c.length;d++){const h=Ar(c[d],o);ss(h)&&h[es]>0&&$r(h)}}function WI(o,a){const c=Ar(a,o),d=c[tt];(function Lc(o,a){for(let c=a.length;c<o.blueprint.length;c++)a.push(o.blueprint[c])})(d,c),zg(d,c,c[Wn])}function sr(o,a){return o[Pi]?o[ua][vn]=a:o[Pi]=a,o[ua]=a,a}function Es(o){for(;o;){o[Qt]|=32;const a=Zu(o);if(ns(o)&&!a)return o;o=a}return null}function fd(o,a,c,d=!0){const h=a[mi];h.begin&&h.begin();try{di(o,a,o.template,c)}catch(y){throw d&&Hl(a,y),y}finally{h.end&&h.end()}}function pd(o,a,c){ph(0),a(o,c)}function Bl(o){return o[nl]||(o[nl]=[])}function Ul(o){return o.cleanup||(o.cleanup=[])}function Hl(o,a){const c=o[rl],d=c?c.get(ef,null):null;d&&d.handleError(a)}function Cs(o,a,c,d,h){for(let m=0;m<c.length;){const y=c[m++],C=c[m++],x=a[y],T=o.data[y];null!==T.setInput?T.setInput(x,h,d,C):x[C]=h}}function Qs(o,a,c){let d=c?o.styles:null,h=c?o.classes:null,m=0;if(null!==a)for(let y=0;y<a.length;y++){const C=a[y];"number"==typeof C?m=C:1==m?h=Ce(h,C):2==m&&(d=Ce(d,C+": "+a[++y]+";"))}c?o.styles=d:o.stylesWithoutHost=d,c?o.classes=h:o.classesWithoutHost=h}function Gp(o,a,c,d,h=!1){for(;null!==c;){const m=a[c.index];if(null!==m&&d.push(fr(m)),Wi(m))for(let C=Lr;C<m.length;C++){const x=m[C],T=x[tt].firstChild;null!==T&&Gp(x[tt],x,T,d)}const y=c.type;if(8&y)Gp(o,a,c.child,d);else if(32&y){const C=Ti(c,a);let x;for(;x=C();)d.push(x)}else if(16&y){const C=ys(a,c);if(Array.isArray(C))d.push(...C);else{const x=Zu(a[hr]);Gp(x[tt],x,C,d,!0)}}c=h?c.projectionNext:c.next}return d}class Ba{get rootNodes(){const a=this._lView,c=a[tt];return Gp(c,a,c.firstChild,[])}constructor(a,c){this._lView=a,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Wn]}set context(a){this._lView[Wn]=a}get destroyed(){return 128==(128&this._lView[Qt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[kn];if(Wi(a)){const c=a[ts],d=c?c.indexOf(this):-1;d>-1&&(R(a,d),bl(c,d))}this._attachedToViewContainer=!1}N(this._lView[tt],this._lView)}onDestroy(a){Qw(this._lView[tt],this._lView,null,a)}markForCheck(){Es(this._cdRefInjectingView||this._lView)}detach(){this._lView[Qt]&=-65}reattach(){this._lView[Qt]|=64}detectChanges(){fd(this._lView[tt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new we(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Wy(o,a){Ml(o,a,a[Wt],2,null,null)}(this._lView[tt],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new we(902,!1);this._appRef=a}}class xv extends Ba{constructor(a){super(a),this._view=a}detectChanges(){const a=this._view;fd(a[tt],a,a[Wn],!1)}checkNoChanges(){}get context(){return null}}class qp extends Si{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const c=Et(a);return new rf(c,this.ngModule)}}function Vc(o){const a=[];for(let c in o)o.hasOwnProperty(c)&&a.push({propName:o[c],templateName:c});return a}class Wp{constructor(a,c){this.injector=a,this.parentInjector=c}get(a,c,d){d=Pr(d);const h=this.injector.get(a,Og,d);return h!==Og||c===Og?h:this.parentInjector.get(a,c,d)}}class rf extends dv{get inputs(){return Vc(this.componentDef.inputs)}get outputs(){return Vc(this.componentDef.outputs)}constructor(a,c){super(),this.componentDef=a,this.ngModule=c,this.componentType=a.type,this.selector=function ht(o){return o.map(mv).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!c}create(a,c,d,h){let m=(h=h||this.ngModule)instanceof id?h:h?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const y=m?new Wp(a,m):a,C=y.get(vs,null);if(null===C)throw new we(407,!1);const x=y.get(CI,null),T=C.createRenderer(null,this.componentDef),O=this.componentDef.selectors[0][0]||"div",H=d?function LI(o,a,c){return o.selectRootElement(a,c===L.ShadowDom)}(T,d,this.componentDef.encapsulation):Mc(T,O,function Iv(o){const a=o.toLowerCase();return"svg"===a?"svg":"math"===a?"math":null}(O)),Q=this.componentDef.onPush?288:272,se=qg(0,null,null,1,0,null,null,null,null,null),De=jg(null,se,null,Q,null,null,C,T,x,y,null);let $e,nt;ya(De);try{const vt=this.componentDef;let Pt,Pe=null;vt.findHostDirectiveDefs?(Pt=[],Pe=new Map,vt.findHostDirectiveDefs(vt,Pt,Pe),Pt.push(vt)):Pt=[vt];const Jt=function Zp(o,a){const c=o[tt],d=Cn;return o[d]=a,vi(c,d,2,"#host",null)}(De,H),cr=function lE(o,a,c,d,h,m,y,C){const x=h[tt];!function ZI(o,a,c,d){for(const h of o)a.mergedAttrs=Ls(a.mergedAttrs,h.hostAttrs);null!==a.mergedAttrs&&(Qs(a,a.mergedAttrs,!0),null!==c&&dg(d,c,a))}(d,o,a,y);const T=m.createRenderer(a,c),O=jg(h,jp(c),null,c.onPush?32:16,h[o.index],o,m,T,C||null,null,null);return x.firstCreatePass&&zp(x,o,d.length-1),sr(h,O),h[o.index]=O}(Jt,H,vt,Pt,De,C,T);nt=oc(se,Cn),H&&function cE(o,a,c,d){if(d)wa(o,c,["ng-version",Ys.full]);else{const{attrs:h,classes:m}=function Ct(o){const a=[],c=[];let d=1,h=2;for(;d<o.length;){let m=o[d];if("string"==typeof m)2===h?""!==m&&a.push(m,o[++d]):8===h&&c.push(m);else{if(!Nn(h))break;h=m}d++}return{attrs:a,classes:c}}(a.selectors[0]);h&&wa(o,c,h),m&&m.length>0&&Zy(o,c,m.join(" "))}}(T,vt,H,d),void 0!==c&&function uE(o,a,c){const d=o.projection=[];for(let h=0;h<a.length;h++){const m=c[h];d.push(null!=m?Array.from(m):null)}}(nt,this.ngContentSelectors,c),$e=function KI(o,a,c,d,h,m){const y=tr(),C=h[tt],x=Vr(y,h);eE(C,h,y,c,null,d);for(let O=0;O<c.length;O++)X(Bn(h,C,y.directiveStart+O,y),h);Cv(C,h,y),x&&X(x,h);const T=Bn(h,C,y.directiveStart+y.componentOffset,y);if(o[Wn]=h[Wn]=T,null!==m)for(const O of m)O(T,a);return $g(C,y,o),T}(cr,vt,Pt,Pe,De,[Mi]),zg(se,De,null)}finally{gh()}return new aE(this.componentType,$e,ad(nt,De),De,nt)}}class aE extends sd{constructor(a,c,d,h,m){super(),this.location=d,this._rootLView=h,this._tNode=m,this.instance=c,this.hostView=this.changeDetectorRef=new xv(h),this.componentType=a}setInput(a,c){const d=this._tNode.inputs;let h;if(null!==d&&(h=d[a])){const m=this._rootLView;Cs(m[tt],m,h,a,c),Es(Ar(this._tNode.index,m))}}get injector(){return new xa(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}function Mi(){const o=tr();dc(ye()[tt],o)}function Hn(o){let a=function Sv(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),c=!0;const d=[o];for(;a;){let h;if(gi(o))h=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new we(903,!1);h=a.\u0275dir}if(h){if(c){d.push(h);const y=o;y.inputs=Wg(o.inputs),y.declaredInputs=Wg(o.declaredInputs),y.outputs=Wg(o.outputs);const C=h.hostBindings;C&&YI(o,C);const x=h.viewQuery,T=h.contentQueries;if(x&&dE(o,x),T&&sf(o,T),Ie(o.inputs,h.inputs),Ie(o.declaredInputs,h.declaredInputs),Ie(o.outputs,h.outputs),gi(h)&&h.data.animation){const O=o.data;O.animation=(O.animation||[]).concat(h.data.animation)}}const m=h.features;if(m)for(let y=0;y<m.length;y++){const C=m[y];C&&C.ngInherit&&C(o),C===Hn&&(c=!1)}}a=Object.getPrototypeOf(a)}!function Bc(o){let a=0,c=null;for(let d=o.length-1;d>=0;d--){const h=o[d];h.hostVars=a+=h.hostVars,h.hostAttrs=Ls(h.hostAttrs,c=Ls(c,h.hostAttrs))}}(d)}function Wg(o){return o===k?{}:o===Y?[]:o}function dE(o,a){const c=o.viewQuery;o.viewQuery=c?(d,h)=>{a(d,h),c(d,h)}:a}function sf(o,a){const c=o.contentQueries;o.contentQueries=c?(d,h,m)=>{a(d,h,m),c(d,h,m)}:a}function YI(o,a){const c=o.hostBindings;o.hostBindings=c?(d,h)=>{a(d,h),c(d,h)}:a}function Kp(o){return!!Mv(o)&&(Array.isArray(o)||!(o instanceof Map)&&Symbol.iterator in o)}function Mv(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function ji(o,a,c){return!Object.is(o[a],c)&&(o[a]=c,!0)}function jl(o,a,c,d){const h=ye();return ji(h,Mo(),a)&&(Bt(),Go(On(),h,o,a,c,d)),jl}function Ov(o,a,c,d,h,m,y,C){const x=ye(),T=Bt(),O=o+Cn,H=T.firstCreatePass?function Jp(o,a,c,d,h,m,y,C,x){const T=a.consts,O=vi(a,o,4,y||null,Ao(T,C));Ev(a,c,O,Ao(T,x)),dc(a,O);const H=O.tView=qg(2,O,d,h,m,a.directiveRegistry,a.pipeRegistry,null,a.schemas,T);return null!==a.queries&&(a.queries.template(a,O),H.queries=a.queries.embeddedTView(O)),O}(O,T,x,a,c,d,h,m,y):T.data[O];Vi(H,!1);const Q=x[Wt].createComment("");Ju(T,x,Q,H),X(Q,x),sr(x,x[O]=hd(Q,x,Q,H)),ol(H)&&ws(T,x,H),null!=y&&Gg(x,H,C)}function _E(o){return function si(o,a){return o[a]}(function dh(){return Ft.lFrame.contextLView}(),Cn+o)}function Xs(o,a,c){const d=ye();return ji(d,Mo(),a)&&$o(Bt(),On(),d,o,a,d[Wt],c,!1),Xs}function Nv(o,a,c,d,h){const y=h?"class":"style";Cs(o,c,a.inputs[y],y,d)}function Xp(o,a,c,d){const h=ye(),m=Bt(),y=Cn+o,C=h[Wt],x=m.firstCreatePass?function yo(o,a,c,d,h,m){const y=a.consts,x=vi(a,o,2,d,Ao(y,h));return Ev(a,c,x,Ao(y,m)),null!==x.attrs&&Qs(x,x.attrs,!1),null!==x.mergedAttrs&&Qs(x,x.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,x),x}(y,m,h,a,c,d):m.data[y],T=h[y]=Mc(C,a,function vh(){return Ft.lFrame.currentNamespace}()),O=ol(x);return Vi(x,!0),dg(C,T,x),32!=(32&x.flags)&&Ju(m,h,T,x),0===function vu(){return Ft.lFrame.elementDepthCount}()&&X(T,h),function bu(){Ft.lFrame.elementDepthCount++}(),O&&(ws(m,h,x),$g(m,x,h)),null!==d&&Gg(h,x),Xp}function Hc(){let o=tr();ac()?uh():(o=o.parent,Vi(o,!1));const a=o;!function wu(){Ft.lFrame.elementDepthCount--}();const c=Bt();return c.firstCreatePass&&(dc(c,o),ks(o)&&c.queries.elementEnd(o)),null!=a.classesWithoutHost&&function ko(o){return 0!=(8&o.flags)}(a)&&Nv(c,a,ye(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function Su(o){return 0!=(16&o.flags)}(a)&&Nv(c,a,ye(),a.stylesWithoutHost,!1),Hc}function e_(o,a,c,d){return Xp(o,a,c,d),Hc(),e_}function em(o,a,c){const d=ye(),h=Bt(),m=o+Cn,y=h.firstCreatePass?function ja(o,a,c,d,h){const m=a.consts,y=Ao(m,d),C=vi(a,o,8,"ng-container",y);return null!==y&&Qs(C,y,!0),Ev(a,c,C,Ao(m,h)),null!==a.queries&&a.queries.elementStart(a,C),C}(m,h,d,a,c):h.data[m];Vi(y,!0);const C=d[m]=d[Wt].createComment("");return Ju(h,d,C,y),X(C,d),ol(y)&&(ws(h,d,y),$g(h,y,d)),null!=c&&Gg(d,y),em}function jc(){let o=tr();const a=Bt();return ac()?uh():(o=o.parent,Vi(o,!1)),a.firstCreatePass&&(dc(a,o),ks(o)&&a.queries.elementEnd(o)),jc}function Fv(o,a,c){return em(o,a,c),jc(),Fv}function yE(){return ye()}function nn(o){return!!o&&"function"==typeof o.then}function vE(o){return!!o&&"function"==typeof o.subscribe}const t_=vE;function n_(o,a,c,d){const h=ye(),m=Bt(),y=tr();return function tm(o,a,c,d,h,m,y){const C=ol(d),T=o.firstCreatePass&&Ul(o),O=a[Wn],H=Bl(a);let Q=!0;if(3&d.type||y){const $e=Vr(d,a),nt=y?y($e):$e,vt=H.length,Pt=y?Jt=>y(fr(Jt[d.index])):d.index;let Pe=null;if(!y&&C&&(Pe=function bE(o,a,c,d){const h=o.cleanup;if(null!=h)for(let m=0;m<h.length-1;m+=2){const y=h[m];if(y===c&&h[m+1]===d){const C=a[nl],x=h[m+2];return C.length>x?C[x]:null}"string"==typeof y&&(m+=2)}return null}(o,a,h,d.index)),null!==Pe)(Pe.__ngLastListenerFn__||Pe).__ngNextListenerFn__=m,Pe.__ngLastListenerFn__=m,Q=!1;else{m=EE(d,a,O,m,!1);const Jt=c.listen(nt,h,m);H.push(m,Jt),T&&T.push(h,Pt,vt,vt+1)}}else m=EE(d,a,O,m,!1);const se=d.outputs;let De;if(Q&&null!==se&&(De=se[h])){const $e=De.length;if($e)for(let nt=0;nt<$e;nt+=2){const cr=a[De[nt]][De[nt+1]].subscribe(m),ei=H.length;H.push(m,cr),T&&T.push(h,d.index,ei,-(ei+1))}}}(m,h,h[Wt],y,o,a,d),n_}function wE(o,a,c,d){try{return Vn(6,a,c),!1!==c(d)}catch(h){return Hl(o,h),!1}finally{Vn(7,a,c)}}function EE(o,a,c,d,h){return function m(y){if(y===Function)return d;Es(o.componentOffset>-1?Ar(o.index,a):a);let x=wE(a,c,d,y),T=m.__ngNextListenerFn__;for(;T;)x=wE(a,c,T,y)&&x,T=T.__ngNextListenerFn__;return h&&!1===x&&(y.preventDefault(),y.returnValue=!1),x}}function Lv(o=1){return function xu(o){return(Ft.lFrame.contextLView=function _h(o,a){for(;o>0;)a=a[Io],o--;return a}(o,Ft.lFrame.contextLView))[Wn]}(o)}function uf(o,a){let c=null;const d=function pv(o){const a=o.attrs;if(null!=a){const c=a.indexOf(5);if(!(1&c))return a[c+1]}return null}(o);for(let h=0;h<a.length;h++){const m=a[h];if("*"!==m){if(null===d?Fl(o,m,!0):jr(d,m))return h}else c=h}return c}function zc(o){const a=ye()[hr][Tr];if(!a.projection){const d=a.projection=Ia(o?o.length:1,null),h=d.slice();let m=a.child;for(;null!==m;){const y=o?uf(m,o):0;null!==y&&(h[y]?h[y].projectionNext=m:d[y]=m,h[y]=m),m=m.next}}}function Vv(o,a=0,c){const d=ye(),h=Bt(),m=vi(h,Cn+o,16,null,c||null);null===m.projection&&(m.projection=a),uh(),32!=(32&m.flags)&&function uw(o,a,c){Hi(a[Wt],0,a,c,Xe(o,c,a),$h(c.parent||a[Tr],c,a))}(h,d,m)}function wd(o,a){return o<<17|a<<2}function Gl(o){return o>>17&32767}function Hv(o){return 2|o}function Gc(o){return(131068&o)>>2}function qc(o,a){return-131069&o|a<<2}function i_(o){return 1|o}function o_(o,a,c,d,h){const m=o[c+1],y=null===a;let C=d?Gl(m):Gc(m),x=!1;for(;0!==C&&(!1===x||y);){const O=o[C+1];zv(o[C],a)&&(x=!0,o[C+1]=d?i_(O):Hv(O)),C=d?Gl(O):Gc(O)}x&&(o[c+1]=d?Hv(m):i_(m))}function zv(o,a){return null===o||null==a||(Array.isArray(o)?o[1]:o)===a||!(!Array.isArray(o)||"string"!=typeof a)&&Un(o,a)>=0}const Gr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function xE(o){return o.substring(Gr.key,Gr.keyEnd)}function wn(o,a){const c=Gr.textEnd;return c===a?-1:(a=Gr.keyEnd=function TE(o,a,c){for(;a<c&&o.charCodeAt(a)>32;)a++;return a}(o,Gr.key=a,c),Wl(o,a,c))}function Wl(o,a,c){for(;a<c&&o.charCodeAt(a)<=32;)a++;return a}function Ed(o,a,c){return ta(o,a,c,!1),Ed}function Cd(o,a){return ta(o,a,null,!0),Cd}function qv(o){!function Ds(o,a,c,d){const h=Bt(),m=ao(2);h.firstUpdatePass&&ME(h,null,m,d);const y=ye();if(c!==tn&&ji(y,m,c)){const C=h.data[Yr()];if(gf(C,d)&&!Wv(h,m)){let x=d?C.classesWithoutHost:C.stylesWithoutHost;null!==x&&(c=Ce(x,c||"")),Nv(h,C,y,c,d)}else!function RE(o,a,c,d,h,m,y,C){h===tn&&(h=Y);let x=0,T=0,O=0<h.length?h[0]:null,H=0<m.length?m[0]:null;for(;null!==O||null!==H;){const Q=x<h.length?h[x+1]:void 0,se=T<m.length?m[T+1]:void 0;let $e,De=null;O===H?(x+=2,T+=2,Q!==se&&(De=H,$e=se)):null===H||null!==O&&O<H?(x+=2,De=O):(T+=2,De=H,$e=se),null!==De&&pf(o,a,c,d,De,$e,y,C),O=x<h.length?h[x]:null,H=T<m.length?m[T]:null}}(h,C,y,y[Wt],y[m+1],y[m+1]=function lT(o,a,c){if(null==c||""===c)return Y;const d=[],h=Ji(c);if(Array.isArray(h))for(let m=0;m<h.length;m++)o(d,h[m],!0);else if("object"==typeof h)for(const m in h)h.hasOwnProperty(m)&&o(d,m,h[m]);else"string"==typeof h&&a(d,h);return d}(o,a,c),d,m)}}(Kv,ea,o,!0)}function ea(o,a){for(let c=function Jr(o){return function s_(o){Gr.key=0,Gr.keyEnd=0,Gr.value=0,Gr.valueEnd=0,Gr.textEnd=o.length}(o),wn(o,Wl(o,0,Gr.textEnd))}(a);c>=0;c=wn(a,c))Bi(o,xE(a),!0)}function ta(o,a,c,d){const h=ye(),m=Bt(),y=ao(2);m.firstUpdatePass&&ME(m,o,y,d),a!==tn&&ji(h,y,a)&&pf(m,m.data[Yr()],h,h[Wt],o,h[y+1]=function kE(o,a){return null==o||""===o||("string"==typeof a?o+=a:"object"==typeof o&&(o=Ee(Ji(o)))),o}(a,c),d,y)}function Wv(o,a){return a>=o.expandoStartIndex}function ME(o,a,c,d){const h=o.data;if(null===h[c+1]){const m=h[Yr()],y=Wv(o,c);gf(m,d)&&null===a&&!y&&(a=!1),a=function oT(o,a,c,d){const h=lc(o);let m=d?a.residualClasses:a.residualStyles;if(null===h)0===(d?a.classBindings:a.styleBindings)&&(c=ff(c=Wc(null,o,a,c,d),a.attrs,d),m=null);else{const y=a.directiveStylingLast;if(-1===y||o[y]!==h)if(c=Wc(h,o,a,c,d),null===m){let x=function sT(o,a,c){const d=c?a.classBindings:a.styleBindings;if(0!==Gc(d))return o[Gl(d)]}(o,a,d);void 0!==x&&Array.isArray(x)&&(x=Wc(null,o,a,x[1],d),x=ff(x,a.attrs,d),function aT(o,a,c,d){o[Gl(c?a.classBindings:a.styleBindings)]=d}(o,a,d,x))}else m=function Zv(o,a,c){let d;const h=a.directiveEnd;for(let m=1+a.directiveStylingLast;m<h;m++)d=ff(d,o[m].hostAttrs,c);return ff(d,a.attrs,c)}(o,a,d)}return void 0!==m&&(d?a.residualClasses=m:a.residualStyles=m),c}(h,m,a,d),function hf(o,a,c,d,h,m){let y=m?a.classBindings:a.styleBindings,C=Gl(y),x=Gc(y);o[d]=c;let O,T=!1;if(Array.isArray(c)?(O=c[1],(null===O||Un(c,O)>0)&&(T=!0)):O=c,h)if(0!==x){const Q=Gl(o[C+1]);o[d+1]=wd(Q,C),0!==Q&&(o[Q+1]=qc(o[Q+1],d)),o[C+1]=function rm(o,a){return 131071&o|a<<17}(o[C+1],d)}else o[d+1]=wd(C,0),0!==C&&(o[C+1]=qc(o[C+1],d)),C=d;else o[d+1]=wd(x,0),0===C?C=d:o[x+1]=qc(o[x+1],d),x=d;T&&(o[d+1]=Hv(o[d+1])),o_(o,O,d,!0),o_(o,O,d,!1),function jv(o,a,c,d,h){const m=h?o.residualClasses:o.residualStyles;null!=m&&"string"==typeof a&&Un(m,a)>=0&&(c[d+1]=i_(c[d+1]))}(a,O,o,d,m),y=wd(C,x),m?a.classBindings=y:a.styleBindings=y}(h,m,a,c,y,d)}}function Wc(o,a,c,d,h){let m=null;const y=c.directiveEnd;let C=c.directiveStylingLast;for(-1===C?C=c.directiveStart:C++;C<y&&(m=a[C],d=ff(d,m.hostAttrs,h),m!==o);)C++;return null!==o&&(c.directiveStylingLast=C),d}function ff(o,a,c){const d=c?1:2;let h=-1;if(null!==a)for(let m=0;m<a.length;m++){const y=a[m];"number"==typeof y?h=y:h===d&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),Bi(o,y,!!c||a[++m]))}return void 0===o?null:o}function Kv(o,a,c){const d=String(a);""!==d&&!d.includes(" ")&&Bi(o,d,c)}function pf(o,a,c,d,h,m,y,C){if(!(3&a.type))return;const x=o.data,T=x[C+1],O=function ql(o){return 1==(1&o)}(T)?na(x,a,c,h,Gc(T),y):void 0;mf(O)||(mf(m)||function eT(o){return 2==(2&o)}(T)&&(m=na(x,null,c,h,C,y)),function Ap(o,a,c,d,h){if(a)h?o.addClass(c,d):o.removeClass(c,d);else{let m=-1===d.indexOf("-")?void 0:Qi.DashCase;null==h?o.removeStyle(c,d,m):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),m|=Qi.Important),o.setStyle(c,d,h,m))}}(d,y,Fs(Yr(),c),h,m))}function na(o,a,c,d,h,m){const y=null===a;let C;for(;h>0;){const x=o[h],T=Array.isArray(x),O=T?x[1]:x,H=null===O;let Q=c[h+1];Q===tn&&(Q=H?Y:void 0);let se=H?uo(Q,d):O===d?Q:void 0;if(T&&!mf(se)&&(se=uo(x,d)),mf(se)&&(C=se,y))return C;const De=o[h+1];h=y?Gl(De):Gc(De)}if(null!==a){let x=m?a.residualClasses:a.residualStyles;null!=x&&(C=uo(x,d))}return C}function mf(o){return void 0!==o}function gf(o,a){return 0!=(o.flags&(a?8:16))}function Yv(o,a=""){const c=ye(),d=Bt(),h=o+Cn,m=d.firstCreatePass?vi(d,h,1,a,null):d.data[h],y=c[h]=function Yu(o,a){return o.createText(a)}(c[Wt],a);Ju(d,c,y,m),Vi(m,!1)}function c_(o){return im("",o,""),c_}function im(o,a,c){const d=ye(),h=function zl(o,a,c,d){return ji(o,Mo(),c)?a+Fe(c)+d:tn}(d,o,a,c);return h!==tn&&function qo(o,a,c){const d=Fs(a,o);!function Hr(o,a,c){o.setValue(a,c)}(o[Wt],d,c)}(d,Yr(),h),im}function bf(o,a,c){const d=ye();return ji(d,Mo(),a)&&$o(Bt(),On(),d,o,a,d[Wt],c,!0),bf}function Td(o,a,c){const d=ye();if(ji(d,Mo(),a)){const m=Bt(),y=On();$o(m,y,d,o,a,function $p(o,a,c){return(null===o||gi(o))&&(c=function Ns(o){for(;Array.isArray(o);){if("object"==typeof o[_u])return o;o=o[Ir]}return null}(c[a.index])),c[Wt]}(lc(m.data),y,d),c,!0)}return Td}const Zo=void 0;var jE=["en",[["a","p"],["AM","PM"],Zo],[["AM","PM"],Zo,Zo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Zo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Zo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Zo,"{1} 'at' {0}",Zo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function mT(o){const c=Math.floor(Math.abs(o)),d=o.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===d?1:5}];let wf={};function ib(o){const a=function zE(o){return o.toLowerCase().replace(/_/g,"-")}(o);let c=Kl(a);if(c)return c;const d=a.split("-")[0];if(c=Kl(d),c)return c;if("en"===d)return jE;throw new we(701,!1)}function Kc(o){return ib(o)[Nt.PluralCase]}function Kl(o){return o in wf||(wf[o]=fn.ng&&fn.ng.common&&fn.ng.common.locales&&fn.ng.common.locales[o]),wf[o]}var Nt=(()=>((Nt=Nt||{})[Nt.LocaleId=0]="LocaleId",Nt[Nt.DayPeriodsFormat=1]="DayPeriodsFormat",Nt[Nt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Nt[Nt.DaysFormat=3]="DaysFormat",Nt[Nt.DaysStandalone=4]="DaysStandalone",Nt[Nt.MonthsFormat=5]="MonthsFormat",Nt[Nt.MonthsStandalone=6]="MonthsStandalone",Nt[Nt.Eras=7]="Eras",Nt[Nt.FirstDayOfWeek=8]="FirstDayOfWeek",Nt[Nt.WeekendRange=9]="WeekendRange",Nt[Nt.DateFormat=10]="DateFormat",Nt[Nt.TimeFormat=11]="TimeFormat",Nt[Nt.DateTimeFormat=12]="DateTimeFormat",Nt[Nt.NumberSymbols=13]="NumberSymbols",Nt[Nt.NumberFormats=14]="NumberFormats",Nt[Nt.CurrencyCode=15]="CurrencyCode",Nt[Nt.CurrencySymbol=16]="CurrencySymbol",Nt[Nt.CurrencyName=17]="CurrencyName",Nt[Nt.Currencies=18]="Currencies",Nt[Nt.Directionality=19]="Directionality",Nt[Nt.PluralCase=20]="PluralCase",Nt[Nt.ExtraData=21]="ExtraData",Nt))();const Yc="en-US";let GE=Yc;function fm(o,a,c,d,h){if(o=te(o),Array.isArray(o))for(let m=0;m<o.length;m++)fm(o[m],a,c,d,h);else{const m=Bt(),y=ye();let C=Ol(o)?o:te(o.provide),x=Sg(o);const T=tr(),O=1048575&T.providerIndexes,H=T.directiveStart,Q=T.providerIndexes>>20;if(Ol(o)||!o.multi){const se=new Ro(x,h,zo),De=Rf(C,a,h?O:O+Q,H);-1===De?(us(ku(T,y),m,C),Af(m,o,a.length),a.push(C),T.directiveStart++,T.directiveEnd++,h&&(T.providerIndexes+=1048576),c.push(se),y.push(se)):(c[De]=se,y[De]=se)}else{const se=Rf(C,a,O+Q,H),De=Rf(C,a,O,O+Q),nt=De>=0&&c[De];if(h&&!nt||!h&&!(se>=0&&c[se])){us(ku(T,y),m,C);const vt=function pC(o,a,c,d,h){const m=new Ro(o,c,zo);return m.multi=[],m.index=a,m.componentProviders=0,Mf(m,h,d&&!c),m}(h?Cb:Eb,c.length,h,d,x);!h&&nt&&(c[De].providerFactory=vt),Af(m,o,a.length,0),a.push(C),T.directiveStart++,T.directiveEnd++,h&&(T.providerIndexes+=1048576),c.push(vt),y.push(vt)}else Af(m,o,se>-1?se:De,Mf(c[h?De:se],x,!h&&d));!h&&d&&nt&&c[De].componentProviders++}}}function Af(o,a,c,d){const h=Ol(a),m=function Pp(o){return!!o.useClass}(a);if(h||m){const x=(m?te(a.useClass):a).prototype.ngOnDestroy;if(x){const T=o.destroyHooks||(o.destroyHooks=[]);if(!h&&a.multi){const O=T.indexOf(c);-1===O?T.push(c,[d,x]):T[O+1].push(d,x)}else T.push(c,x)}}}function Mf(o,a,c){return c&&o.componentProviders++,o.multi.push(a)-1}function Rf(o,a,c,d){for(let h=c;h<d;h++)if(a[h]===o)return h;return-1}function Eb(o,a,c,d){return pm(this.multi,[])}function Cb(o,a,c,d){const h=this.multi;let m;if(this.providerFactory){const y=this.providerFactory.componentProviders,C=Bn(c,c[tt],this.providerFactory.index,d);m=C.slice(0,y),pm(h,m);for(let x=y;x<C.length;x++)m.push(C[x])}else m=[],pm(h,m);return m}function pm(o,a){for(let c=0;c<o.length;c++)a.push((0,o[c])());return a}function mC(o,a=[]){return c=>{c.providersResolver=(d,h)=>function fC(o,a,c){const d=Bt();if(d.firstCreatePass){const h=gi(o);fm(c,d.data,d.blueprint,h,!0),fm(a,d.data,d.blueprint,h,!1)}}(d,h?h(o):o,a)}}class Md{}class mm{}function Db(o,a){return new gC(o,a??null)}class gC extends Md{constructor(a,c){super(),this._parent=c,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new qp(this);const d=xr(a);this._bootstrapComponents=po(d.bootstrap),this._r3Injector=OI(a,c,[{provide:Md,useValue:this},{provide:Si,useValue:this.componentFactoryResolver}],Ee(a),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(a)}get injector(){return this._r3Injector}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class Ei extends mm{constructor(a){super(),this.moduleType=a}create(a){return new gC(this.moduleType,a)}}class MT extends Md{constructor(a,c,d){super(),this.componentFactoryResolver=new qp(this),this.instance=null;const h=new uv([...a,{provide:Md,useValue:this},{provide:Si,useValue:this.componentFactoryResolver}],c||rd(),d,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(a){this.injector.onDestroy(a)}}function x_(o,a,c=null){return new MT(o,a,c).injector}let I_=(()=>{class o{constructor(c){this._injector=c,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(c){if(!c.standalone)return null;if(!this.cachedInjectors.has(c.id)){const d=sv(0,c.type),h=d.length>0?x_([d],this._injector,`Standalone[${c.type.name}]`):null;this.cachedInjectors.set(c.id,h)}return this.cachedInjectors.get(c.id)}ngOnDestroy(){try{for(const c of this.cachedInjectors.values())null!==c&&c.destroy()}finally{this.cachedInjectors.clear()}}}return o.\u0275prov=dt({token:o,providedIn:"environment",factory:()=>new o(zt(id))}),o})();function kf(o){o.getStandaloneInjector=a=>a.get(I_).getOrCreateStandaloneInjector(o)}function A_(o,a,c,d){return function M_(o,a,c,d,h,m){const y=a+c;return ji(o,y,h)?function Ua(o,a,c){return o[a]=c}(o,y+1,m?d.call(m,h):d(h)):function tu(o,a){const c=o[a];return c===tn?void 0:c}(o,y+1)}(ye(),function Br(){const o=Ft.lFrame;let a=o.bindingRootIndex;return-1===a&&(a=o.bindingRootIndex=o.tView.bindingStartIndex),a}(),o,a,c,d)}function _m(o){return a=>{setTimeout(o,void 0,a)}}const ra=class jT extends l.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,c,d){let h=a,m=c||(()=>null),y=d;if(a&&"object"==typeof a){const x=a;h=x.next?.bind(x),m=x.error?.bind(x),y=x.complete?.bind(x)}this.__isAsync&&(m=_m(m),h&&(h=_m(h)),y&&(y=_m(y)));const C=super.subscribe({next:h,error:m,complete:y});return a instanceof j.w0&&a.add(C),C}};function Pb(){return this._results[Symbol.iterator]()}class ym{get changes(){return this._changes||(this._changes=new ra)}constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=ym.prototype;c[Symbol.iterator]||(c[Symbol.iterator]=Pb)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,c){return this._results.reduce(a,c)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,c){const d=this;d.dirty=!1;const h=function Ii(o){return o.flat(Number.POSITIVE_INFINITY)}(a);(this._changesDetected=!function Bu(o,a,c){if(o.length!==a.length)return!1;for(let d=0;d<o.length;d++){let h=o[d],m=a[d];if(c&&(h=c(h),m=c(m)),m!==h)return!1}return!0}(d._results,h,c))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Nd=(()=>{class o{}return o.__NG_ELEMENT_ID__=Lb,o})();const Nf=Nd,nu=class extends Nf{constructor(a,c,d){super(),this._declarationLView=a,this._declarationTContainer=c,this.elementRef=d}createEmbeddedView(a,c){const d=this._declarationTContainer.tView,h=jg(this._declarationLView,d,a,16,null,d.declTNode,null,null,null,null,c||null);h[Ss]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[xi];return null!==y&&(h[xi]=y.createEmbeddedView(d)),zg(d,h,a),new Ba(h)}};function Lb(){return Ql(tr(),ye())}function Ql(o,a){return 4&o.type?new nu(a,o,ad(o,a)):null}let Jl=(()=>{class o{}return o.__NG_ELEMENT_ID__=xC,o})();function xC(){return k_(tr(),ye())}const Ff=Jl,IC=class extends Ff{constructor(a,c,d){super(),this._lContainer=a,this._hostTNode=c,this._hostLView=d}get element(){return ad(this._hostTNode,this._hostLView)}get injector(){return new xa(this._hostTNode,this._hostLView)}get parentInjector(){const a=rr(this._hostTNode,this._hostLView);if(Vs(a)){const c=gl(a,this._hostLView),d=Ca(a);return new xa(c[tt].data[d+8],c)}return new xa(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const c=TC(this._lContainer);return null!==c&&c[a]||null}get length(){return this._lContainer.length-Lr}createEmbeddedView(a,c,d){let h,m;"number"==typeof d?h=d:null!=d&&(h=d.index,m=d.injector);const y=a.createEmbeddedView(c||{},m);return this.insert(y,h),y}createComponent(a,c,d,h,m){const y=a&&!function wc(o){return"function"==typeof o}(a);let C;if(y)C=c;else{const H=c||{};C=H.index,d=H.injector,h=H.projectableNodes,m=H.environmentInjector||H.ngModuleRef}const x=y?a:new rf(Et(a)),T=d||this.parentInjector;if(!m&&null==x.ngModule){const Q=(y?T:this.parentInjector).get(id,null);Q&&(m=Q)}const O=x.create(T,h,void 0,m);return this.insert(O.hostView,C),O}insert(a,c){const d=a._lView,h=d[tt];if(function sh(o){return Wi(o[kn])}(d)){const O=this.indexOf(a);if(-1!==O)this.detach(O);else{const H=d[kn],Q=new IC(H,H[Tr],H[kn]);Q.detach(Q.indexOf(a))}}const m=this._adjustIndex(c),y=this._lContainer;!function p(o,a,c,d){const h=Lr+d,m=c.length;d>0&&(c[h-1][vn]=a),d<m-Lr?(a[vn]=c[h],Uu(c,Lr+d,a)):(c.push(a),a[vn]=null),a[kn]=c;const y=a[Ss];null!==y&&c!==y&&function g(o,a){const c=o[Rs];a[hr]!==a[kn][kn][hr]&&(o[il]=!0),null===c?o[Rs]=[a]:c.push(a)}(y,a);const C=a[xi];null!==C&&C.insertView(o),a[Qt]|=64}(h,d,y,m);const C=Wh(m,y),x=d[Wt],T=Sl(x,y[da]);return null!==T&&function qy(o,a,c,d,h,m){d[Ir]=h,d[Tr]=a,Ml(o,d,c,1,h,m)}(h,y[Tr],x,d,T,C),a.attachToViewContainerRef(),Uu(vm(y),m,a),a}move(a,c){return this.insert(a,c)}indexOf(a){const c=TC(this._lContainer);return null!==c?c.indexOf(a):-1}remove(a){const c=this._adjustIndex(a,-1),d=R(this._lContainer,c);d&&(bl(vm(this._lContainer),c),N(d[tt],d))}detach(a){const c=this._adjustIndex(a,-1),d=R(this._lContainer,c);return d&&null!=bl(vm(this._lContainer),c)?new Ba(d):null}_adjustIndex(a,c=0){return a??this.length+c}};function TC(o){return o[ts]}function vm(o){return o[ts]||(o[ts]=[])}function k_(o,a){let c;const d=a[o.index];if(Wi(d))c=d;else{let h;if(8&o.type)h=fr(d);else{const m=a[Wt];h=m.createComment("");const y=Vr(o,a);Gt(m,Sl(m,y),h,function Tp(o,a){return o.nextSibling(a)}(m,y),!1)}a[o.index]=c=hd(d,a,h,o),sr(a,c)}return new IC(c,o,a)}class bm{constructor(a){this.queryList=a,this.matches=null}clone(){return new bm(this.queryList)}setDirty(){this.queryList.setDirty()}}class wm{constructor(a=[]){this.queries=a}createEmbeddedView(a){const c=a.queries;if(null!==c){const d=null!==a.contentQueries?a.contentQueries[0]:c.length,h=[];for(let m=0;m<d;m++){const y=c.getByIndex(m);h.push(this.queries[y.indexInDeclarationView].clone())}return new wm(h)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let c=0;c<this.queries.length;c++)null!==F_(a,c).matches&&this.queries[c].setDirty()}}class SC{constructor(a,c,d=null){this.predicate=a,this.flags=c,this.read=d}}class Vb{constructor(a=[]){this.queries=a}elementStart(a,c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(a,c)}elementEnd(a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(a)}embeddedTView(a){let c=null;for(let d=0;d<this.length;d++){const h=null!==c?c.length:0,m=this.getByIndex(d).embeddedTView(a,h);m&&(m.indexInDeclarationView=d,null!==c?c.push(m):c=[m])}return null!==c?new Vb(c):null}template(a,c){for(let d=0;d<this.queries.length;d++)this.queries[d].template(a,c)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class Em{constructor(a,c=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(a,c){this.isApplyingToNode(c)&&this.matchTNode(a,c)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,c){this.elementStart(a,c)}embeddedTView(a,c){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,c),new Em(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let d=a.parent;for(;null!==d&&8&d.type&&d.index!==c;)d=d.parent;return c===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(a,c){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const m=d[h];this.matchTNodeWithReadOption(a,c,Bb(c,m)),this.matchTNodeWithReadOption(a,c,Da(c,a,m,!1,!1))}else d===Nd?4&c.type&&this.matchTNodeWithReadOption(a,c,-1):this.matchTNodeWithReadOption(a,c,Da(c,a,d,!1,!1))}matchTNodeWithReadOption(a,c,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===Va||h===Jl||h===Nd&&4&c.type)this.addMatch(c.index,-2);else{const m=Da(c,a,h,!1,!1);null!==m&&this.addMatch(c.index,m)}else this.addMatch(c.index,d)}}addMatch(a,c){null===this.matches?this.matches=[a,c]:this.matches.push(a,c)}}function Bb(o,a){const c=o.localNames;if(null!==c)for(let d=0;d<c.length;d+=2)if(c[d]===a)return c[d+1];return null}function AC(o,a,c,d){return-1===c?function zT(o,a){return 11&o.type?ad(o,a):4&o.type?Ql(o,a):null}(a,o):-2===c?function $T(o,a,c){return c===Va?ad(a,o):c===Nd?Ql(a,o):c===Jl?k_(a,o):void 0}(o,a,d):Bn(o,o[tt],c,a)}function Ub(o,a,c,d){const h=a[xi].queries[d];if(null===h.matches){const m=o.data,y=c.matches,C=[];for(let x=0;x<y.length;x+=2){const T=y[x];C.push(T<0?null:AC(a,m[T],y[x+1],c.metadata.read))}h.matches=C}return h.matches}function O_(o,a,c,d){const h=o.queries.getByIndex(c),m=h.matches;if(null!==m){const y=Ub(o,a,h,c);for(let C=0;C<m.length;C+=2){const x=m[C];if(x>0)d.push(y[C/2]);else{const T=m[C+1],O=a[-x];for(let H=Lr;H<O.length;H++){const Q=O[H];Q[Ss]===Q[kn]&&O_(Q[tt],Q,T,d)}if(null!==O[Rs]){const H=O[Rs];for(let Q=0;Q<H.length;Q++){const se=H[Q];O_(se[tt],se,T,d)}}}}}return d}function Hb(o){const a=ye(),c=Bt(),d=dl();ph(d+1);const h=F_(c,d);if(o.dirty&&function ll(o){return 4==(4&o[Qt])}(a)===(2==(2&h.metadata.flags))){if(null===h.matches)o.reset([]);else{const m=h.crossesNgTemplate?O_(c,a,d,[]):Ub(c,a,h,d);o.reset(m,EI),o.notifyOnChanges()}return!0}return!1}function jb(o,a,c){const d=Bt();d.firstCreatePass&&(N_(d,new SC(o,a,c),-1),2==(2&a)&&(d.staticViewQueries=!0)),kC(d,ye(),a)}function MC(o,a,c,d){const h=Bt();if(h.firstCreatePass){const m=tr();N_(h,new SC(a,c,d),m.index),function zb(o,a){const c=o.contentQueries||(o.contentQueries=[]);a!==(c.length?c[c.length-1]:-1)&&c.push(o.queries.length-1,a)}(h,o),2==(2&c)&&(h.staticContentQueries=!0)}kC(h,ye(),c)}function RC(){return function GT(o,a){return o[xi].queries[a].queryList}(ye(),dl())}function kC(o,a,c){const d=new ym(4==(4&c));Qw(o,a,d,d.destroy),null===a[xi]&&(a[xi]=new wm),a[xi].queries.push(new bm(d))}function N_(o,a,c){null===o.queries&&(o.queries=new Vb),o.queries.track(new Em(a,c))}function F_(o,a){return o.queries.getByIndex(a)}function OC(o,a){return Ql(o,a)}function Cm(o){return!!xr(o)}function Tm(...o){}const G_=new cn("Application Initializer");let Fd=(()=>{class o{constructor(c){this.appInits=c,this.resolve=Tm,this.reject=Tm,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,h)=>{this.resolve=d,this.reject=h})}runInitializers(){if(this.initialized)return;const c=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const m=this.appInits[h]();if(nn(m))c.push(m);else if(t_(m)){const y=new Promise((C,x)=>{m.subscribe({complete:C,error:x})});c.push(y)}}Promise.all(c).then(()=>{d()}).catch(h=>{this.reject(h)}),0===c.length&&d(),this.initialized=!0}}return o.\u0275fac=function(c){return new(c||o)(zt(G_,8))},o.\u0275prov=dt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const q_=new cn("AppId",{providedIn:"root",factory:function o0(){return`${W_()}${W_()}${W_()}`}});function W_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Z_=new cn("Platform Initializer"),KC=new cn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),a0=new cn("AnimationModuleType");let eS=(()=>{class o{log(c){console.log(c)}warn(c){console.warn(c)}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=dt({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const K_=new cn("LocaleId",{providedIn:"root",factory:()=>Ln(K_,_t.Optional|_t.SkipSelf)||function tS(){return typeof $localize<"u"&&$localize.locale||Yc}()}),YC=new cn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class rS{constructor(a,c){this.ngModuleFactory=a,this.componentFactories=c}}let iS=(()=>{class o{compileModuleSync(c){return new Ei(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const d=this.compileModuleSync(c),m=po(xr(c).declarations).reduce((y,C)=>{const x=Et(C);return x&&y.push(new rf(x)),y},[]);return new rS(d,m)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=dt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const Q_=(()=>Promise.resolve(0))();function dn(o){typeof Zone>"u"?Q_.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class $i{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ra(!1),this.onMicrotaskEmpty=new ra(!1),this.onStable=new ra(!1),this.onError=new ra(!1),typeof Zone>"u")throw new we(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&c,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function JC(){let o=fn.requestAnimationFrame,a=fn.cancelAnimationFrame;if(typeof Zone<"u"&&o&&a){const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c);const d=a[Zone.__symbol__("OriginalDelegate")];d&&(a=d)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function $a(o){const a=()=>{!function ki(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(fn,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,J_(o),o.isCheckStableRunning=!0,jn(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),J_(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,d,h,m,y,C)=>{try{return eD(o),c.invokeTask(h,m,y,C)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||o.shouldCoalesceRunChangeDetection)&&a(),Am(o)}},onInvoke:(c,d,h,m,y,C,x)=>{try{return eD(o),c.invoke(h,m,y,C,x)}finally{o.shouldCoalesceRunChangeDetection&&a(),Am(o)}},onHasTask:(c,d,h,m)=>{c.hasTask(h,m),d===h&&("microTask"==m.change?(o._hasPendingMicrotasks=m.microTask,J_(o),jn(o)):"macroTask"==m.change&&(o.hasPendingMacrotasks=m.macroTask))},onHandleError:(c,d,h,m)=>(c.handleError(h,m),o.runOutsideAngular(()=>o.onError.emit(m)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!$i.isInAngularZone())throw new we(909,!1)}static assertNotInAngularZone(){if($i.isInAngularZone())throw new we(909,!1)}run(a,c,d){return this._inner.run(a,c,d)}runTask(a,c,d,h){const m=this._inner,y=m.scheduleEventTask("NgZoneEvent: "+h,a,XC,Tm,Tm);try{return m.runTask(y,c,d)}finally{m.cancelTask(y)}}runGuarded(a,c,d){return this._inner.runGuarded(a,c,d)}runOutsideAngular(a){return this._outer.run(a)}}const XC={};function jn(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function J_(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function eD(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function Am(o){o._nesting--,jn(o)}class tD{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ra,this.onMicrotaskEmpty=new ra,this.onStable=new ra,this.onError=new ra}run(a,c,d){return a.apply(c,d)}runGuarded(a,c,d){return a.apply(c,d)}runOutsideAngular(a){return a()}runTask(a,c,d,h){return a.apply(c,d)}}const X_=new cn(""),nD=new cn("");let zn,c0=(()=>{class o{constructor(c,d,h){this._ngZone=c,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,zn||(function cS(o){zn=o}(h),h.addToWindow(d)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{$i.assertNotInAngularZone(),dn(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())dn(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(c)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,d,h){let m=-1;d&&d>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==m),c(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:c,timeoutId:m,updateCb:h})}whenStable(c,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,d,h){return[]}}return o.\u0275fac=function(c){return new(c||o)(zt($i),zt(rD),zt(nD))},o.\u0275prov=dt({token:o,factory:o.\u0275fac}),o})(),rD=(()=>{class o{constructor(){this._applications=new Map}registerApplication(c,d){this._applications.set(c,d)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,d=!0){return zn?.findTestabilityInTree(this,c,d)??null}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=dt({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const ou=!1;let su=null;const Nr=new cn("AllowMultipleToken"),ey=new cn("PlatformDestroyListeners"),iD=new cn("appBootstrapListener");class fS{constructor(a,c){this.name=a,this.token=c}}function oD(o,a,c=[]){const d=`Platform: ${a}`,h=new cn(d);return(m=[])=>{let y=Is();if(!y||y.injector.get(Nr,!1)){const C=[...c,...m,{provide:h,useValue:!0}];o?o(C):function pS(o){if(su&&!su.get(Nr,!1))throw new we(400,!1);su=o;const a=o.get(Ga);(function gS(o){const a=o.get(Z_,null);a&&a.forEach(c=>c())})(o)}(function Uf(o=[],a){return cd.create({name:a,providers:[{provide:xg,useValue:"platform"},{provide:ey,useValue:new Set([()=>su=null])},...o]})}(C,d))}return function sD(o){const a=Is();if(!a)throw new we(401,!1);return a}()}}function Is(){return su?.get(Ga)??null}let Ga=(()=>{class o{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,d){const h=function au(o,a){let c;return c="noop"===o?new tD:("zone.js"===o?void 0:o)||new $i(a),c}(d?.ngZone,function _S(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!o||!o.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!o||!o.ngZoneRunCoalescing)||!1}}(d)),m=[{provide:$i,useValue:h}];return h.run(()=>{const y=cd.create({providers:m,parent:this.injector,name:c.moduleType.name}),C=c.create(y),x=C.injector.get(ef,null);if(!x)throw new we(402,!1);return h.runOutsideAngular(()=>{const T=h.onError.subscribe({next:O=>{x.handleError(O)}});C.onDestroy(()=>{Rm(this._modules,C),T.unsubscribe()})}),function Mm(o,a,c){try{const d=c();return nn(d)?d.catch(h=>{throw a.runOutsideAngular(()=>o.handleError(h)),h}):d}catch(d){throw a.runOutsideAngular(()=>o.handleError(d)),d}}(x,h,()=>{const T=C.injector.get(Fd);return T.runInitializers(),T.donePromise.then(()=>(function g_(o){be(o,"Expected localeId to be defined"),"string"==typeof o&&(GE=o.toLowerCase().replace(/_/g,"-"))}(C.injector.get(K_,Yc)||Yc),this._moduleDoBootstrap(C),C))})})}bootstrapModule(c,d=[]){const h=aD({},d);return function uS(o,a,c){const d=new Ei(c);return Promise.resolve(d)}(0,0,c).then(m=>this.bootstrapModuleFactory(m,h))}_moduleDoBootstrap(c){const d=c.injector.get(ty);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!c.instance.ngDoBootstrap)throw new we(-403,!1);c.instance.ngDoBootstrap(d)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new we(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const c=this._injector.get(ey,null);c&&(c.forEach(d=>d()),c.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(c){return new(c||o)(zt(cd))},o.\u0275prov=dt({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();function aD(o,a){return Array.isArray(a)?a.reduce(aD,o):{...o,...a}}let ty=(()=>{class o{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(c,d,h){this._zone=c,this._injector=d,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const m=new F.y(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),y=new F.y(C=>{let x;this._zone.runOutsideAngular(()=>{x=this._zone.onStable.subscribe(()=>{$i.assertNotInAngularZone(),dn(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const T=this._zone.onUnstable.subscribe(()=>{$i.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{x.unsubscribe(),T.unsubscribe()}});this.isStable=(0,oe.T)(m,y.pipe((0,ue.B)()))}bootstrap(c,d){const h=c instanceof dv;if(!this._injector.get(Fd).done){!h&&Kr(c);throw new we(405,ou)}let y;y=h?c:this._injector.get(Si).resolveComponentFactory(c),this.componentTypes.push(y.componentType);const C=function hS(o){return o.isBoundToModule}(y)?void 0:this._injector.get(Md),T=y.create(cd.NULL,[],d||y.selector,C),O=T.location.nativeElement,H=T.injector.get(X_,null);return H?.registerApplication(O),T.onDestroy(()=>{this.detachView(T.hostView),Rm(this.components,T),H?.unregisterApplication(O)}),this._loadComponent(T),T}tick(){if(this._runningTick)throw new we(101,!1);try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const d=c;this._views.push(d),d.attachToAppRef(this)}detachView(c){const d=c;Rm(this._views,d),d.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c);const d=this._injector.get(iD,[]);d.push(...this._bootstrapListeners),d.forEach(h=>h(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return this._destroyListeners.push(c),()=>Rm(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new we(406,!1);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return o.\u0275fac=function(c){return new(c||o)(zt($i),zt(id),zt(ef))},o.\u0275prov=dt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function Rm(o,a){const c=o.indexOf(a);c>-1&&o.splice(c,1)}function yS(){return!1}let f0=(()=>{class o{}return o.__NG_ELEMENT_ID__=vS,o})();function vS(o){return function bS(o,a,c){if(tc(o)&&!c){const d=Ar(o.index,a);return new Ba(d,d)}return 47&o.type?new Ba(a[hr],a):null}(tr(),ye(),16==(16&o))}class Vd{constructor(){}supports(a){return Kp(a)}create(a){return new OR(a)}}const kR=(o,a)=>a;class OR{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||kR}forEachItem(a){let c;for(c=this._itHead;null!==c;c=c._next)a(c)}forEachOperation(a){let c=this._itHead,d=this._removalsHead,h=0,m=null;for(;c||d;){const y=!d||c&&c.currentIndex<hD(d,h,m)?c:d,C=hD(y,h,m),x=y.currentIndex;if(y===d)h--,d=d._nextRemoved;else if(c=c._next,null==y.previousIndex)h++;else{m||(m=[]);const T=C-h,O=x-h;if(T!=O){for(let Q=0;Q<T;Q++){const se=Q<m.length?m[Q]:m[Q]=0,De=se+Q;O<=De&&De<T&&(m[Q]=se+1)}m[y.previousIndex]=O-T}}C!==x&&a(y,C,x)}}forEachPreviousItem(a){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachMovedItem(a){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}forEachIdentityChange(a){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)a(c)}diff(a){if(null==a&&(a=[]),!Kp(a))throw new we(900,!1);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let h,m,y,c=this._itHead,d=!1;if(Array.isArray(a)){this.length=a.length;for(let C=0;C<this.length;C++)m=a[C],y=this._trackByFn(C,m),null!==c&&Object.is(c.trackById,y)?(d&&(c=this._verifyReinsertion(c,m,y,C)),Object.is(c.item,m)||this._addIdentityChange(c,m)):(c=this._mismatch(c,m,y,C),d=!0),c=c._next}else h=0,function XI(o,a){if(Array.isArray(o))for(let c=0;c<o.length;c++)a(o[c]);else{const c=o[Symbol.iterator]();let d;for(;!(d=c.next()).done;)a(d.value)}}(a,C=>{y=this._trackByFn(h,C),null!==c&&Object.is(c.trackById,y)?(d&&(c=this._verifyReinsertion(c,C,y,h)),Object.is(c.item,C)||this._addIdentityChange(c,C)):(c=this._mismatch(c,C,y,h),d=!0),c=c._next,h++}),this.length=h;return this._truncate(c),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,c,d,h){let m;return null===a?m=this._itTail:(m=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._reinsertAfter(a,m,h)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._moveAfter(a,m,h)):a=this._addAfter(new m0(c,d),m,h),a}_verifyReinsertion(a,c,d,h){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==m?a=this._reinsertAfter(m,a._prev,h):a.currentIndex!=h&&(a.currentIndex=h,this._addToMoves(a,h)),a}_truncate(a){for(;null!==a;){const c=a._next;this._addToRemovals(this._unlink(a)),a=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,c,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const h=a._prevRemoved,m=a._nextRemoved;return null===h?this._removalsHead=m:h._nextRemoved=m,null===m?this._removalsTail=h:m._prevRemoved=h,this._insertAfter(a,c,d),this._addToMoves(a,d),a}_moveAfter(a,c,d){return this._unlink(a),this._insertAfter(a,c,d),this._addToMoves(a,d),a}_addAfter(a,c,d){return this._insertAfter(a,c,d),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,c,d){const h=null===c?this._itHead:c._next;return a._next=h,a._prev=c,null===h?this._itTail=a:h._prev=a,null===c?this._itHead=a:c._next=a,null===this._linkedRecords&&(this._linkedRecords=new Fm),this._linkedRecords.put(a),a.currentIndex=d,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const c=a._prev,d=a._next;return null===c?this._itHead=d:c._next=d,null===d?this._itTail=c:d._prev=c,a}_addToMoves(a,c){return a.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Fm),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,c){return a.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class m0{constructor(a,c){this.item=a,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class CS{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,c){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===c||c<=d.currentIndex)&&Object.is(d.trackById,a))return d;return null}remove(a){const c=a._prevDup,d=a._nextDup;return null===c?this._head=d:c._nextDup=d,null===d?this._tail=c:d._prevDup=c,null===this._head}}class Fm{constructor(){this.map=new Map}put(a){const c=a.trackById;let d=this.map.get(c);d||(d=new CS,this.map.set(c,d)),d.add(a)}get(a,c){const h=this.map.get(a);return h?h.get(a,c):null}remove(a){const c=a.trackById;return this.map.get(c).remove(a)&&this.map.delete(c),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function hD(o,a,c){const d=o.previousIndex;if(null===d)return d;let h=0;return c&&d<c.length&&(h=c[d]),d+a+h}class fD{constructor(){}supports(a){return a instanceof Map||Mv(a)}create(){return new ly}}class ly{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let c;for(c=this._mapHead;null!==c;c=c._next)a(c)}forEachPreviousItem(a){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)a(c)}forEachChangedItem(a){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}diff(a){if(a){if(!(a instanceof Map||Mv(a)))throw new we(900,!1)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(a,(d,h)=>{if(c&&c.key===h)this._maybeAddToChanges(c,d),this._appendAfter=c,c=c._next;else{const m=this._getOrCreateRecordForKey(h,d);c=this._insertBeforeOrAppend(c,m)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let d=c;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,c){if(a){const d=a._prev;return c._next=a,c._prev=d,a._prev=c,d&&(d._next=c),a===this._mapHead&&(this._mapHead=c),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(a,c){if(this._records.has(a)){const h=this._records.get(a);this._maybeAddToChanges(h,c);const m=h._prev,y=h._next;return m&&(m._next=y),y&&(y._prev=m),h._next=null,h._prev=null,h}const d=new DS(a);return this._records.set(a,d),d.currentValue=c,this._addToAdditions(d),d}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,c){Object.is(c,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=c,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,c){a instanceof Map?a.forEach(c):Object.keys(a).forEach(d=>c(a[d],d))}}class DS{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function pD(){return new Gf([new Vd])}let Gf=(()=>{class o{constructor(c){this.factories=c}static create(c,d){if(null!=d){const h=d.factories.slice();c=c.concat(h)}return new o(c)}static extend(c){return{provide:o,useFactory:d=>o.create(c,d||pD()),deps:[[o,new ho,new ct]]}}find(c){const d=this.factories.find(h=>h.supports(c));if(null!=d)return d;throw new we(901,!1)}}return o.\u0275prov=dt({token:o,providedIn:"root",factory:pD}),o})();function mD(){return new cy([new fD])}let cy=(()=>{class o{constructor(c){this.factories=c}static create(c,d){if(d){const h=d.factories.slice();c=c.concat(h)}return new o(c)}static extend(c){return{provide:o,useFactory:d=>o.create(c,d||mD()),deps:[[o,new ho,new ct]]}}find(c){const d=this.factories.find(h=>h.supports(c));if(d)return d;throw new we(901,!1)}}return o.\u0275prov=dt({token:o,providedIn:"root",factory:mD}),o})();const yD=oD(null,"core",[]);let g0=(()=>{class o{constructor(c){}}return o.\u0275fac=function(c){return new(c||o)(zt(ty))},o.\u0275mod=ae({type:o}),o.\u0275inj=xt({}),o})();function uy(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}},3942:(wt,Ae,V)=>{V.d(Ae,{Z:()=>Ke});var l=V(2090),j=V(4859),F=V(6881),oe=V(1877);class ue{constructor(we,Oe){this._delegate=we,this.firebase=Oe,(0,F._addComponent)(we,new j.wA("app-compat",()=>this,"PUBLIC")),this.container=we.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(we){this._delegate.automaticDataCollectionEnabled=we}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(we=>{this._delegate.checkDestroyed(),we()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,F.deleteApp)(this._delegate)))}_getService(we,Oe=F._DEFAULT_ENTRY_NAME){var Fe;this._delegate.checkDestroyed();const He=this._delegate.container.getProvider(we);return!He.isInitialized()&&"EXPLICIT"===(null===(Fe=He.getComponent())||void 0===Fe?void 0:Fe.instantiationMode)&&He.initialize(),He.getImmediate({identifier:Oe})}_removeServiceInstance(we,Oe=F._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(we).clearInstance(Oe)}_addComponent(we){(0,F._addComponent)(this._delegate,we)}_addOrOverwriteComponent(we){(0,F._addOrOverwriteComponent)(this._delegate,we)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ie=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),W=function Ce(){const at=function Ee(at){const we={},Oe={__esModule:!0,initializeApp:function Se(Le,ce={}){const it=F.initializeApp(Le,ce);if((0,l.r3)(we,it.name))return we[it.name];const St=new at(it,Oe);return we[it.name]=St,St},app:He,registerVersion:F.registerVersion,setLogLevel:F.setLogLevel,onLog:F.onLog,apps:null,SDK_VERSION:F.SDK_VERSION,INTERNAL:{registerComponent:function Ne(Le){const ce=Le.name,it=ce.replace("-compat","");if(F._registerComponent(Le)&&"PUBLIC"===Le.type){const St=(lt=He())=>{if("function"!=typeof lt[it])throw Ie.create("invalid-app-argument",{appName:ce});return lt[it]()};void 0!==Le.serviceProps&&(0,l.ZB)(St,Le.serviceProps),Oe[it]=St,at.prototype[it]=function(...lt){return this._getService.bind(this,ce).apply(this,Le.multipleInstances?lt:[])}}return"PUBLIC"===Le.type?Oe[it]:null},removeApp:function Fe(Le){delete we[Le]},useAsService:function ze(Le,ce){return"serverAuth"===ce?null:ce},modularAPIs:F}};function He(Le){if(!(0,l.r3)(we,Le=Le||F._DEFAULT_ENTRY_NAME))throw Ie.create("no-app",{appName:Le});return we[Le]}return Oe.default=Oe,Object.defineProperty(Oe,"apps",{get:function Te(){return Object.keys(we).map(Le=>we[Le])}}),He.App=at,Oe}(ue);return at.INTERNAL=Object.assign(Object.assign({},at.INTERNAL),{createFirebaseNamespace:Ce,extendNamespace:function we(Oe){(0,l.ZB)(at,Oe)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),at}(),q=new oe.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){q.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const at=self.firebase.SDK_VERSION;at&&at.indexOf("LITE")>=0&&q.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ke=W;!function Me(at){(0,F.registerVersion)("@firebase/app-compat","0.2.13",at)}()},6881:(wt,Ae,V)=>{V.r(Ae),V.d(Ae,{FirebaseError:()=>oe.ZR,SDK_VERSION:()=>Fi,_DEFAULT_ENTRY_NAME:()=>Wr,_addComponent:()=>pt,_addOrOverwriteComponent:()=>Vt,_apps:()=>fn,_clearComponents:()=>fi,_components:()=>Kt,_getProvider:()=>Fr,_registerComponent:()=>Jn,_removeServiceInstance:()=>Gn,deleteApp:()=>Xn,getApp:()=>pi,getApps:()=>zt,initializeApp:()=>on,onLog:()=>er,registerVersion:()=>Pr,setLogLevel:()=>ri});var l=V(5861),j=V(4859),F=V(1877),oe=V(2090);const ue=(_e,ae)=>ae.some(Ve=>_e instanceof Ve);let re,Ie;const W=new WeakMap,q=new WeakMap,te=new WeakMap,je=new WeakMap,Me=new WeakMap;let we={get(_e,ae,Ve){if(_e instanceof IDBTransaction){if("done"===ae)return q.get(_e);if("objectStoreNames"===ae)return _e.objectStoreNames||te.get(_e);if("store"===ae)return Ve.objectStoreNames[1]?void 0:Ve.objectStore(Ve.objectStoreNames[0])}return Se(_e[ae])},set:(_e,ae,Ve)=>(_e[ae]=Ve,!0),has:(_e,ae)=>_e instanceof IDBTransaction&&("done"===ae||"store"===ae)||ae in _e};function He(_e){return"function"==typeof _e?function Fe(_e){return _e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ce(){return Ie||(Ie=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(_e)?function(...ae){return _e.apply(Te(this),ae),Se(W.get(this))}:function(...ae){return Se(_e.apply(Te(this),ae))}:function(ae,...Ve){const bt=_e.call(Te(this),ae,...Ve);return te.set(bt,ae.sort?ae.sort():[ae]),Se(bt)}}(_e):(_e instanceof IDBTransaction&&function at(_e){if(q.has(_e))return;const ae=new Promise((Ve,bt)=>{const Mt=()=>{_e.removeEventListener("complete",en),_e.removeEventListener("error",Et),_e.removeEventListener("abort",Et)},en=()=>{Ve(),Mt()},Et=()=>{bt(_e.error||new DOMException("AbortError","AbortError")),Mt()};_e.addEventListener("complete",en),_e.addEventListener("error",Et),_e.addEventListener("abort",Et)});q.set(_e,ae)}(_e),ue(_e,function Ee(){return re||(re=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(_e,we):_e)}function Se(_e){if(_e instanceof IDBRequest)return function Ke(_e){const ae=new Promise((Ve,bt)=>{const Mt=()=>{_e.removeEventListener("success",en),_e.removeEventListener("error",Et)},en=()=>{Ve(Se(_e.result)),Mt()},Et=()=>{bt(_e.error),Mt()};_e.addEventListener("success",en),_e.addEventListener("error",Et)});return ae.then(Ve=>{Ve instanceof IDBCursor&&W.set(Ve,_e)}).catch(()=>{}),Me.set(ae,_e),ae}(_e);if(je.has(_e))return je.get(_e);const ae=He(_e);return ae!==_e&&(je.set(_e,ae),Me.set(ae,_e)),ae}const Te=_e=>Me.get(_e),Le=["get","getKey","getAll","getAllKeys","count"],ce=["put","add","delete","clear"],it=new Map;function St(_e,ae){if(!(_e instanceof IDBDatabase)||ae in _e||"string"!=typeof ae)return;if(it.get(ae))return it.get(ae);const Ve=ae.replace(/FromIndex$/,""),bt=ae!==Ve,Mt=ce.includes(Ve);if(!(Ve in(bt?IDBIndex:IDBObjectStore).prototype)||!Mt&&!Le.includes(Ve))return;const en=function(){var Et=(0,l.Z)(function*(yn,...ln){const Kr=this.transaction(yn,Mt?"readwrite":"readonly");let xr=Kr.store;return bt&&(xr=xr.index(ln.shift())),(yield Promise.all([xr[Ve](...ln),Mt&&Kr.done]))[0]});return function(ln){return Et.apply(this,arguments)}}();return it.set(ae,en),en}!function Oe(_e){we=_e(we)}(_e=>({..._e,get:(ae,Ve,bt)=>St(ae,Ve)||_e.get(ae,Ve,bt),has:(ae,Ve)=>!!St(ae,Ve)||_e.has(ae,Ve)}));class lt{constructor(ae){this.container=ae}getPlatformInfoString(){return this.container.getProviders().map(Ve=>{if(function Zt(_e){return"VERSION"===_e.getComponent()?.type}(Ve)){const bt=Ve.getImmediate();return`${bt.library}/${bt.version}`}return null}).filter(Ve=>Ve).join(" ")}}const ft="@firebase/app",Er=new F.Yd("@firebase/app"),Wr="[DEFAULT]",ni={[ft]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},fn=new Map,Kt=new Map;function pt(_e,ae){try{_e.container.addComponent(ae)}catch(Ve){Er.debug(`Component ${ae.name} failed to register with FirebaseApp ${_e.name}`,Ve)}}function Vt(_e,ae){_e.container.addOrOverwriteComponent(ae)}function Jn(_e){const ae=_e.name;if(Kt.has(ae))return Er.debug(`There were multiple attempts to register component ${ae}.`),!1;Kt.set(ae,_e);for(const Ve of fn.values())pt(Ve,_e);return!0}function Fr(_e,ae){const Ve=_e.container.getProvider("heartbeat").getImmediate({optional:!0});return Ve&&Ve.triggerHeartbeat(),_e.container.getProvider(ae)}function Gn(_e,ae,Ve=Wr){Fr(_e,ae).clearInstance(Ve)}function fi(){Kt.clear()}const Cr=new oe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Xt{constructor(ae,Ve,bt){this._isDeleted=!1,this._options=Object.assign({},ae),this._config=Object.assign({},Ve),this._name=Ve.name,this._automaticDataCollectionEnabled=Ve.automaticDataCollectionEnabled,this._container=bt,this.container.addComponent(new j.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ae){this.checkDestroyed(),this._automaticDataCollectionEnabled=ae}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ae){this._isDeleted=ae}checkDestroyed(){if(this.isDeleted)throw Cr.create("app-deleted",{appName:this._name})}}const Fi="9.23.0";function on(_e,ae={}){let Ve=_e;"object"!=typeof ae&&(ae={name:ae});const bt=Object.assign({name:Wr,automaticDataCollectionEnabled:!1},ae),Mt=bt.name;if("string"!=typeof Mt||!Mt)throw Cr.create("bad-app-name",{appName:String(Mt)});if(Ve||(Ve=(0,oe.aH)()),!Ve)throw Cr.create("no-options");const en=fn.get(Mt);if(en){if((0,oe.vZ)(Ve,en.options)&&(0,oe.vZ)(bt,en.config))return en;throw Cr.create("duplicate-app",{appName:Mt})}const Et=new j.H0(Mt);for(const ln of Kt.values())Et.addComponent(ln);const yn=new Xt(Ve,bt,Et);return fn.set(Mt,yn),yn}function pi(_e=Wr){const ae=fn.get(_e);if(!ae&&_e===Wr&&(0,oe.aH)())return on();if(!ae)throw Cr.create("no-app",{appName:_e});return ae}function zt(){return Array.from(fn.values())}function Xn(_e){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,l.Z)(function*(_e){const ae=_e.name;fn.has(ae)&&(fn.delete(ae),yield Promise.all(_e.container.getProviders().map(Ve=>Ve.delete())),_e.isDeleted=!0)})).apply(this,arguments)}function Pr(_e,ae,Ve){var bt;let Mt=null!==(bt=ni[_e])&&void 0!==bt?bt:_e;Ve&&(Mt+=`-${Ve}`);const en=Mt.match(/\s|\//),Et=ae.match(/\s|\//);if(en||Et){const yn=[`Unable to register library "${Mt}" with version "${ae}":`];return en&&yn.push(`library name "${Mt}" contains illegal characters (whitespace or "/")`),en&&Et&&yn.push("and"),Et&&yn.push(`version name "${ae}" contains illegal characters (whitespace or "/")`),void Er.warn(yn.join(" "))}Jn(new j.wA(`${Mt}-version`,()=>({library:Mt,version:ae}),"VERSION"))}function er(_e,ae){if(null!==_e&&"function"!=typeof _e)throw Cr.create("invalid-log-argument");(0,F.Am)(_e,ae)}function ri(_e){(0,F.Ub)(_e)}const Zr="firebase-heartbeat-database",ii=1,G="firebase-heartbeat-store";let z=null;function P(){return z||(z=function Ne(_e,ae,{blocked:Ve,upgrade:bt,blocking:Mt,terminated:en}={}){const Et=indexedDB.open(_e,ae),yn=Se(Et);return bt&&Et.addEventListener("upgradeneeded",ln=>{bt(Se(Et.result),ln.oldVersion,ln.newVersion,Se(Et.transaction),ln)}),Ve&&Et.addEventListener("blocked",ln=>Ve(ln.oldVersion,ln.newVersion,ln)),yn.then(ln=>{en&&ln.addEventListener("close",()=>en()),Mt&&ln.addEventListener("versionchange",Kr=>Mt(Kr.oldVersion,Kr.newVersion,Kr))}).catch(()=>{}),yn}(Zr,ii,{upgrade:(_e,ae)=>{0===ae&&_e.createObjectStore(G)}}).catch(_e=>{throw Cr.create("idb-open",{originalErrorMessage:_e.message})})),z}function k(){return(k=(0,l.Z)(function*(_e){try{return yield(yield P()).transaction(G).objectStore(G).get(ot(_e))}catch(ae){if(ae instanceof oe.ZR)Er.warn(ae.message);else{const Ve=Cr.create("idb-get",{originalErrorMessage:ae?.message});Er.warn(Ve.message)}}})).apply(this,arguments)}function Y(_e,ae){return xe.apply(this,arguments)}function xe(){return(xe=(0,l.Z)(function*(_e,ae){try{const bt=(yield P()).transaction(G,"readwrite");yield bt.objectStore(G).put(ae,ot(_e)),yield bt.done}catch(Ve){if(Ve instanceof oe.ZR)Er.warn(Ve.message);else{const bt=Cr.create("idb-set",{originalErrorMessage:Ve?.message});Er.warn(bt.message)}}})).apply(this,arguments)}function ot(_e){return`${_e.name}!${_e.options.appId}`}class Yt{constructor(ae){this.container=ae,this._heartbeatsCache=null;const Ve=this.container.getProvider("app").getImmediate();this._storage=new $t(Ve),this._heartbeatsCachePromise=this._storage.read().then(bt=>(this._heartbeatsCache=bt,bt))}triggerHeartbeat(){var ae=this;return(0,l.Z)(function*(){const bt=ae.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Mt=Rt();if(null===ae._heartbeatsCache&&(ae._heartbeatsCache=yield ae._heartbeatsCachePromise),ae._heartbeatsCache.lastSentHeartbeatDate!==Mt&&!ae._heartbeatsCache.heartbeats.some(en=>en.date===Mt))return ae._heartbeatsCache.heartbeats.push({date:Mt,agent:bt}),ae._heartbeatsCache.heartbeats=ae._heartbeatsCache.heartbeats.filter(en=>{const Et=new Date(en.date).valueOf();return Date.now()-Et<=2592e6}),ae._storage.overwrite(ae._heartbeatsCache)})()}getHeartbeatsHeader(){var ae=this;return(0,l.Z)(function*(){if(null===ae._heartbeatsCache&&(yield ae._heartbeatsCachePromise),null===ae._heartbeatsCache||0===ae._heartbeatsCache.heartbeats.length)return"";const Ve=Rt(),{heartbeatsToSend:bt,unsentEntries:Mt}=function Tn(_e,ae=1024){const Ve=[];let bt=_e.slice();for(const Mt of _e){const en=Ve.find(Et=>Et.agent===Mt.agent);if(en){if(en.dates.push(Mt.date),Dr(Ve)>ae){en.dates.pop();break}}else if(Ve.push({agent:Mt.agent,dates:[Mt.date]}),Dr(Ve)>ae){Ve.pop();break}bt=bt.slice(1)}return{heartbeatsToSend:Ve,unsentEntries:bt}}(ae._heartbeatsCache.heartbeats),en=(0,oe.L)(JSON.stringify({version:2,heartbeats:bt}));return ae._heartbeatsCache.lastSentHeartbeatDate=Ve,Mt.length>0?(ae._heartbeatsCache.heartbeats=Mt,yield ae._storage.overwrite(ae._heartbeatsCache)):(ae._heartbeatsCache.heartbeats=[],ae._storage.overwrite(ae._heartbeatsCache)),en})()}}function Rt(){return(new Date).toISOString().substring(0,10)}class $t{constructor(ae){this.app=ae,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,oe.hl)()&&(0,oe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ae=this;return(0,l.Z)(function*(){return(yield ae._canUseIndexedDBPromise)&&(yield function L(_e){return k.apply(this,arguments)}(ae.app))||{heartbeats:[]}})()}overwrite(ae){var Ve=this;return(0,l.Z)(function*(){var bt;if(yield Ve._canUseIndexedDBPromise){const en=yield Ve.read();return Y(Ve.app,{lastSentHeartbeatDate:null!==(bt=ae.lastSentHeartbeatDate)&&void 0!==bt?bt:en.lastSentHeartbeatDate,heartbeats:ae.heartbeats})}})()}add(ae){var Ve=this;return(0,l.Z)(function*(){var bt;if(yield Ve._canUseIndexedDBPromise){const en=yield Ve.read();return Y(Ve.app,{lastSentHeartbeatDate:null!==(bt=ae.lastSentHeartbeatDate)&&void 0!==bt?bt:en.lastSentHeartbeatDate,heartbeats:[...en.heartbeats,...ae.heartbeats]})}})()}}function Dr(_e){return(0,oe.L)(JSON.stringify({version:2,heartbeats:_e})).length}!function xo(_e){Jn(new j.wA("platform-logger",ae=>new lt(ae),"PRIVATE")),Jn(new j.wA("heartbeat",ae=>new Yt(ae),"PRIVATE")),Pr(ft,"0.9.13",_e),Pr(ft,"0.9.13","esm2017"),Pr("fire-js","")}("")},4859:(wt,Ae,V)=>{V.d(Ae,{H0:()=>Ee,wA:()=>F});var l=V(5861),j=V(2090);class F{constructor(W,q,te){this.name=W,this.instanceFactory=q,this.type=te,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(W){return this.instantiationMode=W,this}setMultipleInstances(W){return this.multipleInstances=W,this}setServiceProps(W){return this.serviceProps=W,this}setInstanceCreatedCallback(W){return this.onInstanceCreated=W,this}}const oe="[DEFAULT]";class ue{constructor(W,q){this.name=W,this.container=q,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(W){const q=this.normalizeInstanceIdentifier(W);if(!this.instancesDeferred.has(q)){const te=new j.BH;if(this.instancesDeferred.set(q,te),this.isInitialized(q)||this.shouldAutoInitialize())try{const je=this.getOrInitializeService({instanceIdentifier:q});je&&te.resolve(je)}catch{}}return this.instancesDeferred.get(q).promise}getImmediate(W){var q;const te=this.normalizeInstanceIdentifier(W?.identifier),je=null!==(q=W?.optional)&&void 0!==q&&q;if(!this.isInitialized(te)&&!this.shouldAutoInitialize()){if(je)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:te})}catch(Me){if(je)return null;throw Me}}getComponent(){return this.component}setComponent(W){if(W.name!==this.name)throw Error(`Mismatching Component ${W.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=W,this.shouldAutoInitialize()){if(function Ie(Ce){return"EAGER"===Ce.instantiationMode}(W))try{this.getOrInitializeService({instanceIdentifier:oe})}catch{}for(const[q,te]of this.instancesDeferred.entries()){const je=this.normalizeInstanceIdentifier(q);try{const Me=this.getOrInitializeService({instanceIdentifier:je});te.resolve(Me)}catch{}}}}clearInstance(W=oe){this.instancesDeferred.delete(W),this.instancesOptions.delete(W),this.instances.delete(W)}delete(){var W=this;return(0,l.Z)(function*(){const q=Array.from(W.instances.values());yield Promise.all([...q.filter(te=>"INTERNAL"in te).map(te=>te.INTERNAL.delete()),...q.filter(te=>"_delete"in te).map(te=>te._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(W=oe){return this.instances.has(W)}getOptions(W=oe){return this.instancesOptions.get(W)||{}}initialize(W={}){const{options:q={}}=W,te=this.normalizeInstanceIdentifier(W.instanceIdentifier);if(this.isInitialized(te))throw Error(`${this.name}(${te}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const je=this.getOrInitializeService({instanceIdentifier:te,options:q});for(const[Me,Ke]of this.instancesDeferred.entries())te===this.normalizeInstanceIdentifier(Me)&&Ke.resolve(je);return je}onInit(W,q){var te;const je=this.normalizeInstanceIdentifier(q),Me=null!==(te=this.onInitCallbacks.get(je))&&void 0!==te?te:new Set;Me.add(W),this.onInitCallbacks.set(je,Me);const Ke=this.instances.get(je);return Ke&&W(Ke,je),()=>{Me.delete(W)}}invokeOnInitCallbacks(W,q){const te=this.onInitCallbacks.get(q);if(te)for(const je of te)try{je(W,q)}catch{}}getOrInitializeService({instanceIdentifier:W,options:q={}}){let te=this.instances.get(W);if(!te&&this.component&&(te=this.component.instanceFactory(this.container,{instanceIdentifier:(Ce=W,Ce===oe?void 0:Ce),options:q}),this.instances.set(W,te),this.instancesOptions.set(W,q),this.invokeOnInitCallbacks(te,W),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,W,te)}catch{}var Ce;return te||null}normalizeInstanceIdentifier(W=oe){return this.component?this.component.multipleInstances?W:oe:W}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ee{constructor(W){this.name=W,this.providers=new Map}addComponent(W){const q=this.getProvider(W.name);if(q.isComponentSet())throw new Error(`Component ${W.name} has already been registered with ${this.name}`);q.setComponent(W)}addOrOverwriteComponent(W){this.getProvider(W.name).isComponentSet()&&this.providers.delete(W.name),this.addComponent(W)}getProvider(W){if(this.providers.has(W))return this.providers.get(W);const q=new ue(W,this);return this.providers.set(W,q),q}getProviders(){return Array.from(this.providers.values())}}},1877:(wt,Ae,V)=>{V.d(Ae,{Am:()=>Ce,Ub:()=>Ee,Yd:()=>Ie,in:()=>j});const l=[];var j=(()=>{return(W=j||(j={}))[W.DEBUG=0]="DEBUG",W[W.VERBOSE=1]="VERBOSE",W[W.INFO=2]="INFO",W[W.WARN=3]="WARN",W[W.ERROR=4]="ERROR",W[W.SILENT=5]="SILENT",j;var W})();const F={debug:j.DEBUG,verbose:j.VERBOSE,info:j.INFO,warn:j.WARN,error:j.ERROR,silent:j.SILENT},oe=j.INFO,ue={[j.DEBUG]:"log",[j.VERBOSE]:"log",[j.INFO]:"info",[j.WARN]:"warn",[j.ERROR]:"error"},re=(W,q,...te)=>{if(q<W.logLevel)return;const je=(new Date).toISOString(),Me=ue[q];if(!Me)throw new Error(`Attempted to log a message with an invalid logType (value: ${q})`);console[Me](`[${je}]  ${W.name}:`,...te)};class Ie{constructor(q){this.name=q,this._logLevel=oe,this._logHandler=re,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(q){if(!(q in j))throw new TypeError(`Invalid value "${q}" assigned to \`logLevel\``);this._logLevel=q}setLogLevel(q){this._logLevel="string"==typeof q?F[q]:q}get logHandler(){return this._logHandler}set logHandler(q){if("function"!=typeof q)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=q}get userLogHandler(){return this._userLogHandler}set userLogHandler(q){this._userLogHandler=q}debug(...q){this._userLogHandler&&this._userLogHandler(this,j.DEBUG,...q),this._logHandler(this,j.DEBUG,...q)}log(...q){this._userLogHandler&&this._userLogHandler(this,j.VERBOSE,...q),this._logHandler(this,j.VERBOSE,...q)}info(...q){this._userLogHandler&&this._userLogHandler(this,j.INFO,...q),this._logHandler(this,j.INFO,...q)}warn(...q){this._userLogHandler&&this._userLogHandler(this,j.WARN,...q),this._logHandler(this,j.WARN,...q)}error(...q){this._userLogHandler&&this._userLogHandler(this,j.ERROR,...q),this._logHandler(this,j.ERROR,...q)}}function Ee(W){l.forEach(q=>{q.setLogLevel(W)})}function Ce(W,q){for(const te of l){let je=null;q&&q.level&&(je=F[q.level]),te.userLogHandler=null===W?null:(Me,Ke,...at)=>{const we=at.map(Oe=>{if(null==Oe)return null;if("string"==typeof Oe)return Oe;if("number"==typeof Oe||"boolean"==typeof Oe)return Oe.toString();if(Oe instanceof Error)return Oe.message;try{return JSON.stringify(Oe)}catch{return null}}).filter(Oe=>Oe).join(" ");Ke>=(je??Me.logLevel)&&W({level:j[Ke].toLowerCase(),message:we,args:at,type:Me.name})}}}},259:(wt,Ae,V)=>{V.d(Ae,{C6:()=>l.getApps,KN:()=>l.registerVersion,Mq:()=>l.getApp,ZF:()=>l.initializeApp});var l=V(6881);(0,l.registerVersion)("firebase","9.23.0","app")},9260:(wt,Ae,V)=>{V.d(Ae,{Z:()=>l.Z});var l=V(3942);l.Z.registerVersion("firebase","9.23.0","app-compat")},9568:(wt,Ae,V)=>{V.r(Ae);var l=V(5861),j=V(3942),F=V(1389),oe=V(2090),Ie=(V(6881),V(1877),V(4859));function Ee(){return window}const Ce=2e3;function q(){return q=(0,l.Z)(function*(P,L,k){var Y;const{BuildInfo:xe}=Ee();(0,F.as)(L.sessionId,"AuthEvent did not contain a session ID");const ot=yield function Oe(P){return Fe.apply(this,arguments)}(L.sessionId),At={};return(0,F.at)()?At.ibi=xe.packageName:(0,F.au)()?At.apn=xe.packageName:(0,F.av)(P,"operation-not-supported-in-this-environment"),xe.displayName&&(At.appDisplayName=xe.displayName),At.sessionId=ot,(0,F.aw)(P,k,L.type,void 0,null!==(Y=L.eventId)&&void 0!==Y?Y:void 0,At)}),q.apply(this,arguments)}function je(){return(je=(0,l.Z)(function*(P){const{BuildInfo:L}=Ee(),k={};(0,F.at)()?k.iosBundleId=L.packageName:(0,F.au)()?k.androidPackageName=L.packageName:(0,F.av)(P,"operation-not-supported-in-this-environment"),yield(0,F.ax)(P,k)})).apply(this,arguments)}function at(){return(at=(0,l.Z)(function*(P,L,k){const{cordova:Y}=Ee();let xe=()=>{};try{yield new Promise((ot,At)=>{let Tt=null;function Yt(){var $t;ot();const Dr=null===($t=Y.plugins.browsertab)||void 0===$t?void 0:$t.close;"function"==typeof Dr&&Dr(),"function"==typeof k?.close&&k.close()}function Rt(){Tt||(Tt=window.setTimeout(()=>{At((0,F.az)(P,"redirect-cancelled-by-user"))},Ce))}function Tn(){"visible"===document?.visibilityState&&Rt()}L.addPassiveListener(Yt),document.addEventListener("resume",Rt,!1),(0,F.au)()&&document.addEventListener("visibilitychange",Tn,!1),xe=()=>{L.removePassiveListener(Yt),document.removeEventListener("resume",Rt,!1),document.removeEventListener("visibilitychange",Tn,!1),Tt&&window.clearTimeout(Tt)}})}finally{xe()}})).apply(this,arguments)}function Fe(){return(Fe=(0,l.Z)(function*(P){const L=function He(P){if((0,F.as)(/[0-9a-zA-Z]+/.test(P),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(P);const L=new ArrayBuffer(P.length),k=new Uint8Array(L);for(let Y=0;Y<P.length;Y++)k[Y]=P.charCodeAt(Y);return k}(P),k=yield crypto.subtle.digest("SHA-256",L);return Array.from(new Uint8Array(k)).map(xe=>xe.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const Se=20;class Te extends F.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(L=>{this.resolveInialized=L})}addPassiveListener(L){this.passiveListeners.add(L)}removePassiveListener(L){this.passiveListeners.delete(L)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(L){return this.resolveInialized(),this.passiveListeners.forEach(k=>k(L)),super.onEvent(L)}initialized(){var L=this;return(0,l.Z)(function*(){yield L.initPromise})()}}function Le(P){return ce.apply(this,arguments)}function ce(){return(ce=(0,l.Z)(function*(P){const L=yield lt()._get(Zt(P));return L&&(yield lt()._remove(Zt(P))),L})).apply(this,arguments)}function St(){const P=[],L="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let k=0;k<Se;k++){const Y=Math.floor(Math.random()*L.length);P.push(L.charAt(Y))}return P.join("")}function lt(){return(0,F.aC)(F.b)}function Zt(P){return(0,F.aD)("authEvent",P.config.apiKey,P.name)}function Er(P){if(!P?.includes("?"))return{};const[L,...k]=P.split("?");return(0,oe.zd)(k.join("?"))}const he=class io{constructor(){this._redirectPersistence=F.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=F.aE,this._overrideRedirectResult=F.aF}_initialize(L){var k=this;return(0,l.Z)(function*(){const Y=L._key();let xe=k.eventManagers.get(Y);return xe||(xe=new Te(L),k.eventManagers.set(Y,xe),k.attachCallbackListeners(L,xe)),xe})()}_openPopup(L){(0,F.av)(L,"operation-not-supported-in-this-environment")}_openRedirect(L,k,Y,xe){var ot=this;return(0,l.Z)(function*(){!function we(P){var L,k,Y,xe,ot,At,Tt,Yt,Rt,Tn;const $t=Ee();(0,F.aA)("function"==typeof(null===(L=$t?.universalLinks)||void 0===L?void 0:L.subscribe),P,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,F.aA)(typeof(null===(k=$t?.BuildInfo)||void 0===k?void 0:k.packageName)<"u",P,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,F.aA)("function"==typeof(null===(ot=null===(xe=null===(Y=$t?.cordova)||void 0===Y?void 0:Y.plugins)||void 0===xe?void 0:xe.browsertab)||void 0===ot?void 0:ot.openUrl),P,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,F.aA)("function"==typeof(null===(Yt=null===(Tt=null===(At=$t?.cordova)||void 0===At?void 0:At.plugins)||void 0===Tt?void 0:Tt.browsertab)||void 0===Yt?void 0:Yt.isAvailable),P,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,F.aA)("function"==typeof(null===(Tn=null===(Rt=$t?.cordova)||void 0===Rt?void 0:Rt.InAppBrowser)||void 0===Tn?void 0:Tn.open),P,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(L);const At=yield ot._initialize(L);yield At.initialized(),At.resetRedirect(),(0,F.aG)(),yield ot._originValidation(L);const Tt=function Ne(P,L,k=null){return{type:L,eventId:k,urlResponse:null,sessionId:St(),postBody:null,tenantId:P.tenantId,error:(0,F.az)(P,"no-auth-event")}}(L,Y,xe);yield function ze(P,L){return lt()._set(Zt(P),L)}(L,Tt);const Yt=yield function W(P,L,k){return q.apply(this,arguments)}(L,Tt,k),Rt=yield function Me(P){const{cordova:L}=Ee();return new Promise(k=>{L.plugins.browsertab.isAvailable(Y=>{let xe=null;Y?L.plugins.browsertab.openUrl(P):xe=L.InAppBrowser.open(P,(0,F.ay)()?"_blank":"_system","location=yes"),k(xe)})})}(Yt);return function Ke(P,L,k){return at.apply(this,arguments)}(L,At,Rt)})()}_isIframeWebStorageSupported(L,k){throw new Error("Method not implemented.")}_originValidation(L){const k=L._key();return this.originValidationPromises[k]||(this.originValidationPromises[k]=function te(P){return je.apply(this,arguments)}(L)),this.originValidationPromises[k]}attachCallbackListeners(L,k){const{universalLinks:Y,handleOpenURL:xe,BuildInfo:ot}=Ee(),At=setTimeout((0,l.Z)(function*(){yield Le(L),k.onEvent(ge())}),500),Tt=function(){var Tn=(0,l.Z)(function*($t){clearTimeout(At);const Dr=yield Le(L);let xo=null;Dr&&$t?.url&&(xo=function it(P,L){var k,Y;const xe=function Do(P){const L=Er(P),k=L.link?decodeURIComponent(L.link):void 0,Y=Er(k).link,xe=L.deep_link_id?decodeURIComponent(L.deep_link_id):void 0;return Er(xe).link||xe||Y||k||P}(L);if(xe.includes("/__/auth/callback")){const ot=Er(xe),At=ot.firebaseError?function ft(P){try{return JSON.parse(P)}catch{return null}}(decodeURIComponent(ot.firebaseError)):null,Tt=null===(Y=null===(k=At?.code)||void 0===k?void 0:k.split("auth/"))||void 0===Y?void 0:Y[1],Yt=Tt?(0,F.az)(Tt):null;return Yt?{type:P.type,eventId:P.eventId,tenantId:P.tenantId,error:Yt,urlResponse:null,sessionId:null,postBody:null}:{type:P.type,eventId:P.eventId,tenantId:P.tenantId,sessionId:P.sessionId,urlResponse:xe,postBody:null}}return null}(Dr,$t.url)),k.onEvent(xo||ge())});return function(Dr){return Tn.apply(this,arguments)}}();typeof Y<"u"&&"function"==typeof Y.subscribe&&Y.subscribe(null,Tt);const Yt=xe,Rt=`${ot.packageName.toLowerCase()}://`;Ee().handleOpenURL=function(){var Tn=(0,l.Z)(function*($t){if($t.toLowerCase().startsWith(Rt)&&Tt({url:$t}),"function"==typeof Yt)try{Yt($t)}catch(Dr){console.error(Dr)}});return function($t){return Tn.apply(this,arguments)}}()}};function ge(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,F.az)("no-auth-event")}}const Be=1e3;function ut(){var P;return(null===(P=self?.location)||void 0===P?void 0:P.protocol)||null}function hn(P=(0,oe.z$)()){return!("file:"!==ut()&&"ionic:"!==ut()&&"capacitor:"!==ut()||!P.toLowerCase().match(/iphone|ipad|ipod|android/))}function ur(){try{const P=self.localStorage,L=F.aL();if(P)return P.setItem(L,"1"),P.removeItem(L),!function gn(P=(0,oe.z$)()){return function sn(){return(0,oe.w1)()&&11===document?.documentMode}()||function Rn(P=(0,oe.z$)()){return/Edge\/\d+/.test(P)}(P)}()||(0,oe.hl)()}catch{return Fn()&&(0,oe.hl)()}return!1}function Fn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Pn(){return(function dt(){return"http:"===ut()||"https:"===ut()}()||(0,oe.ru)()||hn())&&!function xt(){return(0,oe.b$)()||(0,oe.UG)()}()&&ur()&&!Fn()}function dr(){return hn()&&typeof document<"u"}function Yn(){return(Yn=(0,l.Z)(function*(){return!!dr()&&new Promise(P=>{const L=setTimeout(()=>{P(!1)},Be);document.addEventListener("deviceready",()=>{clearTimeout(L),P(!0)})})})).apply(this,arguments)}const $n={LOCAL:"local",NONE:"none",SESSION:"session"},oo=F.aA,Qn="persistence";function ni(P){return fn.apply(this,arguments)}function fn(){return(fn=(0,l.Z)(function*(P){yield P._initializationPromise;const L=pt(),k=F.aD(Qn,P.config.apiKey,P.name);L&&L.setItem(k,P._getPersistence())})).apply(this,arguments)}function pt(){var P;try{return(null===(P=function _t(){return typeof window<"u"?window:null}())||void 0===P?void 0:P.sessionStorage)||null}catch{return null}}const Vt=F.aA;class Jn{constructor(){this.browserResolver=F.aC(F.k),this.cordovaResolver=F.aC(he),this.underlyingResolver=null,this._redirectPersistence=F.a,this._completeRedirectFn=F.aE,this._overrideRedirectResult=F.aF}_initialize(L){var k=this;return(0,l.Z)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._initialize(L)})()}_openPopup(L,k,Y,xe){var ot=this;return(0,l.Z)(function*(){return yield ot.selectUnderlyingResolver(),ot.assertedUnderlyingResolver._openPopup(L,k,Y,xe)})()}_openRedirect(L,k,Y,xe){var ot=this;return(0,l.Z)(function*(){return yield ot.selectUnderlyingResolver(),ot.assertedUnderlyingResolver._openRedirect(L,k,Y,xe)})()}_isIframeWebStorageSupported(L,k){this.assertedUnderlyingResolver._isIframeWebStorageSupported(L,k)}_originValidation(L){return this.assertedUnderlyingResolver._originValidation(L)}get _shouldInitProactively(){return dr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Vt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var L=this;return(0,l.Z)(function*(){if(L.underlyingResolver)return;const k=yield function Di(){return Yn.apply(this,arguments)}();L.underlyingResolver=k?L.cordovaResolver:L.browserResolver})()}}function Fr(P){return P.unwrap()}function fi(P){return Cr(P)}function Cr(P){const{_tokenResponse:L}=P instanceof oe.ZR?P.customData:P;if(!L)return null;if(!(P instanceof oe.ZR)&&"temporaryProof"in L&&"phoneNumber"in L)return F.P.credentialFromResult(P);const k=L.providerId;if(!k||k===F.p.PASSWORD)return null;let Y;switch(k){case F.p.GOOGLE:Y=F.V;break;case F.p.FACEBOOK:Y=F.U;break;case F.p.GITHUB:Y=F.W;break;case F.p.TWITTER:Y=F.Z;break;default:const{oauthIdToken:xe,oauthAccessToken:ot,oauthTokenSecret:At,pendingToken:Tt,nonce:Yt}=L;return ot||At||xe||Tt?Tt?k.startsWith("saml.")?F.aO._create(k,Tt):F.L._fromParams({providerId:k,signInMethod:k,pendingToken:Tt,idToken:xe,accessToken:ot}):new F.X(k).credential({idToken:xe,accessToken:ot,rawNonce:Yt}):null}return P instanceof oe.ZR?Y.credentialFromError(P):Y.credentialFromResult(P)}function Xt(P,L){return L.catch(k=>{throw k instanceof oe.ZR&&function qn(P,L){var k;const Y=null===(k=L.customData)||void 0===k?void 0:k._tokenResponse;if("auth/multi-factor-auth-required"===L?.code)L.resolver=new pi(P,F.aq(P,L));else if(Y){const xe=Cr(L),ot=L;xe&&(ot.credential=xe,ot.tenantId=Y.tenantId||void 0,ot.email=Y.email||void 0,ot.phoneNumber=Y.phoneNumber||void 0)}}(P,k),k}).then(k=>{const xe=k.user;return{operationType:k.operationType,credential:fi(k),additionalUserInfo:F.ao(k),user:zt.getOrCreate(xe)}})}function Fi(P,L){return on.apply(this,arguments)}function on(){return(on=(0,l.Z)(function*(P,L){const k=yield L;return{verificationId:k.verificationId,confirm:Y=>Xt(P,k.confirm(Y))}})).apply(this,arguments)}class pi{constructor(L,k){this.resolver=k,this.auth=function Gn(P){return P.wrapped()}(L)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(L){return Xt(Fr(this.auth),this.resolver.resolveSignIn(L))}}class zt{constructor(L){this._delegate=L,this.multiFactor=F.ar(L)}static getOrCreate(L){return zt.USER_MAP.has(L)||zt.USER_MAP.set(L,new zt(L)),zt.USER_MAP.get(L)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(L){return this._delegate.getIdTokenResult(L)}getIdToken(L){return this._delegate.getIdToken(L)}linkAndRetrieveDataWithCredential(L){return this.linkWithCredential(L)}linkWithCredential(L){var k=this;return(0,l.Z)(function*(){return Xt(k.auth,F.a0(k._delegate,L))})()}linkWithPhoneNumber(L,k){var Y=this;return(0,l.Z)(function*(){return Fi(Y.auth,F.l(Y._delegate,L,k))})()}linkWithPopup(L){var k=this;return(0,l.Z)(function*(){return Xt(k.auth,F.d(k._delegate,L,Jn))})()}linkWithRedirect(L){var k=this;return(0,l.Z)(function*(){return yield ni(F.aH(k.auth)),F.g(k._delegate,L,Jn)})()}reauthenticateAndRetrieveDataWithCredential(L){return this.reauthenticateWithCredential(L)}reauthenticateWithCredential(L){var k=this;return(0,l.Z)(function*(){return Xt(k.auth,F.a1(k._delegate,L))})()}reauthenticateWithPhoneNumber(L,k){return Fi(this.auth,F.r(this._delegate,L,k))}reauthenticateWithPopup(L){return Xt(this.auth,F.e(this._delegate,L,Jn))}reauthenticateWithRedirect(L){var k=this;return(0,l.Z)(function*(){return yield ni(F.aH(k.auth)),F.h(k._delegate,L,Jn)})()}sendEmailVerification(L){return F.ae(this._delegate,L)}unlink(L){var k=this;return(0,l.Z)(function*(){return yield F.an(k._delegate,L),k})()}updateEmail(L){return F.aj(this._delegate,L)}updatePassword(L){return F.ak(this._delegate,L)}updatePhoneNumber(L){return F.u(this._delegate,L)}updateProfile(L){return F.ai(this._delegate,L)}verifyBeforeUpdateEmail(L,k){return F.af(this._delegate,L,k)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}zt.USER_MAP=new WeakMap;const Xn=F.aA;let Ln=(()=>{class P{constructor(k,Y){if(this.app=k,Y.isInitialized())return this._delegate=Y.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:xe}=k.options;Xn(xe,"invalid-api-key",{appName:k.name}),Xn(xe,"invalid-api-key",{appName:k.name});const ot=typeof window<"u"?Jn:void 0;this._delegate=Y.initialize({options:{persistence:er(xe,k.name),popupRedirectResolver:ot}}),this._delegate._updateErrorMap(F.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?zt.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(k){this._delegate.languageCode=k}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(k){this._delegate.tenantId=k}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(k,Y){F.I(this._delegate,k,Y)}applyActionCode(k){return F.a5(this._delegate,k)}checkActionCode(k){return F.a6(this._delegate,k)}confirmPasswordReset(k,Y){return F.a4(this._delegate,k,Y)}createUserWithEmailAndPassword(k,Y){var xe=this;return(0,l.Z)(function*(){return Xt(xe._delegate,F.a8(xe._delegate,k,Y))})()}fetchProvidersForEmail(k){return this.fetchSignInMethodsForEmail(k)}fetchSignInMethodsForEmail(k){return F.ad(this._delegate,k)}isSignInWithEmailLink(k){return F.ab(this._delegate,k)}getRedirectResult(){var k=this;return(0,l.Z)(function*(){Xn(Pn(),k._delegate,"operation-not-supported-in-this-environment");const Y=yield F.j(k._delegate,Jn);return Y?Xt(k._delegate,Promise.resolve(Y)):{credential:null,user:null}})()}addFrameworkForLogging(k){!function be(P,L){(0,F.aH)(P)._logFramework(L)}(this._delegate,k)}onAuthStateChanged(k,Y,xe){const{next:ot,error:At,complete:Tt}=Pr(k,Y,xe);return this._delegate.onAuthStateChanged(ot,At,Tt)}onIdTokenChanged(k,Y,xe){const{next:ot,error:At,complete:Tt}=Pr(k,Y,xe);return this._delegate.onIdTokenChanged(ot,At,Tt)}sendSignInLinkToEmail(k,Y){return F.aa(this._delegate,k,Y)}sendPasswordResetEmail(k,Y){return F.a3(this._delegate,k,Y||void 0)}setPersistence(k){var Y=this;return(0,l.Z)(function*(){let xe;switch(function Wr(P,L){oo(Object.values($n).includes(L),P,"invalid-persistence-type"),(0,oe.b$)()?oo(L!==$n.SESSION,P,"unsupported-persistence-type"):(0,oe.UG)()?oo(L===$n.NONE,P,"unsupported-persistence-type"):Fn()?oo(L===$n.NONE||L===$n.LOCAL&&(0,oe.hl)(),P,"unsupported-persistence-type"):oo(L===$n.NONE||ur(),P,"unsupported-persistence-type")}(Y._delegate,k),k){case $n.SESSION:xe=F.a;break;case $n.LOCAL:xe=(yield F.aC(F.i)._isAvailable())?F.i:F.b;break;case $n.NONE:xe=F.N;break;default:return F.av("argument-error",{appName:Y._delegate.name})}return Y._delegate.setPersistence(xe)})()}signInAndRetrieveDataWithCredential(k){return this.signInWithCredential(k)}signInAnonymously(){return Xt(this._delegate,F._(this._delegate))}signInWithCredential(k){return Xt(this._delegate,F.$(this._delegate,k))}signInWithCustomToken(k){return Xt(this._delegate,F.a2(this._delegate,k))}signInWithEmailAndPassword(k,Y){return Xt(this._delegate,F.a9(this._delegate,k,Y))}signInWithEmailLink(k,Y){return Xt(this._delegate,F.ac(this._delegate,k,Y))}signInWithPhoneNumber(k,Y){return Fi(this._delegate,F.s(this._delegate,k,Y))}signInWithPopup(k){var Y=this;return(0,l.Z)(function*(){return Xn(Pn(),Y._delegate,"operation-not-supported-in-this-environment"),Xt(Y._delegate,F.c(Y._delegate,k,Jn))})()}signInWithRedirect(k){var Y=this;return(0,l.Z)(function*(){return Xn(Pn(),Y._delegate,"operation-not-supported-in-this-environment"),yield ni(Y._delegate),F.f(Y._delegate,k,Jn)})()}updateCurrentUser(k){return this._delegate.updateCurrentUser(k)}verifyPasswordResetCode(k){return F.a7(this._delegate,k)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return P.Persistence=$n,P})();function Pr(P,L,k){let Y=P;"function"!=typeof P&&({next:Y,error:L,complete:k}=P);const xe=Y;return{next:At=>xe(At&&zt.getOrCreate(At)),error:L,complete:k}}function er(P,L){const k=function Kt(P,L){const k=pt();if(!k)return[];const Y=F.aD(Qn,P,L);switch(k.getItem(Y)){case $n.NONE:return[F.N];case $n.LOCAL:return[F.i,F.a];case $n.SESSION:return[F.a];default:return[]}}(P,L);if(typeof self<"u"&&!k.includes(F.i)&&k.push(F.i),typeof window<"u")for(const Y of[F.b,F.a])k.includes(Y)||k.push(Y);return k.includes(F.N)||k.push(F.N),k}class ri{constructor(){this.providerId="phone",this._delegate=new F.P(Fr(j.Z.auth()))}static credential(L,k){return F.P.credential(L,k)}verifyPhoneNumber(L,k){return this._delegate.verifyPhoneNumber(L,k)}unwrap(){return this._delegate}}ri.PHONE_SIGN_IN_METHOD=F.P.PHONE_SIGN_IN_METHOD,ri.PROVIDER_ID=F.P.PROVIDER_ID;const Zr=F.aA;class ii{constructor(L,k,Y=j.Z.app()){var xe;Zr(null===(xe=Y.options)||void 0===xe?void 0:xe.apiKey,"invalid-api-key",{appName:Y.name}),this._delegate=new F.R(L,k,Y.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function z(P){P.INTERNAL.registerComponent(new Ie.wA("auth-compat",L=>{const k=L.getProvider("app-compat").getImmediate(),Y=L.getProvider("auth");return new Ln(k,Y)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:F.A.EMAIL_SIGNIN,PASSWORD_RESET:F.A.PASSWORD_RESET,RECOVER_EMAIL:F.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:F.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:F.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:F.A.VERIFY_EMAIL}},EmailAuthProvider:F.Q,FacebookAuthProvider:F.U,GithubAuthProvider:F.W,GoogleAuthProvider:F.V,OAuthProvider:F.X,SAMLAuthProvider:F.Y,PhoneAuthProvider:ri,PhoneMultiFactorGenerator:F.m,RecaptchaVerifier:ii,TwitterAuthProvider:F.Z,Auth:Ln,AuthCredential:F.J,Error:oe.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),P.registerVersion("@firebase/auth-compat","0.4.2")}(j.Z)},5861:(wt,Ae,V)=>{function l(F,oe,ue,re,Ie,Ee,Ce){try{var W=F[Ee](Ce),q=W.value}catch(te){return void ue(te)}W.done?oe(q):Promise.resolve(q).then(re,Ie)}function j(F){return function(){var oe=this,ue=arguments;return new Promise(function(re,Ie){var Ee=F.apply(oe,ue);function Ce(q){l(Ee,re,Ie,Ce,W,"next",q)}function W(q){l(Ee,re,Ie,Ce,W,"throw",q)}Ce(void 0)})}}V.d(Ae,{Z:()=>j})},7582:(wt,Ae,V)=>{function oe(he,ge){var be={};for(var ne in he)Object.prototype.hasOwnProperty.call(he,ne)&&ge.indexOf(ne)<0&&(be[ne]=he[ne]);if(null!=he&&"function"==typeof Object.getOwnPropertySymbols){var Re=0;for(ne=Object.getOwnPropertySymbols(he);Re<ne.length;Re++)ge.indexOf(ne[Re])<0&&Object.prototype.propertyIsEnumerable.call(he,ne[Re])&&(be[ne[Re]]=he[ne[Re]])}return be}function te(he,ge,be,ne){return new(be||(be=Promise))(function(Be,ut){function dt(sn){try{xt(ne.next(sn))}catch(Rn){ut(Rn)}}function hn(sn){try{xt(ne.throw(sn))}catch(Rn){ut(Rn)}}function xt(sn){sn.done?Be(sn.value):function Re(Be){return Be instanceof be?Be:new be(function(ut){ut(Be)})}(sn.value).then(dt,hn)}xt((ne=ne.apply(he,ge||[])).next())})}function Se(he){return this instanceof Se?(this.v=he,this):new Se(he)}function Te(he,ge,be){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Re,ne=be.apply(he,ge||[]),Be=[];return Re={},ut("next"),ut("throw"),ut("return"),Re[Symbol.asyncIterator]=function(){return this},Re;function ut(gn){ne[gn]&&(Re[gn]=function(ur){return new Promise(function(Fn,Pn){Be.push([gn,ur,Fn,Pn])>1||dt(gn,ur)})})}function dt(gn,ur){try{!function hn(gn){gn.value instanceof Se?Promise.resolve(gn.value.v).then(xt,sn):Rn(Be[0][2],gn)}(ne[gn](ur))}catch(Fn){Rn(Be[0][3],Fn)}}function xt(gn){dt("next",gn)}function sn(gn){dt("throw",gn)}function Rn(gn,ur){gn(ur),Be.shift(),Be.length&&dt(Be[0][0],Be[0][1])}}function ze(he){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var be,ge=he[Symbol.asyncIterator];return ge?ge.call(he):(he=function at(he){var ge="function"==typeof Symbol&&Symbol.iterator,be=ge&&he[ge],ne=0;if(be)return be.call(he);if(he&&"number"==typeof he.length)return{next:function(){return he&&ne>=he.length&&(he=void 0),{value:he&&he[ne++],done:!he}}};throw new TypeError(ge?"Object is not iterable.":"Symbol.iterator is not defined.")}(he),be={},ne("next"),ne("throw"),ne("return"),be[Symbol.asyncIterator]=function(){return this},be);function ne(Be){be[Be]=he[Be]&&function(ut){return new Promise(function(dt,hn){!function Re(Be,ut,dt,hn){Promise.resolve(hn).then(function(xt){Be({value:xt,done:dt})},ut)}(dt,hn,(ut=he[Be](ut)).done,ut.value)})}}}V.d(Ae,{FC:()=>Te,KL:()=>ze,_T:()=>oe,mG:()=>te,qq:()=>Se}),"function"==typeof SuppressedError&&SuppressedError}},wt=>{wt(wt.s=3371)}]);